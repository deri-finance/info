(this["webpackJsonpderi-client"]=this["webpackJsonpderi-client"]||[]).push([[13],{1012:function(e,t,n){"use strict";var a,c,i=n(21),s=n(131),r=n(53),o=n(5),l=n(50),d=n(10),u=(n(90),n(1072)),b=n(49),j=n(26),p=n(14),f=n(9),x=Object(b.a)(u.a)(a||(a=Object(l.a)(["\n  width : ","px;\n"])),(function(e){return e.width})),h=b.a.div(c||(c=Object(l.a)(["\n  width : ",";\n  height : ",";\n"])),(function(e){return/px$/.test(e.width)?e.width:"".concat(e.width,"px")}),(function(e){return/px$/.test(e.height)?e.height:"".concat(e.height,"px")}));t.a=function(e){var t=Object(d.useState)(Object(f.jsx)("span",{className:"loading-line"})),n=Object(o.a)(t,2),a=n[0],c=n[1],l=Object(d.useState)(!0),u=Object(o.a)(l,2),b=u[0],v=u[1],m=function(){var t=e.allowZero;return"object"!==Object(r.a)(e.value)&&void 0!==e.value&&""!==e.value&&!isNaN(e.value)&&"NaN"!==e.value||0===Math.abs(e.value)&&!0===t};return Object(d.useEffect)((function(){var t=e.allowZero,n=(e.wallet,e.closeShowLoadingEffectAfterLoaded),a=e.defaultValue,r=void 0===a?"--":a,o=Object(s.a)(e,["allowZero","wallet","closeShowLoadingEffectAfterLoaded","defaultValue"]);if(m())!t&&o.value&&/\d+\.0*[1-9]+/.test(o.value)&&0===+Object(p.bg)(o.value).toFixed(+o.decimalScale||2)&&(o.decimalScale=Object(j.f)(Math.abs(o.value))+2),o.value=Object(j.K)(o.value),o.value&&/\d+.9{6}/.test(o.value)&&(o.value=(+o.value).toFixed(5)),c(Object(f.jsx)(x,Object(i.a)(Object(i.a)({},o),{},{displayType:"text",fixedDecimalScale:!0,thousandSeparator:!0})));else if(b){var l=e.width,d=e.height;c(Object(f.jsx)(h,{className:"loading-line",width:l,height:d})),n&&v(!1)}var u=window.setTimeout((function(){m()||c(r)}),6e4);return function(){clearTimeout(u)}}),[e.value,e.decimalScale,e.suffix]),a}},1030:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(49),c=n(1138),i=n.n(c),s=n(132),r=n(26),o=n(1139),l=n(9);const d=a.a.div`
  display:${e=>e.block};
  .text {
    border-bottom : 1px dashed #93A1B8;
    width : max-content;
    cursor : pointer;
    display:${e=>e.block}
  }
  
  .__react_component_tooltip.tooltip.show {
    font-weight : ${e=>e.isWin?400:600} 
  }
`;function u({text:e,id:t=Object(r.a)(e),tip:n,multiline:a,html:c,className:u,element:b="",block:j="block",width:p="auto",children:f,tiggerEvent:x}){return Object(l.jsxs)(d,{className:u,block:j,isWin:o.isWindows,children:[Object(l.jsx)("div",{className:"text","data-for":t,"data-tip":c?i.a.renderToString(b):n,"data-event":Object(r.z)()?"click":x,"data-html":c,children:e||f}),n&&Object(l.jsx)(s.a,{id:t,width:p,padding:"12",place:"bottom",overridePosition:(e,t,n,a,c,i,s,r)=>{const o=n.getBoundingClientRect(),l=a.getBoundingClientRect();let{x:d,y:u,height:b,width:j}=o;const{left:p,top:f}=e;return d+l.width/2>document.documentElement.clientWidth?d-=Math.abs(j-l.width):d-(l.width-j)/2<0?d-=j:d-=(l.width-j)/2,u+b+l.height>=document.documentElement.clientHeight?u=u+b-l.height:u+=b,d<0&&(d=0),u<0&&(u=0),{top:u,left:d}},html:c,borderRadius:8,multiline:a})]})}},1052:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a,c=n(5),i=n(50),s=n(10),r=n(267),o=n(49),l=n(9),d=o.a.div(a||(a=Object(i.a)(["\n    display : flex;\n    width: 100%;\n    justify-content: space-between;\n  "])));function u(e){var t=e.groups,n=void 0===t?["25%","50%","75%","100%"]:t,a=e.selectedBorderColor,i=e.defaultBorderColor,o=e.onChange,u=e.defaultValue,b=e.outline,j=e.outlineColor,p=e.width,f=e.height,x=e.bgColor,h=e.className,v=e.disabled,m=e.canUnselected,O=void 0===m||m,g=Object(s.useState)(u),k=Object(c.a)(g,2),y=k[0],w=k[1];return Object(s.useEffect)((function(){w(u)}),[u]),Object(l.jsx)(d,{className:h,children:n.map((function(e,t){return Object(l.jsx)(r.a,{label:e,selectedBorderColor:a,isSelected:e===y,disabled:v,outline:b,bgColor:x,className:"g-button",defaultBorderColor:i,outlineColor:j,width:p,height:f,onClick:function(){var t;(t=e)!==y?(w(t),o&&o(t)):O&&t===y?(w(""),o&&o("")):w(t)}},t)}))})}},1116:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a,c=n(21),i=n(50),s=n(10),r=n(49),o=n(14),l=n(9),d=r.a.div(a||(a=Object(i.a)(["\ndisplay : flex;\nfont-size : 14px;\nalign-items : center;\nbackground: rgba(85, 119, 253, 0.1);\nborder-radius: 4px;\njustify-content: space-between;\ninput {\n  background: transparent;\n  border-radius: 4px;\n  // min-width: 240px;\n  border: 0;\n  width : ",";\n  height: 56px;\n  color : #E0ECFF;\n  font-size : 18px;\n  padding-left: 16px;\n}\ninput:focus {\n  outline: none;\n}\n.unit {\n  margin-right: ",";\n}\n"])),(function(e){return e.inputWidth}),(function(e){return e.unitPadding}));function u(e){var t=e.value,n=e.unit,a=e.max,i=e.step,r=e.onChange,u=e.styles,b=void 0===u?{}:u,j=e.focus,p=e.placeholder,f=void 0===p?"":p,x=e.unitPadding,h=void 0===x?"24px":x,v=e.minTradeVolume,m=e.decimal,O=void 0===m?2:m,g=e.readOnly,k=e.inputWidth,y=void 0===k?"50%":k,w=e.className,N=e.disabled,S=void 0!==N&&N,T=e.onBlur,C=e.onFocus,I=Object(s.useRef)(null);return Object(s.useEffect)((function(){I.current.setCustomValidity(""),I.current&&j&&I.current.focus()}),[j]),Object(l.jsxs)(d,{unitPadding:h,inputWidth:y,className:w,style:Object(c.a)({},b),children:[Object(l.jsx)("input",{placeholder:f,type:"number",onBlur:T,onFocus:C,disabled:S,value:t,step:i,ref:I,onChange:function(e){var t="\\d+\\.\\d{0,".concat(O,"}$"),n=new RegExp(t),c=e.target.value;if(a&&Object(o.bg)(c).gt(a))r&&r(a);else if(c<0||isNaN(c))r&&r("");else if(c){if(v>=1)if(c/v>=1)r&&r(Object(o.bg)(c).div(v).integerValue()*v);else r&&r(c*v);else if(/\d+\./.test(c)&&!n.test(c)){var i=c.substring(0,c.indexOf(".")+1+O);r&&r(i)}else r&&r(c)}else r&&r(c)},readOnly:g}),Object(l.jsx)("div",{className:"unit",children:n})]})}},1117:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a,c=n(5),i=n(50),s=n(49),r=n(10),o=n(36),l=n(9),d=s.a.div(a||(a=Object(i.a)(["\n    cursor: pointer;\n    width:","px;\n    height:","px;\n    display:flex;\n    .tab-left.inactive{\n      border-radius:0px 0px 4px 0px;\n    }\n    .tab-right.inactive{\n      border-radius:0px 0px 0px 4px;\n    }\n    .tab-left.active{\n      border-radius:0px 4px 0px 0px;\n      ",";\n    }\n    .tab-right.active{\n      border-radius:4px 0px 0px 0px;\n      ",";\n    }\n    .inactive,.active{\n      width:50%;\n      box-sizing: content-box;\n      font-size:","px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      img{\n        margin-right:","px\n      }\n    }\n    .inactive{\n      background:",";\n      ","\n    }\n    .active {\n      color: ",";\n      background : ",";\n      ",";\n    }\n    .icon-tab{\n      margin-right:20px;\n      width:25px;\n      height:25px;\n    }\n  "])),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.borderR}),(function(e){return e.borderL}),(function(e){return e.size}),(function(e){return e.iconMarginRight}),(function(e){return e.inactiveBgColor}),(function(e){return e.borderB}),(function(e){return e.activeFontColor}),(function(e){return e.activeBgColor}),(function(e){return e.borderT}));function u(e){var t=e.tabSet,n=e.inactiveBgColor,a=e.iconMarginRight,i=e.activeBgColor,s=(e.icon,e.className),u=e.width,b=void 0===u?238:u,j=e.height,p=void 0===j?47:j,f=e.size,x=void 0===f?16:f,h=e.borderTop,v=void 0!==h&&h,m=e.borderBottom,O=void 0!==m&&m,g=e.divider,k=void 0!==g&&g,y=Object.keys(t),w=Object(r.useState)(y[0]),N=Object(c.a)(w,2),S=N[0],T=N[1],C=Object(r.useState)(),I=Object(c.a)(C,2),_=I[0],E=I[1],q=Object(r.useState)(),L=Object(c.a)(q,2),B=L[0],A=L[1],F=Object(r.useState)(),D=Object(c.a)(F,2),R=D[0],z=D[1],P=Object(r.useState)(),W=Object(c.a)(P,2),Z=W[0],M=W[1],U=Object(r.useState)(),V=Object(c.a)(U,2),$=V[0],H=V[1],K=Object(r.useState)(),J=Object(c.a)(K,2),X=J[0],Y=J[1];return Object(r.useEffect)((function(){var e=Object.keys(t);T(e[0])}),[t]),Object(r.useEffect)((function(){var e=Object.keys(t),n=S||e[0];if(t[n]){E(t[n].style);var a=v?"border-top:1px solid ".concat(t[n].borderColor):"border-top:0",c=O?"border-bottom:1px solid ".concat(t[n].borderColor):"border-bottom:0",i=k?"border-left:1px solid ".concat(t[n].borderColor):"border-left:0",s=k?"border-right:1px solid ".concat(t[n].borderColor):"border-right:0",r=t[n].fontColor?t[n].fontColor:"#FFFFFF";A(a),z(i),M(c),H(s),Y(r)}}),[t,S]),Object(l.jsxs)("div",{style:_,className:s,children:[Object(l.jsx)(d,{className:"tab-header",iconMarginRight:a,width:b,height:p,activeFontColor:X,activeBgColor:i,inactiveBgColor:n,size:x,borderT:B,borderB:Z,borderL:R,borderR:$,children:y.map((function(e){return Object(l.jsxs)("div",{className:"".concat(t[e].direction,e===S?" active":" inactive"),onClick:function(t){return function(e,t){T(e)}(e)},children:[t[e].icon?Object(l.jsx)(o.a,{width:t[e].iconWidth,height:t[e].iconHeight,token:e===S?t[e].icon:t[e].inicon}):"","  ",e]},e)}))}),t[S]?t[S].content:""]})}},1136:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a,c=n(50),i=n(49),s=(n(10),n(9)),r=i.a.div(a||(a=Object(c.a)(["\nwidth:","%;\nmax-width:100%;\nheight:10px;\nbackground-color: #5577FD;\n"])),(function(e){return e.width}));function o(e){var t=e.startTimestamp,n=e.nowTimestamp,a=e.endTimestamp,c=parseInt((n-t)/(a-t)*100);return Object(s.jsx)("div",{className:"time-slider",children:Object(s.jsx)(r,{width:c})})}},1245:function(e,t,n){"use strict";t.a=n.p+"static/media/staked.45c27f0b.svg"},1246:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a,c=n(5),i=n(50),s=n(10),r=n(49),o=n(412),l=n(9),d=r.a.div(a||(a=Object(i.a)(["\n  .search-token{\n  width: ","px;\n  height: ","px;\n  background: ",";\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding:0 24px;\n  border-radius:4px;\n  img{\n    width:18px;\n    height:18px;\n  }\n  .search-input{\n    border: 0;\n    width:100%;\n    height: 100%;\n    background:transparent;\n    outline-style: none;\n    color: #FFFFFF;\n    font-size: 18px;\n    border-radius: 4px;\n  }\n}\n"])),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.bgColor}));function u(e){var t=e.list,n=e.onChange,a=e.width,i=void 0===a?"320":a,r=e.height,u=void 0===r?"48":r,b=e.bgColor,j=void 0===b?"rgba(85, 119, 253, 0.1)":b,p=e.searchName,f=void 0===p?"bTokenSymbol":p,x=e.className,h=Object(s.useState)(""),v=Object(c.a)(h,2),m=v[0],O=v[1],g=Object(s.useState)(0),k=Object(c.a)(g,2),y=(k[0],k[1]),w=Object(s.useRef)([]);return Object(s.useEffect)((function(){if(m){var e=m.toLocaleUpperCase();0===w.current.length&&(w.current=t,y(t.length));var a=w.current.filter((function(t){return t[f]&&t[f].indexOf(e)>=0}));n(a)}else n(w.current)}),[m]),Object(s.useEffect)((function(){0===w.current.length&&y(t.length)}),[t]),Object(l.jsx)(d,{width:i,height:u,bgColor:j,className:x,children:Object(l.jsxs)("div",{className:"search-token",children:[Object(l.jsx)("input",{type:"text",className:"search-input",placeholder:"Search",value:m,onChange:function(e){!function(e){var t=e.target.value;O(t)}(e)}}),Object(l.jsx)("img",{src:o.default,alt:""})]})})}},1264:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var a=n(0),c=n.n(a),i=n(2),s=n(5),r=n(10),o=n(267),l=n(1136),d=n(407),u=n(210),b=n(1012),j=n(32),p=n(26),f=(n(1265),n(9));function x(e){var t=e.lang,n=e.getLang,a=e.poolShow,x=void 0===a||a,h=e.wallet,v=void 0===h?{}:h,m=Object(r.useState)(""),O=Object(s.a)(m,2),g=O[0],k=O[1],y=Object(r.useState)(0),w=Object(s.a)(y,2),N=w[0],S=w[1],T=Object(u.c)(),C=Object(r.useState)(0),I=Object(s.a)(C,2),_=I[0],E=I[1],q=Object(r.useState)(0),L=Object(s.a)(q,2),B=L[0],A=L[1],F=Object(r.useState)({}),D=Object(s.a)(F,2),R=D[0],z=D[1],P=Object(r.useState)(!1),W=Object(s.a)(P,2),Z=W[0],M=W[1],U=Object(r.useState)(""),V=Object(s.a)(U,2),$=V[0],H=V[1],K=Object(d.a)(R.chainId);Object(r.useEffect)((function(){var e;return e=window.setInterval((function(){var e=28800,n=parseInt(Date.now()/1e3),a=parseInt(n/e)*e,c=a+e-n,i=parseInt(c/3600),s=parseInt(c%3600/60),r=parseInt(c%60);S(a),E(a+e),A(n),k("".concat(i," ").concat(t.h," ").concat(s," ").concat(t.m," ").concat(r," ").concat(t.s))}),1e3),function(){e&&clearInterval(e)}}),[]);var J=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,a,i,s,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.isConnected()){e.next=10;break}return e.next=3,j.a.request("getUserInfoAll",[v.detail.account]);case 3:t=e.sent,n=(+t.total).toFixed(2),a=t.valid?(+t.amount).toFixed(2):0,i=t.lp,s=(+t.trade).toFixed(2),r=t.chainId,z({claimed:n,unclaimed:a,harvestDeriLp:i,harvestDeriTrade:s,chainId:r});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==K.name){e.next=3;break}return T.error("".concat(t["wrong-network"])),e.abrupt("return");case 3:if(Object(p.h)(v.detail.chainId,R.chainId)){e.next=6;break}return T.error("".concat(t["your-deri-is-on"]," ").concat(K.name," ").concat(t["connect-to"]," ").concat(K.name," ").concat(t["to-claim"])),e.abrupt("return");case 6:if(0!==+R.unclaimed){e.next=9;break}return T.error(t["no-deri-to-claim-yet"]),e.abrupt("return");case 9:if(!(parseInt(Date.now()/1e3)%28800<1800)){e.next=13;break}return T.error(t["claiming-DERI-is-disabled-during-first-30-minutes-of-each-epoch"]),e.abrupt("return");case 13:return e.next=15,j.a.request("mintDToken",[v.detail.chainId,v.detail.account],{includeResponse:!0});case 15:if(!e.sent.success){e.next=20;break}return e.abrupt("return",!0);case 20:return T.error(t["claim-failed"]),e.abrupt("return",!1);case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.isConnected()){e.next=7;break}return e.next=3,X();case 3:e.sent&&M(!0),e.next=17;break;case 7:return e.prev=7,e.next=10,v.connect();case 10:return t=e.sent,e.abrupt("return",!!t);case 14:return e.prev=14,e.t0=e.catch(7),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(){return e.apply(this,arguments)}}(),G=function(e){var n;switch(e){case 1:n=t.jan;break;case 2:n=t.feb;break;case 3:n=t.mar;break;case 4:n=t.apr;break;case 5:n=t.may;break;case 6:n=t.jun;break;case 7:n=t.jul;break;case 8:n=t.aug;break;case 9:n=t.sep;break;case 10:n=t.oct;break;case 11:n=t.nov;break;case 12:n=t.dec}return n},Q=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,a,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.isConnected()){e.next=5;break}return e.next=3,j.a.request("getUserFirstClaimInfo",[v.detail.account]);case 3:(t=e.sent).first_timestamp&&(n=new Date(1e3*t.first_timestamp),a=n.getFullYear(),i=n.getMonth()+1,i=G(i),s=n.getDate(),H("".concat(i," ").concat(s,", ").concat(a)));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){var e=window.setInterval(J,18e4);return J(),Q(),function(){return clearInterval(e)}}),[v.detail.account]),Object(f.jsx)("div",{className:"mining-claim",children:Object(f.jsxs)("div",{className:"mining-claim-info",children:[Object(f.jsxs)("div",{className:"deri-num-slider",children:[Object(f.jsxs)("div",{className:"deri-claim-time",children:[t["current-epoch-remaining-time"]," : ",g]}),R.harvestDeriLp>0&&Object(f.jsxs)("div",{className:"deri-claim-text",children:[t["your-harvest-in-current"]," ",Object(f.jsx)("span",{className:"deri-num",children:Object(f.jsx)(b.a,{value:R.harvestDeriLp,decimalScale:2,displayType:"text",di:!0,thousandSeparator:!0})}),"   $DERI."]}),x&&Object(f.jsxs)("div",{className:"deri-claim-text",children:[n("claim-deri",{num:Z?0:R.unclaimed}),$&&Object(f.jsxs)("span",{children:[" ",n("claim-deri-history",{date:$,num:Z?+R.unclaimed+ +R.claimed:R.claimed})," . ",t.woohoo]})]}),Object(f.jsx)("div",{className:"deri-claim-slider",children:Object(f.jsx)(l.a,{startTimestamp:N,nowTimestamp:B,endTimestamp:_})})]}),x&&Object(f.jsx)("div",{className:"cliam-button",children:Object(f.jsx)(o.a,{icon:"ClaimDeri",fontWeight:"bold",label:t["claim-all"],onClick:Y})})]})})}},1265:function(e,t,n){},1272:function(e,t,n){"use strict";var a=n(10),c=n(267),i=(n(210),n(44)),s=n(9);t.a=Object(i.b)("wallet")(Object(i.c)((function({lang:e,wallet:t,pool:n={},bTokenId:i,bToken:r,icon:o,label:l,onClick:d,isReady:u,disabled:b=!0,statusCallback:j,alert:p,...f}){const[x,h]=Object(a.useState)(!0),[v,m]=Object(a.useState)(l),[O,g]=Object(a.useState)(o);return Object(a.useEffect)((async()=>{n&&t&&t.detail&&n.bTokens&&e&&(t.isConnected()?t.isApproved||"WBNB"===r?(m(l),g(o),j&&j(!1)):(m(e.approve),g(null),j&&j(!0)):(m(e["connect-wallet"]),g(null)))}),[n,t.detail,t.isApproved,e,r]),Object(a.useEffect)((()=>{h(b)}),[b]),Object(a.useEffect)((()=>{t&&n&&n.address&&(t.setAddress(n.address),n.isV3||n.isV3Lite?t.setBToken(r):t.setBTokenId(i))}),[t,n,i,r]),Object(s.jsx)(c.a,{...f,disabled:!x,label:v,onClick:async()=>{if(n&&t&&t.detail){if(t.isConnected()){if(t.isApproved)return g(o),d();{g(null);let e=await t.approve();return e?(p&&p.success("Approve success"),j&&j(!1)):(p&&p.error("Approve failed"),j&&j(!0)),e}}return g(null),t.connect()}},icon:O})})))},1273:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a,c=n(5),i=n(50),s=n(10),r=(n(32),n(49)),o=n(36),l=n(1030),d=n(9),u=r.a.div(a||(a=Object(i.a)(["\n  .remove-hint{\n    cursor: pointer;\n    .text{\n      display: flex;\n      border:0;\n    }\n    span{\n      margin-left:8px;\n    }\n  }\n"])));function b(e){var t=e.lang,n=e.baseToken,a=e.penalty,i=e.isB0Staked,r=e.availableBalance,b=e.getLang,j=Object(s.useState)(""),p=Object(c.a)(j,2),f=p[0],x=p[1];return Object(s.useEffect)((function(){var e,c={num:n};e=i?"BUSD"===n?"".concat(t["your-account-has-an-unsettled-balance-of"]," ").concat(a," BUSD ").concat(t["this-action-will-update-your"]):"".concat(t["your-account-has-an-unsettled-balance-of"]," ").concat(a," BUSD ").concat(b("this-action-will-trigger-swapping-to-update-your",c)):"".concat(t["your-account-has-an-unsettled-balance-of"]," ").concat(a," BUSD ").concat(b("this-action-will-trigger-swapping-to-update-your-busd-balance-to-reflect-the-unsettled-amount",c)),x(e)}),[i,a,n]),Object(d.jsx)(u,{children:+a<0&&+r>0&&Object(d.jsx)("div",{className:"remove-hint",children:Object(d.jsxs)(l.a,{tip:f,width:"332",children:[Object(d.jsx)(o.a,{token:"warn"})," ",Object(d.jsx)("span",{children:t["negative-unsettled-balance"]})]})})})}},1337:function(e,t,n){},1340:function(e,t,n){},1446:function(e,t,n){"use strict";n.r(t);var a=n(135),c=n(0),i=n.n(c),s=n(2),r=n(5),o=n(10),l=n(38),d=n(101),u=n(44),b=n(1264),j=n(1116),p=n(1272),f=n(1052),x=n(26),h=n(1012),v=n(20),m=n(32),O=n(210),g=(n(1337),n(14)),k=n(1273),y=n(9);function w(e){var t=e.getLang,n=e.wallet,a=e.lang,c=e.type,l=e.isLp,d=e.bTokenId,u=e.poolConfig,b=e.version,w=e.baseToken,N=e.address,S=e.walletBalance,T=e.poolInfo,C=e.afterTransaction,I=Object(o.useState)(""),_=Object(r.a)(I,2),E=_[0],q=_[1],L=Object(o.useState)(!1),B=Object(r.a)(L,2),A=B[0],F=B[1],D=Object(o.useState)(""),R=Object(r.a)(D,2),z=R[0],P=R[1],W=Object(o.useState)(!1),Z=Object(r.a)(W,2),M=(Z[0],Z[1]),U=Object(o.useState)(""),V=Object(r.a)(U,2),$=V[0],H=V[1],K=Object(o.useState)(!1),J=Object(r.a)(K,2),X=J[0],Y=J[1],G=Object(O.c)(),Q=Object(o.useState)({}),ee=Object(r.a)(Q,2),te=ee[0],ne=ee[1],ae="add"===c||"v2"===b||"v3"===b||"v3_lite"===b?w:a.shares,ce=function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w){e.next=6;break}return e.next=3,m.a.request("getEstimatedLpInfo",[n.detail.chainId,N,n.detail.account,w]);case 3:t=e.sent,H(t.b0Penalty),Y(t.isB0Staked);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(s.a)(i.a.mark((function e(){var t,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="add"===c?E:Object(g.bg)(E).times(Object(g.bg)(-1)).toString(),a="v3"===b||"v3_lite"===b?[n.detail.chainId,N,n.detail.account,t,w]:[n.detail.chainId,N,n.detail.account,t,d],e.next=4,m.a.request("getEstimatedLiquidityInfo",a);case 4:s=e.sent,ne(s);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(s.a)(i.a.mark((function e(){var t,c,s,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(g.bg)(S),!Object(g.bg)(E).gt(t)){e.next=5;break}return G.error(a["not-sufficient-funds"]),e.abrupt("return",!1);case 5:if(!(E<=0||isNaN(E))){e.next=8;break}return G.error(a["it-has-to-be-greater-than-zero"]),e.abrupt("return",!1);case 8:if("lp"!==l){e.next=15;break}return s=[n.detail.chainId,N,n.detail.account,E],e.next=12,m.a.request("addLpLiquidity",s,{includeResponse:!0});case 12:c=e.sent,e.next=19;break;case 15:return r="v3"===b||"v3_lite"===b?[n.detail.chainId,N,n.detail.account,E,w]:[n.detail.chainId,N,n.detail.account,E,d],e.next=18,m.a.request("addLiquidity",r,{includeResponse:!0});case 18:c=e.sent;case 19:if(C(!0),q(""),c&&c.success){e.next=26;break}return G.error(a["failure-of-transaction"]),e.abrupt("return",!1);case 26:G.success(a["add-success"]);case 27:return e.abrupt("return",!0);case 28:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(s.a)(i.a.mark((function e(){var t,c,s,r,o,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(g.bg)(T.totalShares),c=A?T.totalShares:E,!(s=Object(g.bg)(c)).gt(t)){e.next=6;break}return G.error("".concat(a["your-current-max-removable-shares-are"],"  ").concat(T.totalShares)),e.abrupt("return",!1);case 6:if(!(+c<=0||isNaN(E))){e.next=9;break}return G.error(a["invalid-liquidity"]),e.abrupt("return",!1);case 9:if("lp"!==l){e.next=16;break}return o=[n.detail.chainId,N,n.detail.account,c],e.next=13,m.a.request("removeLpLiquidity",o,{includeResponse:!0});case 13:r=e.sent,e.next=20;break;case 16:return u="v3"===b||"v3_lite"===b?[n.detail.chainId,N,n.detail.account,c,w,t.eq(s)]:[n.detail.chainId,N,n.detail.account,c,d,t.eq(s)],e.next=19,m.a.request("removeLiquidity",u,{includeResponse:!0});case 19:r=e.sent;case 20:return r&&r.success?G.success(a["remove-success"]):G.error(a["failure-of-transaction"]),q(""),C(),e.abrupt("return",!0);case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){E?(ie(),M(!0)):M(!1)}),[E]),Object(o.useEffect)((function(){q(""),P("")}),[c,d,w]),Object(o.useEffect)((function(){n.isConnected()&&ce()}),[n.detail,w,N]),Object(y.jsxs)("div",{className:"operate",children:[Object(y.jsx)("div",{className:"add-input",children:Object(y.jsx)(j.a,{value:E,unit:ae,onChange:function(e){q(e)},inputWidth:"237px",styles:{"min-width":"332px"}})}),"add"===c&&Object(y.jsxs)("div",{className:"wallet-balance",children:[a["wallet-balance"]," ",Object(y.jsx)(h.a,{value:S,displayType:"text",decimalScale:2})," ",w]}),"remove"===c&&Object(y.jsxs)("div",{className:"wallet-balance",children:[a["staked-balance"]," ",Object(y.jsx)(h.a,{value:T.totalShares,displayType:"text",decimalScale:2})," ",ae]}),"remove"===c&&Object(y.jsx)("div",{children:Object(y.jsx)(k.a,{getLang:t,lang:a,baseToken:w,penalty:$,isB0Staked:X})}),Object(y.jsx)("div",{className:"check-proportion",children:Object(y.jsx)(f.a,{outline:!0,defaultValue:z,onChange:function(e){var t="add"===c?S:T.totalShares,n=Object(x.D)(e,t);P(e),q(n),P(e),F("100%"===e)},bgColor:" rgba(85, 119, 253, 0.1)",width:77,height:40})}),Object(y.jsx)("div",{className:"information",children:E&&Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"percentage",children:[Object(y.jsx)("div",{className:"info-box-title",children:a["my-liquidity-percentage"]}),Object(y.jsxs)("div",{className:"info-box-num",children:[Object(y.jsx)(h.a,{allowZero:!0,width:"80px",value:T.percent,decimalScale:2,suffix:"%"})," ->  ",Object(y.jsx)(h.a,{width:"80px",allowZero:!0,value:100*te.percentage1,decimalScale:2,suffix:"%"})]})]}),Object(y.jsxs)("div",{className:"staked-balance",children:[Object(y.jsx)("div",{className:"info-box-title",children:a["staked-balance"]}),Object(y.jsxs)("div",{className:"info-box-num",children:[Object(y.jsx)(h.a,{width:"80px",allowZero:!0,value:T.formatShares,decimalScale:2})," -> ",Object(y.jsx)(h.a,{width:"80px",allowZero:!0,value:te.shares1,decimalScale:2}),"v2"===b||"v3"===b||"v3_lite"===b?" "+w:" "+a.shares]})]})]})}),Object(y.jsxs)("div",{className:"add-remove-btn",children:["add"===c&&Object(y.jsx)(p.a,{alert:G,fontWeight:"bold",onClick:se,bToken:w,pool:u,wallet:n,bTokenId:d,fontSize:"18",type:v.g,width:"331",label:a["add-liquidity"],lang:a}),"remove"===c&&Object(y.jsx)(p.a,{alert:G,fontWeight:"bold",onClick:re,bToken:w,pool:u,type:v.g,wallet:n,bTokenId:d,fontSize:"18",width:"331",label:a["remove-liquidity"],lang:a})]})]})}var N=n(1117),S=n(96),T=n(407),C=(n(1340),n.p+"static/media/back.b0297594.svg"),I=n(268),_=n(408),E=n(406),q=n(1245),L=n(409),B=n(1030),A=n(211),F=n(267),D=S[g.DeriEnv.get()].chainInfo;function R(e){var t=e.wallet,n=e.chainId,a=e.nowApy,c=e.poolInfo,l=e.address,d=e.nowToken,u=e.lang,b=e.version,j=e.type,p=e.poolConfig,f=e.symbols,v=Object(o.useState)("show"),O=Object(r.a)(v,2),g=O[0],k=O[1],w=Object(o.useState)(),N=Object(r.a)(w,2),S=N[0],T=N[1],C=function(){var e=Object(s.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=6;break}return e.next=3,p.getVenusEarned(t,l);case 3:n=e.sent,T(n=+n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(s.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.request("claimXVSLp",[t.detail.chainId,l,t.detail.account],{includeResponse:!0});case 2:(n=e.sent)&&n.success?alert.success(u["collect-success"]):alert.error(u["failure-of-transaction"]),C();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){if(t.isConnected()&&("v3"===b||"v3_lite"===b)){var e;return C(),e=window.setInterval((function(){C()}),18e4),function(){e&&clearInterval(e)}}}),[t,t.detail,p]),Object(y.jsxs)("div",{className:"pool-info",children:[Object(y.jsxs)("div",{className:"pool-info-title",children:[Object(y.jsx)("div",{className:"pool-info-title-text",children:u["pool-info"]}),Object(y.jsxs)("div",{className:"down-up",children:["show"===g&&Object(y.jsx)("span",{onClick:function(){return k("hide")},children:Object(y.jsx)("img",{className:"up-icon",alt:"",src:A.default})}),"hide"===g&&Object(y.jsx)("span",{onClick:function(){return k("show")},children:Object(y.jsx)("img",{alt:"",src:A.default})})]})]}),Object(y.jsxs)("div",{className:"'pool-info-text' ".concat(g),children:[Object(y.jsxs)("div",{className:"pool-info-text-one",children:["v2_lite_open"!==b&&Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:u.apy}),Object(y.jsxs)("div",{className:"info-box-num",children:["v3"!==b&&"v3_lite"!==b&&Object(y.jsx)(h.a,{value:c.apy,displayType:"text",decimalScale:2,suffix:"%"}),("v3"===b||"v3_lite"===b)&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(B.a,{text:Object(y.jsx)(h.a,{width:"50px",value:a.apy,displayType:"text",decimalScale:2,suffix:"%"}),tip:u["deri-apy"]}),"\xa0 +  \xa0  ",Object(y.jsx)(B.a,{text:Object(y.jsx)(h.a,{width:"50px",value:a.supplyApy,displayType:"text",decimalScale:2,suffix:"%"}),tip:u["venus-suppy-apy"]}),"  \xa0 +  \xa0",Object(y.jsx)(B.a,{text:Object(y.jsx)(h.a,{width:"50px",value:a.xvsApy,displayType:"text",decimalScale:2,suffix:"%"}),tip:u["xvs-distribution-apy"]})]})]})]}),Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:u["pool-liquidity"]}),Object(y.jsxs)("div",{className:"info-box-num",children:[Object(y.jsx)(h.a,{value:c.total,displayType:"text",decimalScale:2,thousandSeparator:!0})," ","v3"===b||"v3_lite"===b?"BUSD":d]})]}),("v2"===b||"v3"===b||"v3_lite"===b)&&!("option"===j&&"v2"===b)&&Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:u.multiplier}),Object(y.jsx)("div",{className:"info-box-num",children:c.multiplier})]}),Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:u["my-liquidity-percentage"]}),Object(y.jsx)("div",{className:"info-box-num",children:Object(y.jsx)(h.a,{allowZero:!0,value:c.percent,decimalScale:2,suffix:"%"})})]}),("v2"!==b&&"v3"!==b&&"v3_lite"!==b||"v2"===b&&"option"===j)&&Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:u["liquidity-share-value"]}),Object(y.jsxs)("div",{className:"info-box-num",children:[Object(y.jsx)(h.a,{allowZero:!0,decimalScale:6,value:c.shareValue,thousandSeparator:!0})," ",d]})]})}),Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:u["staked-balance"]}),Object(y.jsxs)("div",{className:"info-box-num",children:[Object(y.jsx)(h.a,{allowZero:!0,value:c.formatShares,decimalScale:2}),"v2"!==b&&"v3"!==b&&"v3_lite"!==b||"option"===j&&"v2"===b?" "+u.shares:" "+d]})]}),("v2"!==b&&"v3"!==b&&"v3_lite"!==b||"v2"===b&&"option"===j)&&Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title"}),Object(y.jsxs)("div",{className:"info-box-num",children:[Object(y.jsx)(h.a,{allowZero:!0,decimalScale:2,value:c.values,thousandSeparator:!0})," ",d]})]}),("v2"===b||"v3"===b||"v3_lite"===b)&&!("option"===j&&"v2"===b)&&Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:Object(y.jsx)(B.a,{multiline:!0,text:u["mining-pnl"],tip:u["mining-pnl-tip"]})}),Object(y.jsxs)("div",{className:"info-box-num",children:[Object(y.jsx)(h.a,{allowZero:!0,prefix:" ",value:c.swappedPnl,decimalScale:2})," ",d]})]}),("v3"===b||"v3_lite"===b)&&Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:u["xvs-earned"]}),Object(y.jsxs)("div",{className:"info-box-num collect-box",children:[Object(y.jsx)(h.a,{value:S,decimalScale:2}),Object(y.jsx)(F.a,{onClick:I,className:"collect",label:u.collect})]})]})]}),Object(y.jsxs)("div",{className:"pool-info-text-two",children:["lp"!==j&&Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:u.symbols}),Object(y.jsx)("div",{className:"info-box-num symbols",children:"main"===p.zone?f:Object(y.jsx)(B.a,{tip:f,children:f})})]}),Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:u["contract-address"]}),Object(y.jsx)("div",{className:"info-box-num",children:Object(y.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat(D[n]&&D[n].viewUrl,"/address/").concat(l),children:Object(x.k)(l)})})]})]})]})]})}var z=n(36),P=n(1246);function W(e){var t=e.lang,n=e.address,a=e.checkoutBaseToken,c=e.nowToken,i=e.bTokenList,s=e.version,l=e.type,d=Object(o.useState)([]),u=Object(r.a)(d,2),b=u[0],j=u[1],p=function(e){e.target.src=L.default};return Object(o.useEffect)((function(){j(i)}),[i]),Object(y.jsxs)("div",{className:"select-basetoken-info",children:[Object(y.jsxs)("div",{className:"select-coin-title-search",children:[Object(y.jsxs)("div",{className:"select-coin-title",children:[" ",t["select-the-coin"]]}),Object(y.jsx)("div",{className:"search-box",children:Object(y.jsx)(P.a,{list:i,searchName:"bTokenSymbol",onChange:function(e){return j(e)}})})]}),Object(y.jsxs)("div",{className:"coin-search",children:[Object(y.jsx)("div",{className:"slide-icon left",children:Object(y.jsx)(z.a,{token:"arrow-left",width:"24",height:"24"})}),Object(y.jsxs)("div",{className:"v3"===s||"v3_lite"===s?"coin-list some-coin":"coin-list",children:["lp"!==l&&"v2_lite_open"!==s&&Object(y.jsx)(y.Fragment,{children:b.map((function(e,n){return Object(y.jsxs)("div",{className:c===e.bTokenSymbol?"coin-box checked-base":"coin-box",onClick:function(){a(e.bTokenId,e.bTokenSymbol)},children:[Object(y.jsxs)("div",{className:"base-apy-info",children:[Object(y.jsx)("div",{className:"btoken-logo ".concat(e.bTokenSymbol)}),Object(y.jsxs)("div",{className:"apy-base-staked",children:[Object(y.jsx)("div",{className:"base-name",children:e.bTokenSymbol}),Object(y.jsxs)("div",{className:"base-apy",children:[t.apy," \xa0 ",Object(y.jsx)(h.a,{width:"50px",value:e.apy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2}),("v3"===s||"v3_lite"===s)&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("span",{children:[" +  ",Object(y.jsx)(h.a,{width:"50px",value:e.supplyApy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2}),"  + "]}),Object(y.jsx)(h.a,{width:"50px",value:e.xvsApy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2})]})]})]})]}),e.staked&&Object(y.jsx)("img",{src:q.a,alt:""})]})}))}),"v2_lite_open"===s&&Object(y.jsx)(y.Fragment,{children:b.map((function(e,n){return Object(y.jsxs)("div",{className:"coin-box checked-base",onClick:function(){a(e.bTokenId)},children:[Object(y.jsxs)("div",{className:"base-apy-info",children:[Object(y.jsx)("div",{className:"btoken-logo ".concat(e.bTokenSymbol),children:Object(y.jsx)("img",{alt:"",onError:p,src:"https://raw.githubusercontent.com/deri-finance/deri-open-zone/main/img/".concat(e.bTokenSymbol,".png")})}),Object(y.jsx)("div",{className:"apy-base-staked",children:Object(y.jsx)("div",{className:"base-name",children:e.bTokenSymbol})})]}),e.staked&&Object(y.jsxs)("div",{className:"stake",children:[Object(y.jsx)("img",{src:q.a,alt:""}),t.staked]})]})}))}),"lp"===l&&i.length&&Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{className:"coin-box checked-base",children:Object(y.jsxs)("div",{className:"base-apy-info",children:[Object(y.jsxs)("div",{className:"lp-btoken-logo",children:[Object(y.jsx)("div",{className:"btoken-logo ".concat(i[0].bTokenSymbol)}),Object(y.jsx)("span",{className:"conect-logo",children:"+"}),Object(y.jsx)("div",{className:"btoken-logo ".concat(i[1].bTokenSymbol)})]}),Object(y.jsxs)("div",{className:"apy-base-staked",children:[Object(y.jsx)("div",{className:"base-name",children:c}),Object(y.jsxs)("div",{className:"base-apy",children:[Object(x.w)(n)&&Object(y.jsxs)(y.Fragment,{children:[t.apy," \xa0 ",Object(y.jsx)(h.a,{value:i[1].apy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2})]}),Object(x.C)(n)&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(B.a,{text:"".concat(t.apy," ").concat((+i[1].apy).toFixed(2)," %"),tip:t["deri-apy"]}),"\xa0 + \xa0 ",Object(y.jsx)(B.a,{text:"".concat(t.apy,"  ").concat((+i[1].lpApy).toFixed(2)," %"),tip:t["sushi-apy"]})]})]})]})]})})})]}),Object(y.jsx)("div",{className:"slide-icon right",children:Object(y.jsx)(z.a,{token:"arrow-right",width:"24",height:"24"})})]})]})}var Z=S[g.DeriEnv.get()].chainInfo;t.default=Object(u.b)("wallet","poolManager")(Object(u.c)((function(e){var t,n,c=e.lang,u=e.wallet,j=void 0===u?{}:u,p=e.poolManager,f=e.getLang,h=Object(l.i)(),v=h.version,O=h.chainId,k=h.address,S=h.type,B=Object(o.useState)(),A=Object(r.a)(B,2),F=A[0],D=A[1],z=Object(o.useState)(""),P=Object(r.a)(z,2),M=P[0],U=P[1],V=Object(o.useState)(!1),$=Object(r.a)(V,2),H=$[0],K=$[1],J=Object(o.useState)(""),X=Object(r.a)(J,2),Y=X[0],G=X[1],Q=Object(o.useState)([]),ee=Object(r.a)(Q,2),te=ee[0],ne=ee[1],ae=Object(o.useState)({}),ce=Object(r.a)(ae,2),ie=ce[0],se=ce[1],re=Object(T.a)(),oe=Object(o.useState)(""),le=Object(r.a)(oe,2),de=le[0],ue=le[1],be=Object(o.useState)(),je=Object(r.a)(be,2),pe=je[0],fe=je[1],xe=Object(o.useState)({}),he=Object(r.a)(xe,2),ve=he[0],me=he[1],Oe=Z[O]&&Z[O].name,ge=function(){var e=Object(s.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j.isConnected()){e.next=17;break}if(t=[j.detail.chainId,k,j.detail.account],n=null,!Y.isLp){e.next=9;break}return e.next=6,m.a.request("getLpWalletBalance",t);case 6:n=e.sent,e.next=16;break;case 9:if("v3"===v||"v3_lite"===v?t.push(F):t.push(M),"v2_lite_open"!==v){e.next=13;break}return e.next=13,g.openConfigListCache.update();case 13:return e.next=15,m.a.request("getBTokenBalance",t);case 15:n=e.sent;case 16:fe(n);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=function(){ge(),Se(),Te()},ye=(t={},Object(a.a)(t,c.add,{content:Object(y.jsx)(w,{getLang:f,poolConfig:Y,isLp:S,wallet:j,afterTransaction:ke,version:v,bTokenId:M,address:k,lang:c,type:"add",poolInfo:ie,baseToken:F,walletBalance:pe}),style:{background:"linear-gradient(200.74deg, rgba(97, 122, 255, 0.1) -4.65%, rgba(223, 229, 255, 0) 50.94%, rgba(85, 91, 237, 0.05) 105.4%)"},borderColor:"#203B60",icon:"add-icon",iconWidth:"25",iconHeight:"25",inicon:"inactive-add",direction:"tab-left"}),Object(a.a)(t,c.remove,{content:Object(y.jsx)(w,{getLang:f,isLp:S,poolConfig:Y,wallet:j,afterTransaction:ke,lang:c,address:k,type:"remove",bTokenId:M,poolInfo:ie,balance:ie,baseToken:F,version:v}),style:{background:"linear-gradient(200.74deg, rgba(97, 122, 255, 0.1) -4.65%, rgba(223, 229, 255, 0) 50.94%, rgba(85, 91, 237, 0.05) 105.4%)"},borderColor:"#203B60",icon:"remove-icon",iconWidth:"25",iconHeight:"25",iconMarginRight:"20",inicon:"inactive-remove",direction:"tab-right"}),t),we=function(){var e=Object(s.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.load();case 2:if(t=p.pools,"lp"!==S){e.next=7;break}return e.next=6,p.loadDoubleMingingPool();case 6:t=p.lpPools;case 7:if("v2_lite_open"!==v){e.next=11;break}return e.next=10,p.loadOpen();case 10:t=p.openPools;case 11:t=(t=t.filter((function(e){return e.address===k})))[0],t.bTokens[0].bTokenSymbol,Object(x.w)(k)?"PANCAKE-LP":Object(x.C)(k)&&"DERI-USDT SLP",t.bTokens[0].bTokenId,n=(n=t.symbols.map((function(e){var t=[];return t.push(e.symbol),t}))).join(","),ue(n),G(t),ne(t.bTokens);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Y){e.next=6;break}return e.next=3,Y.getPoolInfo(j,Y);case 3:return(t=e.sent)&&te.map((function(e){if("v2"===v)e.apy=100*+t.bTokensApy.filter((function(t){return t.bTokenId===e.bTokenId}))[0].apy;else if("v2_lite_open"!==v&&"v3"!==v&&"v3_lite"!==v)e.apy=100*+t.bTokensApy[0].apy,Object(x.C)(k)&&(e.lpApy=t.lpApy);else if("v3"===v||"v3_lite"===v){var n=t.bTokensApy.find((function(t){return t.bTokenSymbol===e.bTokenSymbol}));n&&(e.apy=100*+n.apy,e.supplyApy=100*+n.supplyApy,e.xvsApy=100*+n.xvsApy)}return e})),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=Object(s.a)(i.a.mark((function e(){var t,n,a,c,s,r,o,l,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,!Y){e.next=15;break}return e.next=4,Y.getPoolInfo(j,Y);case 4:if((n=e.sent).bTokensApy&&n.bTokensLiq&&("v2"===v&&M?(o=n.bTokensApy.filter((function(e){return e.bTokenId===M})),a=o[0].apy,l=o[0].multiplier,r=(r=n.bTokensLiq.filter((function(e){return e.bTokenId===M})))[0].liquidity):"v2_lite_open"!==v&&"v3"!==v&&"v3_lite"!==v?(a=n.bTokensApy[0].apy,r=n.bTokensLiq[0].liquidity):"v3"!==v&&"v3_lite"!==v||((o=n.bTokensApy.filter((function(e){return e.bTokenSymbol===F}))).length&&(a=o[0].apy,c=o[0].supplyApy,s=o[0].xvsApy,l=o[0].multiplier),(r=n.bTokensLiq.filter((function(e){return e.bTokenSymbol===F}))).length&&(r=r[0].liquidity)),t={total:r,apy:100*+a,supplyApy:100*+c,xvsApy:100*+s,multiplier:l}),!j.isConnected()){e.next=14;break}return e.next=9,Y.getLiquidityInfo(j,k,Y.version,Y.isLp,S,F,M);case 9:d=e.sent,t=d,"v3"!==v&&"v3_lite"!==v||(t.supplyApy=100*+c,t.xvsApy=100*+s),t.apy=100*+a,t.multiplier=l;case 14:se(t);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Te=function(){var e=Object(s.a)(i.a.mark((function e(){var t,n,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j.isConnected()||!Y){e.next=9;break}return e.next=3,Y.getIsStaked(j,Y);case 3:t=e.sent,te.map((function(e){if("v2"===v&&"option"!==S)e.staked=t.bTokens.filter((function(t){return t.bTokenId===e.bTokenId}))[0].isStaked;else if("v3"===v||"v3_lite"===v){var n=t.bTokens.filter((function(t){return t.bTokenSymbol===e.bTokenSymbol}));e.staked=!!n.length&&n[0].isStaked}else e.staked=t.isStaked;return e})),n=[],te.forEach((function(e,t){if(e.staked)return n.push(e),void te.splice(t,1)})),te.unshift.apply(te,n),te.length&&(a=te[0].bTokenSymbol,Object(x.w)(k)?a="PANCAKE-LP":Object(x.C)(k)&&(a="DERI-USDT SLP"),c=te[0].bTokenId,D(a),U(c));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(s.a)(i.a.mark((function e(t,n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="v3"!==v&&"v3_lite"!==v?Y.bTokens.filter((function(e){return e.bTokenId===t})):Y.bTokens.filter((function(e){return e.bTokenSymbol===n})),se({}),U(t),fe(""),D(a[0].bTokenSymbol),K();case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){j.detail.chainId!==O&&j.switchNetwork(re[O])}),[j.detail]),Object(o.useEffect)((function(){we()}),[]),Object(o.useEffect)((function(){if(fe(""),te.length&&(F||M)){var e,t={};if("v2"!==v)t=te.filter((function(e){return e.bTokenSymbol===F}))[0];else if("v2"===v){t=te.filter((function(e){return e.nowTokenId===M}))[0]}me(t),"v2"===v&&"option"!==S?M&&(e=te.filter((function(e){return e.bTokenId===M}))[0].staked):"lp"!==S&&(e=te.filter((function(e){return e.bTokenSymbol===F}))[0].staked),K(e)}}),[te,F,M]),Object(o.useEffect)((function(){Ne()}),[Y,te]),Object(o.useEffect)((function(){Se(),ge()}),[M,Y,j.detail.account,F]),Object(o.useEffect)((function(){Te()}),[Y,j.detail.account,te]),Object(y.jsxs)("div",{className:"pool-detail",children:[Object(y.jsx)("div",{className:"back-pool",children:Object(y.jsx)(d.b,{to:"0x08aD0E0b4458183758fC5b9b6D27c372965fB780"===k||"0x66f501dda450C8978c4A1115D7b2A7FAa7702F05"===k||"0x574022307e60bE1f07da6Ec1cB8fE23d426e5831"===k?"/retired":"/pool",children:Object(y.jsxs)("div",{className:"icon-back",children:[Object(y.jsx)("img",{alt:"",src:C}),Object(y.jsx)("span",{children:c.back})]})})}),Object(y.jsxs)("div",{className:"pool-deatail-info",children:[Object(y.jsxs)("div",{className:"pool-detail-basetoken-info",children:[Object(y.jsxs)("div",{className:"pool-info-text",children:[Object(y.jsxs)("div",{className:"pool-network-type",children:[Object(y.jsx)("div",{className:"network-logo",children:Object(y.jsx)("img",{alt:"",src:function(e){var t,n=+e;return 56===n||97===n?t=I.default:137===n?t=_.default:1===n&&(t=E.default),t}(O)})}),Object(y.jsxs)("div",{className:"pool-type-network-text",children:[Object(y.jsxs)("div",{className:"pool-type-text",children:[c[Y.type]," ",c[Y.zone]]}),Object(y.jsx)("div",{className:"pool-network-text",children:Oe})]})]}),Object(y.jsxs)("div",{className:"pool-des",children:["lp"!==S&&c["amm-pool-des"],"clp"===v&&Object(y.jsx)(y.Fragment,{children:c["deri-pancake-pool"]}),"slp"===v&&Object(y.jsx)(y.Fragment,{children:c["deri-sushi-pool"]}),Object(y.jsx)("br",{}),"lp"!==S?Object(y.jsx)("a",{rel:"norelerror",target:"_blank",href:"https://docs.deri.finance/library/faqs/mining-faq#is-the-amm-liquidity-mining-on-deri-pools-risk-free",children:Object(y.jsxs)("span",{className:"learn-more",children:[" ",c["learn-more"]]})}):Object(y.jsx)("a",{rel:"norelerror",target:"_blank",href:"https://docs.deri.finance/library/faqs/mining-faq#is-dex-liquidity-mining-on-sushiswap-sushiswap-onsen-and-pancakeswap-deri-risk-free",children:Object(y.jsxs)("span",{className:"learn-more",children:[" ",c["learn-more"]]})})]})]}),Object(y.jsx)(W,{lang:c,address:k,checkoutBaseToken:Ce,nowToken:F,bTokenList:te,version:v,type:S})]}),Object(y.jsxs)("div",{className:"pool-detail-add-remove-info",children:[Object(y.jsxs)("div",{className:"mining-deri-liquidity",children:[Object(y.jsxs)("div",{className:"btoken-liquidity",children:["lp"!==S&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"btoken-logo ".concat(F),children:"v2_lite_open"===v&&Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("img",{alt:"",onError:function(e){e.target.src=L.default},src:"https://raw.githubusercontent.com/deri-finance/deri-open-zone/main/img/".concat(F,".png")})})}),Object(y.jsxs)("div",{className:"manage-stake",children:[Object(y.jsxs)("div",{className:"manage",children:[c.manage," ",F," ",c.liquidity]}),H&&Object(y.jsxs)("div",{className:"stake",children:[Object(y.jsx)("img",{src:q.a,alt:""}),c.staked]})]})]}),"lp"===S&&te.length&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"lp-btoken-logo",children:[Object(y.jsx)("div",{className:"btoken-logo ".concat(te[0].bTokenSymbol)}),Object(y.jsx)("span",{className:"conect-logo",children:"+"}),Object(y.jsx)("div",{className:"btoken-logo ".concat(te[1].bTokenSymbol)})]}),Object(y.jsxs)("div",{className:"manage-stake",children:[Object(y.jsxs)("div",{className:"manage",children:[c.manage," ",F," ",c.liquidity]}),H&&Object(y.jsxs)("div",{className:"stake",children:[Object(y.jsx)("img",{src:q.a,alt:""}),c.staked]})]})]})]}),Object(y.jsx)("div",{className:"deri-current-epoch",children:"v2_lite_open"!==v&&Object(y.jsx)(b.a,{poolShow:!1,lang:c,wallet:j})})]}),Object(y.jsxs)("div",{className:"mining-add-remove-liquidity",children:[Object(y.jsx)(R,(n={wallet:j,nowApy:ve,poolInfo:ie,chainId:O,address:k,nowToken:F,lang:c},Object(a.a)(n,"poolInfo",ie),Object(a.a)(n,"version",v),Object(a.a)(n,"type",S),Object(a.a)(n,"poolConfig",Y),Object(a.a)(n,"symbols",de),n)),Object(y.jsx)("div",{className:"add-remove-liquidity",children:Object(y.jsx)(N.a,{tabSet:ye,iconMarginRight:"20",width:379,size:18,inactiveBgColor:"#0c192d",icon:"",borderBottom:!0,divider:!0})})]})]})]})]})})))}}]);
//# sourceMappingURL=13.f9919867.chunk.js.map