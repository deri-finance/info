(this["webpackJsonpapp.deri.finance"]=this["webpackJsonpapp.deri.finance"]||[]).push([[20,10],{1016:function(e,t){},1017:function(e,t){},1018:function(e,t){},1019:function(e,t){},1020:function(e,t){},1021:function(e,t){},1139:function(e){e.exports=JSON.parse('{"container_id":"tv-container","library_path":"/charting_library/","custom_css_url":"/style/tradingview-overide.css","disabled_features":["header_widget","timeframes_toolbar","go_to_date"],"fullscreen":false,"autosize":true,"overrides":{"paneProperties.background":"#212327","paneProperties.vertGridProperties.color":"#212327","paneProperties.horzGridProperties.color":"#212327","scalesProperties.textColor":"#aaa","mainSeriesProperties.candleStyle.upColor":"#4bffb5","mainSeriesProperties.candleStyle.downColor":"#d75442","mainSeriesProperties.candleStyle.borderColor":"#378658","mainSeriesProperties.candleStyle.borderUpColor":"#4bffb5","mainSeriesProperties.candleStyle.borderDownColor":"#ff4976","mainSeriesProperties.candleStyle.wickUpColor":"#4bffb5","mainSeriesProperties.candleStyle.wickDownColor":"#ff4976"},"studies_overrides":{"Overlay.lineStyle.color":"#569bda","Overlay.showPriceLine":true},"toolbar_bg":"#212327","session":"24x7"}')},1140:function(e,t,n){},1141:function(e,t,n){},1142:function(e,t,n){},1497:function(e,t,n){"use strict";n.r(t);var i=n(11),c=n(5),a=n(695),s=n.n(a),r=n(76),o=n(37),l=n(202),d=n(31),j=n(0),u=n.n(j),b=n(2),p=n(735),m=n.n(p),O=n(1103),h=n(714),f=n.n(h),x=n(33),g=n(191),A=n(32);Object(r.b)("intl","trading")(Object(r.c)((function(e){var t=e.interval,n=void 0===t?"1":t,a=e.displayCandleData,r=e.mixedChart,o=e.lang,j=e.showLoad,p=e.preload,h=e.trading,v=Object(i.useRef)(null),y=Object(i.useRef)(null),N=Object(i.useRef)(null),w=Object(i.useRef)(null),C=Object(i.useRef)(null),k=Object(i.useRef)(null),S=Object(i.useRef)([]),I=Object(i.useRef)([]),D=Object(i.useState)(!1),B=Object(c.a)(D,2),M=B[0],Q=B[1],E=s()("scroll-mask",{show:M}),R=function(){var e=Object(b.a)(u.a.mark((function e(t,i,c,a){var s,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=i&&c?[i,c]:Object(x.b)(n),r="".concat("https://oracle4.deri.finance","/get_kline?symbol=").concat(t,"&time_type=").concat(x.q[n],"&from=").concat(s[0],"&to=").concat(s[1]),!a&&j(!0),e.next=5,f.a.get(r);case 5:return o=e.sent,j(!1),e.abrupt("return",o.data&&Array.isArray(o.data.data)?o.data.data:[]);case 8:case"end":return e.stop()}}),e)})));return function(t,n,i,c){return e.apply(this,arguments)}}(),F=function(){var e=Object(b.a)(u.a.mark((function e(t,i,c){var s,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!t){e.next=8;break}return s=C.current=t.addCandlestickSeries({priceScaleId:c,upColor:"#4bffb5",downColor:"#ff4976",borderDownColor:"#ff4976",borderUpColor:"#4bffb5",wickDownColor:"#ff4976",wickUpColor:"#4bffb5",priceFormat:{}}),e.next=4,R(i);case 4:(r=e.sent)&&Array.isArray(r)&&r.length>0&&(s.setData(r),N.current=r[0],I.current=r),a({data:r[r.length-1]}),g.a.subscribe("get_kline_update",{symbol:i,time_type:x.q[n]},(function(e){var t=I.current[I.current.length-1];e.time>t.time&&(s.update(e),I.current=[].concat(Object(d.a)(I.current),[e]))}));case 8:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}(),_=function(){var e=Object(b.a)(u.a.mark((function e(t,i,c){var a,s,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!i){e.next=10;break}return t.applyOptions({leftPriceScale:{title:i,visible:!0,borderColor:"rgba(197, 203, 206, 1)"}}),a=k.current=t.addLineSeries({priceScaleId:c,topColor:"#569bda",bottomColor:"#569bda",lineColor:"#569bda",lineWidth:2}),e.next=5,R(i);case 5:s=e.sent,r=s.map((function(e){return{time:e.time,value:e.close}})),a.setData(r),S.current=r,g.a.subscribe("get_kline_update",{symbol:i,time_type:x.q[n]},(function(e){var t=S.current[S.current.length-1];if(e.time>=t.time){var n={time:e.time,value:e.close};a.update(n),S.current=[].concat(Object(d.a)(S.current),[e])}}));case 10:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}(),P=function(e){e.point&&"function"===typeof a&&e.seriesPrices.forEach((function(t){if(t&&t.open&&t.close&&t.high&&t.low){var n={time:e.time,data:t};a(n)}}))},J=function(e,t){if(e.applyOptions({visible:!e.options().visible}),v.current){var n=v.current;n.applyOptions(Object(l.a)({},"".concat(t,"PriceScale"),{visible:!n.options()["".concat(t,"PriceScale")].visible}))}};return Object(i.useEffect)((function(){var e,t=[];if(h.config&&p){var i=h.config.symbol;e=v.current=function(e){if(y.current&&e&&n){var t=Object(O.b)(y.current,{localization:{timeFormatter:function(e){return m()(e,"yyyy-mm-dd HH:MM")}},width:"1198",height:478,timezone:Intl?Intl.DateTimeFormat().resolvedOptions().timeZone:"Etc/UTC",timeScale:{rightOffset:3,timeVisible:!0,borderColor:"#fff",tickMarkFormatter:function(e,t,i){var c="1W"===n||"1D"===n?"yyyy-mm-dd":"HH:MM";return m()(e,c)}},priceScale:{borderColor:"#fff",mode:1},crosshair:{mode:O.a.Normal,vertLine:{color:"#fff",labelBackgroundColor:"#569bda"},horzLine:{color:"#fff",labelBackgroundColor:"#569bda"}},grid:{vertLines:{visible:!1},horzLines:{visible:!1}},layout:{backgroundColor:"#212327",textColor:"#aaa",fontSize:12}});return t.subscribeCrosshairMove(P),t}}(i),r?(_(e,Object(x.k)(i),"left"),t.push(Object(x.k)(i)),F(e,Object(x.k)("".concat(i,"-MARKPRICE")),"right"),t.push(Object(x.k)("".concat(i,"-MARKPRICE")))):(F(e,Object(x.k)("".concat(i,"-MARKPRICE")),"right"),t.push(Object(x.k)("".concat(i,"-MARKPRICE")))),w.current=t}var c=null;return e&&e.timeScale().subscribeVisibleLogicalRangeChange((function(){null!=c||M||(c=setTimeout(Object(b.a)(u.a.mark((function t(){var i,a,s,o,l,j,b,p,m;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.timeScale().getVisibleLogicalRange(),!(null!==(a=C.current&&C.current.barsInLogicalRange(i))&&a.barsBefore<-10)){t.next=17;break}return Q(!0),s=Math.floor((I.current[0].time-1*x.w[n])/1e3,0),o=s-(Math.abs(Math.floor(a.barsBefore,0))-1)*x.w[n],l=Object(x.k)("".concat(h.config.symbol,"-MARKPRICE")),t.next=9,R(l,o,s,!0);case 9:if(j=t.sent,I.current&&C.current&&j.length>0&&(b=[].concat(Object(d.a)(j),Object(d.a)(I.current)),C.current.setData(b),I.current=b),!(r&&j.length>0)){t.next=16;break}return t.next=14,R(Object(x.k)("".concat(h.config.symbol)),o,s,!0);case 14:p=t.sent,S.current&&k.current&&p.length>0&&(m=p.map((function(e){return{time:e.time,value:e.close}})),b=[].concat(Object(d.a)(m),Object(d.a)(S.current)),k.current.setData(b),S.current=b);case 16:Q(!1);case 17:c=null;case 18:case"end":return t.stop()}}),t)}))),500))})),function(){w.current&&w.current.forEach((function(e){return g.a.unsubscribe("un_get_kline",{symbol:e,time_type:x.q[n]})})),e&&(C.current&&e.removeSeries(C.current),k.current&&e.removeSeries(k.current),e.remove()),C.current=null,k.current=null}}),[n,p,h.config]),Object(A.jsxs)("div",{className:"ligth-chart-container",id:"ligth-chart-container",ref:y,children:[Object(A.jsx)("div",{className:E}),r&&Object(A.jsxs)("div",{className:"legend",children:[Object(A.jsxs)("div",{onClick:function(){return J(C.current,"right")},children:[Object(A.jsx)("span",{className:"legend-option-left",children:" "}),Object(A.jsx)("span",{className:"legend-option-right",children:" "}),o.option]}),Object(A.jsxs)("div",{onClick:function(){return J(k.current,"left")},children:[Object(A.jsx)("span",{className:"legend-index"}),h.config&&Object(x.A)("".concat(h.config.symbol))]})]})]})})));var v=n(59),y=function(){return(y=Object.assign||function(e){for(var t,n=arguments,i=1,c=arguments.length;i<c;i++)for(var a in t=n[i])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function N(e,t){var n=y({},e);for(var i in t)"object"!=typeof e[i]||null===e[i]||Array.isArray(e[i])?void 0!==t[i]&&(n[i]=t[i]):n[i]=N(e[i],t[i]);return n}var w={mobile:{disabled_features:["left_toolbar","header_widget","timeframes_toolbar","edit_buttons_in_legend","context_menus","control_bar","border_around_the_chart"],enabled_features:[]}},C={width:800,height:500,interval:"1D",timezone:"Etc/UTC",container_id:"",library_path:"",locale:"en",widgetbar:{details:!1,watchlist:!1,watchlist_settings:{default_symbols:[]}},overrides:{"mainSeriesProperties.showCountdown":!1},studies_overrides:{},trading_customization:{position:{},order:{}},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:"5y",resolution:"1W"},{text:"1y",resolution:"1W"},{text:"6m",resolution:"120"},{text:"3m",resolution:"60"},{text:"1m",resolution:"30"},{text:"5d",resolution:"5"},{text:"1d",resolution:"1"}],client_id:"0",user_id:"0",charts_storage_api_version:"1.0",favorites:{intervals:[],chartTypes:[]}};var k=function(){function e(e){if(this._id="tradingview_"+(1048576*(1+Math.random())|0).toString(16).substring(1),this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!e.datafeed)throw new Error("Datafeed is not defined");if(this._options=N(C,e),e.preset){var t=w[e.preset];t?(void 0!==this._options.disabled_features?this._options.disabled_features=this._options.disabled_features.concat(t.disabled_features):this._options.disabled_features=t.disabled_features,void 0!==this._options.enabled_features?this._options.enabled_features=this._options.enabled_features.concat(t.enabled_features):this._options.enabled_features=t.enabled_features):console.warn("Unknown preset: `"+e.preset+"`")}"Dark"===this._options.theme&&void 0===this._options.loading_screen&&(this._options.loading_screen={backgroundColor:"#131722"}),this._create()}return e.prototype.onChartReady=function(e){this._ready?e.call(this):this._readyHandlers.push(e)},e.prototype.headerReady=function(){var e=this;return this._innerWindowLoaded.then((function(){return e._innerWindow().headerReady()}))},e.prototype.onGrayedObjectClicked=function(e){this._innerAPI().onGrayedObjectClicked(e)},e.prototype.onShortcut=function(e,t){this._innerWindow().createShortcutAction(e,t)},e.prototype.subscribe=function(e,t){this._innerAPI().subscribe(e,t)},e.prototype.unsubscribe=function(e,t){this._innerAPI().unsubscribe(e,t)},e.prototype.chart=function(e){return this._innerAPI().chart(e)},e.prototype.getLanguage=function(){return this._options.locale},e.prototype.setSymbol=function(e,t,n){this._innerAPI().changeSymbol(e,t,n)},e.prototype.remove=function(){window.removeEventListener("resize",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id],this._iFrame.parentNode&&this._iFrame.parentNode.removeChild(this._iFrame)},e.prototype.closePopupsAndDialogs=function(){this._innerAPI().closePopupsAndDialogs()},e.prototype.selectLineTool=function(e){this._innerAPI().selectLineTool(e)},e.prototype.selectedLineTool=function(){return this._innerAPI().selectedLineTool()},e.prototype.save=function(e){this._innerAPI().saveChart(e)},e.prototype.load=function(e,t){this._innerAPI().loadChart({json:e,extendedData:t})},e.prototype.getSavedCharts=function(e){this._innerAPI().getSavedCharts(e)},e.prototype.loadChartFromServer=function(e){this._innerAPI().loadChartFromServer(e)},e.prototype.saveChartToServer=function(e,t,n){this._innerAPI().saveChartToServer(e,t,n)},e.prototype.removeChartFromServer=function(e,t){this._innerAPI().removeChartFromServer(e,t)},e.prototype.onContextMenu=function(e){this._innerAPI().onContextMenu(e)},e.prototype.createButton=function(e){return this._innerWindow().createButton(e)},e.prototype.showNoticeDialog=function(e){this._innerAPI().showNoticeDialog(e)},e.prototype.showConfirmDialog=function(e){this._innerAPI().showConfirmDialog(e)},e.prototype.showLoadChartDialog=function(){this._innerAPI().showLoadChartDialog()},e.prototype.showSaveAsChartDialog=function(){this._innerAPI().showSaveAsChartDialog()},e.prototype.symbolInterval=function(){return this._innerAPI().getSymbolInterval()},e.prototype.mainSeriesPriceFormatter=function(){return this._innerAPI().mainSeriesPriceFormatter()},e.prototype.getIntervals=function(){return this._innerAPI().getIntervals()},e.prototype.getStudiesList=function(){return this._innerAPI().getStudiesList()},e.prototype.addCustomCSSFile=function(e){this._innerWindow().addCustomCSSFile(e)},e.prototype.applyOverrides=function(e){this._options=N(this._options,{overrides:e}),this._innerWindow().applyOverrides(e)},e.prototype.applyStudiesOverrides=function(e){this._innerWindow().applyStudiesOverrides(e)},e.prototype.watchList=function(){return this._innerAPI().watchlist()},e.prototype.activeChart=function(){return this._innerAPI().activeChart()},e.prototype.chartsCount=function(){return this._innerAPI().chartsCount()},e.prototype.layout=function(){return this._innerAPI().layout()},e.prototype.setLayout=function(e){this._innerAPI().setLayout(e)},e.prototype.layoutName=function(){return this._innerAPI().layoutName()},e.prototype.changeTheme=function(e,t){this._innerWindow().changeTheme(e,t)},e.prototype.getTheme=function(){return this._innerWindow().getTheme()},e.prototype.takeScreenshot=function(){this._innerAPI().takeScreenshot()},e.prototype.lockAllDrawingTools=function(){return this._innerAPI().lockAllDrawingTools()},e.prototype.hideAllDrawingTools=function(){return this._innerAPI().hideAllDrawingTools()},e.prototype.drawOnAllCharts=function(e){this._innerAPI().drawOnAllCharts(e)},e.prototype.magnetEnabled=function(){return this._innerAPI().magnetEnabled()},e.prototype.magnetMode=function(){return this._innerAPI().magnetMode()},e.prototype.undoRedoState=function(){return this._innerAPI().undoRedoState()},e.prototype.setIntervalLinkingEnabled=function(e){this._innerAPI().setIntervalLinkingEnabled(e)},e.prototype.setTimeFrame=function(e){this._innerAPI().setTimeFrame(e)},e.prototype.symbolSync=function(){return this._innerAPI().symbolSync()},e.prototype.intervalSync=function(){return this._innerAPI().intervalSync()},e.prototype.crosshairSync=function(){return this._innerAPI().crosshairSync()},e.prototype.timeSync=function(){return this._innerAPI().timeSync()},e.prototype.getAllFeatures=function(){return this._innerWindow().getAllFeatures()},e.prototype.clearUndoHistory=function(){return this._innerAPI().clearUndoHistory()},e.prototype.undo=function(){return this._innerAPI().undo()},e.prototype.redo=function(){return this._innerAPI().redo()},e.prototype.startFullscreen=function(){this._innerAPI().startFullscreen()},e.prototype.exitFullscreen=function(){this._innerAPI().exitFullscreen()},e.prototype.takeClientScreenshot=function(e){return this._innerAPI().takeClientScreenshot(e)},e.prototype._innerAPI=function(){return this._innerWindow().tradingViewApi},e.prototype._innerWindow=function(){return this._iFrame.contentWindow},e.prototype._autoResizeChart=function(){this._options.fullscreen&&(this._iFrame.style.height=window.innerHeight+"px")},e.prototype._create=function(){var e=this,t=this._render(),n=document.getElementById(this._options.container_id);if(null===n)throw new Error("There is no such element - #"+this._options.container_id);n.innerHTML=t,this._iFrame=n.querySelector("#"+this._id);var i=this._iFrame;(this._options.autosize||this._options.fullscreen)&&(i.style.width="100%",this._options.fullscreen||(i.style.height="100%")),window.addEventListener("resize",this._onWindowResize),this._onWindowResize(),this._innerWindowLoaded=new Promise((function(e){i.addEventListener("load",(function t(){i.removeEventListener("load",t,!1),e()}),!1)})),this._innerWindowLoaded.then((function(){e._innerWindow().widgetReady((function(){e._ready=!0;for(var t=0,n=e._readyHandlers;t<n.length;t++){var i=n[t];try{i.call(e)}catch(c){console.error(c)}}e._innerWindow().initializationFinished()}))}))},e.prototype._render=function(){var e=window;if(e[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.custom_formatters||this._options.customFormatters,brokerFactory:this._options.broker_factory||this._options.brokerFactory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,tradingCustomization:this._options.trading_customization,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.broker_config||this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter,getCustomIndicators:this._options.custom_indicators_getter},this._options.saved_data)e[this._id].chartContent={json:this._options.saved_data},this._options.saved_data_meta_info&&(e[this._id].chartContentExtendedData=this._options.saved_data_meta_info);else if(!this._options.load_last_chart&&!this._options.symbol)throw new Error("Symbol is not defined: either 'symbol' or 'load_last_chart' option must be set");var t=(this._options.library_path||"")+(encodeURIComponent(this._options.locale)+"-tv-chart.b555c6a4.html#symbol=")+encodeURIComponent(this._options.symbol||"")+"&interval="+encodeURIComponent(this._options.interval)+(this._options.timeframe?"&timeframe="+encodeURIComponent(this._options.timeframe):"")+(this._options.toolbar_bg?"&toolbarbg="+encodeURIComponent(this._options.toolbar_bg.replace("#","")):"")+(this._options.studies_access?"&studiesAccess="+encodeURIComponent(JSON.stringify(this._options.studies_access)):"")+"&widgetbar="+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?"&drawingsAccess="+encodeURIComponent(JSON.stringify(this._options.drawings_access)):"")+"&timeFrames="+encodeURIComponent(JSON.stringify(this._options.time_frames))+"&locale="+encodeURIComponent(this._options.locale)+"&uid="+encodeURIComponent(this._id)+"&clientId="+encodeURIComponent(String(this._options.client_id))+"&userId="+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?"&chartsStorageUrl="+encodeURIComponent(this._options.charts_storage_url):"")+(this._options.charts_storage_api_version?"&chartsStorageVer="+encodeURIComponent(this._options.charts_storage_api_version):"")+(this._options.custom_css_url?"&customCSS="+encodeURIComponent(this._options.custom_css_url):"")+(this._options.auto_save_delay?"&autoSaveDelay="+encodeURIComponent(String(this._options.auto_save_delay)):"")+"&debug="+encodeURIComponent(String(this._options.debug))+(this._options.snapshot_url?"&snapshotUrl="+encodeURIComponent(this._options.snapshot_url):"")+(this._options.timezone?"&timezone="+encodeURIComponent(this._options.timezone):"")+(this._options.study_count_limit?"&studyCountLimit="+encodeURIComponent(String(this._options.study_count_limit)):"")+(this._options.symbol_search_request_delay?"&ssreqdelay="+encodeURIComponent(String(this._options.symbol_search_request_delay)):"")+(this._options.compare_symbols?"&compareSymbols="+encodeURIComponent(JSON.stringify(this._options.compare_symbols)):"")+(this._options.theme?"&theme="+encodeURIComponent(String(this._options.theme)):"");return'<iframe id="'+this._id+'" name="'+this._id+'"  src="'+t+'"'+(this._options.autosize||this._options.fullscreen?"":' width="'+this._options.width+'" height="'+this._options.height+'"')+' frameborder="0" allowTransparency="true" scrolling="no" allowfullscreen style="display:block;"></iframe>'},e}();window.TradingView=window.TradingView||{},window.TradingView.version=function(){return"CL v18.043 (internal id b555c6a4 @ 2021-02-18T09:41:15.150Z)"};var S,I=n(1139),D=n(41),B=["1","5","15","30","60","240","1D","5D","1W","1M"],M="".concat("https://oracle4.deri.finance","/get_kline"),Q={};var E=Object(r.b)("intl","type")(Object(r.c)((function(e){var t=e.trading,n=e.interval,c=e.showLoad,a=e.intl,s=e.config,r=e.type,l=Object(i.useRef)(null),d=Object(i.useRef)(null),j=Object(i.useRef)({onReady:function(e){setTimeout((function(){return e({supported_resolutions:B})}),0)},getBars:function(e,t,n,i,c,a,r){return p(e,t,n,i,c,a,r,s)},resolveSymbol:function(e,t){return h(e,t)},subscribeBars:function(e,t,n,i,c){return m(e,t,n,i,c)},unsubscribeBars:function(e){return O(e)}}),p=function(){var e=Object(b.a)(u.a.mark((function e(t,n,i,a,s,r,o,l){var j,b,p,m;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j=t.name.indexOf("-INDEX"),b=j>-1?t.name.substring(0,j):t.config.markpriceSymbolFormat||t.name,e.next=4,f.a.get(M,{params:{symbol:Object(x.k)(b),time_type:x.q[n],from:i,to:a}});case 4:(p=e.sent)&&200===p.status&&Array.isArray(p.data.data)&&p.data.data.length>0?(m=p.data.data,c(!1),s(m),d.current=m[m.length-1]):s([],{noData:!0});case 6:case"end":return e.stop()}}),e)})));return function(t,n,i,c,a,s,r,o){return e.apply(this,arguments)}}(),m=function(e,t,n,i,c){var a=e.name.indexOf("-INDEX"),s=a>-1?e.name.substring(0,a):e.config.markpriceSymbolFormat||e.name;g.a.subscribe("get_kline_update",{symbol:Object(x.k)(s),time_type:x.q[t]},(function(e){e&&d.current&&e.time>=d.current.time&&(Q[i]=e.symbol,n(e),d.current=e)}))},O=function(e){Q[e]&&g.a.unsubscribe("un_get_kline",{symbol:Q[e],time_type:x.q[n]})},h=function(e,n){var i=e;o.a.isFuture&&!D.a.isOpen&&(i="".concat(e,"-MARK")),setTimeout((function(){return n({name:e,ticker:e,description:i,pricescale:e.indexOf("-INDEX")>0?100:1*Math.pow(10,t.priceDecimals),config:S,type:"index",minmov:1,has_intraday:!0,intraday_multipliers:["1","2","5","15","30","60","240","1D","7D","1W","1M"],has_weekly_and_monthly:!0,has_no_volume:!0,has_daily:!0,timezone:"UTC",session:"24x7",supported_resolutions:B})}),0)},y=function(){var e=Intl?Intl.DateTimeFormat().resolvedOptions().timeZone:"Etc/UTC",t=Object(v.a)({symbol:s.symbol,datafeed:j.current,interval:n,locale:a.locale,timezone:e},I);l.current=new k(t),l.current.onChartReady((function(){if(o.a.isFuture&&!D.a.isOpen||o.a.isOption){var e=o.a.isFuture?"as-series":"new-left",t=o.a.isFuture?"".concat(s.symbol,"-INDEX"):"".concat(s.symbol.split("-")[0],"-INDEX");l.current.chart().createStudy("Overlay",!0,!1,[t],null,{priceScale:e,color:"#aaa"})}}))};return Object(i.useEffect)((function(){return s&&s.symbol&&n&&(S=s,y(),g.a.addReconnectEvent(s.symbol,(function(){d.current&&d.current.time&&d.current.time<(new Date).getTime()&&y()}))),function(){l.current&&l.current.remove(),O(),s&&g.a.removeReconnectEvent(s.symbol)}}),[n,s,r.current]),Object(A.jsx)("div",{id:"tv-container"})})));var R=Object(r.b)("intl","trading")(Object(r.c)((function(e){var t=e.symbol,n=e.lang,a=e.trading,r=Object(i.useState)(!0),l=Object(c.a)(r,2),d=l[0],j=l[1],u=Object(i.useState)("one"),b=Object(c.a)(u,2),p=b[0],m=b[1],O=Object(i.useState)(""),h=Object(c.a)(O,2),f=h[0],x=h[1],g=Object(i.useState)("1"),v=Object(c.a)(g,2),y=v[0],N=v[1],w=Object(i.useState)(""),C=Object(c.a)(w,2),k=C[0],S=(C[1],s()("btn",p)),I=(s()("switcher",f),function(e,t){m(t),N(e)});return Object(i.useEffect)((function(){return o.a.isOption?x("mark-price"):x("index-price"),function(){}}),[]),Object(A.jsxs)("div",{id:"tradingview",children:[Object(A.jsxs)("div",{className:S,children:[Object(A.jsxs)("span",{className:"candle-data-area",children:[Object(A.jsx)("span",{className:"symbol-value",style:{display:"mark-price"===f||"option-index"===f?"inline-block":"none"},children:k&&t}),Object(A.jsx)("span",{className:"candle-data",style:{display:"mark-price"===f||"option-index"===f?"inline-block":"none"},children:k})]}),Object(A.jsxs)("span",{className:"interval",children:[Object(A.jsxs)("span",{className:"tab-btn one",onClick:function(){return I("1","one")},children:["1",n.min]}),Object(A.jsxs)("span",{className:"tab-btn five",onClick:function(){return I("5","five")},children:["5",n.min]}),Object(A.jsxs)("span",{className:"tab-btn fifteen",onClick:function(){return I("15","fifteen")},children:["15",n.min]}),Object(A.jsxs)("span",{className:"tab-btn thirty",onClick:function(){return I("30","thirty")},children:["30",n.min]}),Object(A.jsxs)("span",{className:"tab-btn sixty",onClick:function(){return I("60","sixty")},children:["1",n.hour]}),Object(A.jsxs)("span",{className:"tab-btn one-day",onClick:function(){return I("1D","one-day")},children:["1",n.day]}),Object(A.jsxs)("span",{className:"tab-btn one-week",onClick:function(){return I("1W","one-week")},children:["1",n.week]})]})]}),Object(A.jsx)("div",{className:"loading",style:{display:d?"block":"none"},children:Object(A.jsx)("div",{className:"spinner-border",role:"status",children:Object(A.jsx)("span",{className:"sr-only"})})}),Object(A.jsx)("div",{children:Object(A.jsx)(E,{trading:a,symbol:t,config:a.config,interval:y,showLoad:function(e){return j(e)}})})]})}))),F=n(697),_=n(16),P=n(702);var J=Object(r.b)("trading","version","type")(Object(r.c)((function(e){var t=e.version,n=e.trading,a=e.lang,s=e.type,r=Object(i.useState)("rise"),o=Object(c.a)(r,2),l=o[0],d=o[1],j=Object(i.useState)("rise"),u=Object(c.a)(j,2),b=u[0],p=u[1],m=Object(i.useState)(),O=Object(c.a)(m,2),h=O[0],f=O[1],x=Object(i.useState)(""),g=Object(c.a)(x,2),v=g[0],y=g[1],N=Object(i.useRef)(),w=Object(i.useRef)();return Object(i.useEffect)((function(){return N.current&&(N.current>n.index?d("fall"):d("rise")),N.current=n.index,function(){}}),[n.index]),Object(i.useEffect)((function(){var e=n.markPrice||(n.position?n.position.markPrice:"");w.current>e?p("fall trade-dashboard-value"):p("rise trade-dashboard-value"),w.current=e,f(e)}),[n.index,n.markPrice,n.position]),Object(i.useEffect)((function(){if(n.fundingRate.funding0&&h){var e=Object(_.g)(n.fundingRate.funding0).div(Object(_.g)(h)).times(Object(_.g)(100)).toString();y(e)}}),[n.fundingRate,h]),Object(A.jsxs)("div",{id:"trading-view",children:[Object(A.jsxs)("div",{className:"right-top",children:[Object(A.jsx)("div",{className:"symbol-basetoken-text",children:s.isOption?"".concat(n.config?n.config.symbol:""):t.isV1||t.isV2Lite||t.isOpen?"".concat(n.config?n.config.symbol:"BTCUSD"," / ").concat(n.config?n.config.bTokenSymbol:"","  (10X)"):"".concat(n.config?n.config.symbol:"BTCUSD"," (10X)")}),s.isFuture&&Object(A.jsxs)(A.Fragment,{children:[!t.isOpen&&!t.isV1&&Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(A.jsx)("div",{className:"trade-dashboard-title",children:a["mark-price"]}),Object(A.jsx)("div",{className:b,children:Object(A.jsx)(F.a,{value:h,decimalScale:n.priceDecimals})})]})}),Object(A.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(A.jsx)("div",{className:"trade-dashboard-title",children:a["index-price"]}),Object(A.jsx)("div",{className:l,children:Object(A.jsx)(F.a,{value:n.index,decimalScale:n.priceDecimals})})]}),Object(A.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[(t.isOpen||t.isV1)&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"trade-dashboard-title",children:[Object(A.jsx)("span",{children:a["funding-rate-annual"]}),"  "]}),Object(A.jsx)("div",{className:"trade-dashboard-value",children:Object(A.jsx)(P.a,{block:!1,children:Object(A.jsx)("span",{className:"funding-per",tip:n.fundingRateTip||"",children:Object(A.jsx)(F.a,{value:n.fundingRate.fundingRate0,decimalScale:4,suffix:"%"})})})})]}),!t.isOpen&&!t.isV1&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"trade-dashboard-title",children:[Object(A.jsx)("span",{children:a["funding-rate"]}),"  "]}),Object(A.jsxs)("div",{className:"trade-dashboard-value",children:[Object(A.jsx)(P.a,{block:!1,children:Object(A.jsx)("span",{className:"funding-per",tip:n.dpmmFundingRateTip||"",children:Object(A.jsx)(F.a,{value:n.fundingRate.funding0,decimalScale:4})})}),Object(A.jsxs)(P.a,{block:!1,children:["\xa0  ",Object(A.jsxs)("span",{className:"funding-per",tip:n.rateTip||"",children:["(",Object(A.jsx)(F.a,{value:v,decimalScale:4,suffix:"%"}),")"]})]})]})]})]}),Object(A.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(A.jsx)("div",{className:"trade-dashboard-title",children:a["total-net-position"]}),Object(A.jsx)("div",{className:"trade-dashboard-value",children:Object(A.jsx)(P.a,{block:!1,children:Object(A.jsx)("span",{className:"funding-per",tip:n.TotalNetPositionTip||"",children:Object(A.jsx)(F.a,{value:n.fundingRate.tradersNetVolume,thousandSeparator:!0})})})})]})]}),s.isOption&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"trade-dashboard-item latest-price option-price-weight",children:[Object(A.jsx)("div",{className:"trade-dashboard-title",children:a["eo-mark-price"]}),Object(A.jsx)("div",{className:b,children:Object(A.jsx)(F.a,{value:h,decimalScale:4})})]}),Object(A.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(A.jsx)("div",{className:"trade-dashboard-title option-symbol",children:n.config&&s.isOption?n.config.symbol.split("-")[0]:""}),Object(A.jsxs)("div",{className:"trade-dashboard-value",children:[Object(A.jsxs)("span",{children:[" ",Object(A.jsx)(F.a,{value:n.index,decimalScale:2})," "]}),Object(A.jsx)("span",{className:"vol",children:" | "}),a.vol," : ",Object(A.jsx)(F.a,{value:n.volatility,decimalScale:2,suffix:"%"})]})]}),Object(A.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(A.jsxs)("div",{className:"trade-dashboard-title",children:[Object(A.jsx)("span",{children:a["funding-rate"]}),"  "]}),Object(A.jsx)("div",{className:"trade-dashboard-value",children:Object(A.jsx)(P.a,{block:!1,children:Object(A.jsx)("span",{className:"funding-per",tip:n.optionFundingRateTip||"",children:Object(A.jsx)(F.a,{value:n.fundingRate.premiumFunding0,decimalScale:4})})})})]}),Object(A.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(A.jsx)("div",{className:"trade-dashboard-title",children:a["total-net-position"]}),Object(A.jsx)("div",{className:"trade-dashboard-value",children:Object(A.jsx)(F.a,{value:Object(_.g)(n.fundingRate.tradersNetVolume).times(n.contract.multiplier).toString(),decimalScale:4})})]})]}),Object(A.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(A.jsx)("div",{className:"trade-dashboard-title",children:a["pool-total-liquidity"]}),Object(A.jsxs)("div",{className:"trade-dashboard-value",children:[" ",Object(A.jsx)(F.a,{allowLeadingZeros:!0,thousandSeparator:!0,value:n.fundingRate.liquidity,decimalScale:2})," ",n.config&&n.config.bTokenSymbol]})]})]}),Object(A.jsx)("div",{className:"tradingview",children:Object(A.jsx)(R,{symbol:n.config&&n.config.symbol,lang:a,version:t})})]})}))),L=n(77),T=n(198),H=n(749),Y=n(750),G=n(838),z=n(839),U=(n(836),n(787)),W=(n(837),Object(T.a)(H.a)),V=Object(T.a)(Y.a),q=Object(T.a)(U.a);function Z(e){var t=e.wallet,n=e.trading,a=e.lang,s=Object(i.useState)(Object(A.jsx)("span",{})),r=Object(c.a)(s,2),o=r[0],l=r[1];return Object(i.useEffect)((function(){if(t.isConnected()&&n.positions)if(n.positions.length&&n.positions.length>0){if(n.positions[0].liquidationPrice&&Array.isArray(n.positions[0].liquidationPrice)){var e=n.positions[0].liquidationPrice.map((function(e,t){return function(e,t){var n=Object(A.jsx)("span",{children:"--"},t);return e.numPositions>1?(e.price1&&e.price2?n=Object(A.jsxs)("span",{children:[Object(A.jsxs)("span",{children:[e.underlier,": "]}),Object(A.jsxs)("span",{children:[Object(A.jsx)(F.a,{decimalScale:2,value:e.price1}),Object(A.jsx)("span",{children:" / "}),Object(A.jsx)(F.a,{decimalScale:2,value:e.price2})]}),"\xa0"]},t):e.price1||e.price2?!e.price1&&e.price2?n=Object(A.jsxs)("span",{children:[Object(A.jsxs)("span",{children:[e.underlier,": "]}),Object(A.jsxs)("span",{children:[Object(A.jsxs)(P.a,{block:!1,children:[" ",Object(A.jsx)("span",{className:"funding-fee",tip:a["liq-price-hover-three"],children:" ? "}),"  "]}),Object(A.jsx)("span",{children:" / "}),Object(A.jsxs)("span",{children:[" ",Object(A.jsx)(F.a,{decimalScale:2,value:e.price2})," "]})]}),"\xa0"]},t):e.price1&&!e.price2&&(n=Object(A.jsxs)("span",{children:[Object(A.jsxs)("span",{children:[e.underlier,": "]}),Object(A.jsxs)("span",{children:[Object(A.jsxs)("span",{children:[" ",Object(A.jsx)(F.a,{decimalScale:2,value:e.price1})," "]}),Object(A.jsx)("span",{children:" / "}),Object(A.jsxs)(P.a,{block:!1,children:[" ",Object(A.jsx)("span",{className:"funding-fee",tip:a["liq-price-hover-three"],children:" ? "})]})]}),"\xa0"]},t)):n=Object(A.jsxs)("span",{children:[Object(A.jsxs)("span",{children:[e.underlier,": "]}),Object(A.jsxs)("span",{children:[Object(A.jsxs)(P.a,{block:!1,children:[" ",Object(A.jsx)("span",{className:"funding-fee",tip:a["liq-price-hover-three"],children:" ? "})]}),Object(A.jsx)("span",{children:" / "}),Object(A.jsxs)(P.a,{block:!1,children:["   ",Object(A.jsx)("span",{className:"funding-fee",tip:a["liq-price-hover-three"],children:" ? "})]})]}),"\xa0"]},t),n):(e.price1&&e.price2?n=Object(A.jsxs)("span",{children:[Object(A.jsxs)("span",{children:[e.underlier,": "]}),Object(A.jsxs)("span",{children:[Object(A.jsx)(F.a,{decimalScale:2,value:e.price1}),Object(A.jsx)("span",{children:" / "}),Object(A.jsx)(F.a,{decimalScale:2,value:e.price2})]}),"\xa0"]},t):e.price1||e.price2?!e.price1&&e.price2?n=Object(A.jsxs)("span",{children:[Object(A.jsxs)("span",{children:[e.underlier,": "]}),Object(A.jsxs)("span",{children:[Object(A.jsxs)(P.a,{block:!1,children:[" ",Object(A.jsx)("span",{className:"funding-fee",tip:a["liq-price-hover-two"],children:" -- "})]}),Object(A.jsx)("span",{children:" / "}),Object(A.jsxs)("span",{children:[" ",Object(A.jsx)(F.a,{decimalScale:2,value:e.price2})," "]})]}),"\xa0"]},t):e.price1&&!e.price2&&(n=Object(A.jsxs)("span",{children:[Object(A.jsxs)("span",{children:[e.underlier,": "]}),Object(A.jsxs)("span",{children:[Object(A.jsxs)("span",{children:[" ",Object(A.jsx)(F.a,{decimalScale:2,value:e.price1})," "]}),Object(A.jsx)("span",{children:" / "}),Object(A.jsxs)(P.a,{block:!1,children:[" ",Object(A.jsx)("span",{className:"funding-fee",tip:a["liq-price-hover-two"],children:" -- "})]})]}),"\xa0"]},t)):n=Object(A.jsxs)("span",{children:[Object(A.jsxs)("span",{children:[e.underlier,": "]}),Object(A.jsxs)("span",{children:[Object(A.jsxs)(P.a,{block:!1,children:[" ",Object(A.jsx)("span",{className:"funding-fee",tip:a["liq-price-hover-two"],children:" -- "})]}),Object(A.jsx)("span",{children:" / "}),Object(A.jsxs)(P.a,{block:!1,children:[" ",Object(A.jsx)("span",{className:"funding-fee",tip:a["liq-price-hover-two"],children:" -- "})]})]}),"\xa0"]},t),n)}(e,t)}));l(e)}}else l("")}),[t,n.positions]),Object(A.jsx)("span",{children:o})}var K=Object(r.b)("wallet","trading","version","type","loading")(Object(r.c)((function(e){var t=e.wallet,n=e.trading,a=e.version,s=e.lang,r=e.type,o=e.loading,l=Object(i.useState)("LONG"),d=Object(c.a)(l,2),j=(d[0],d[1]),p=Object(i.useState)(!1),m=Object(c.a)(p,2),O=m[0],h=m[1],f=Object(i.useState)(null),g=Object(c.a)(f,2),v=g[0],y=g[1],N=Object(i.useState)(!1),w=Object(c.a)(N,2),C=w[0],k=w[1],S=Object(i.useState)(!1),I=Object(c.a)(S,2),D=I[0],B=I[1],M=Object(i.useState)(!1),Q=Object(c.a)(M,2),E=Q[0],R=Q[1],J=Object(i.useState)(""),T=Object(c.a)(J,2),H=T[0],Y=T[1],U=Object(i.useState)(""),K=Object(c.a)(U,2),X=K[0],$=K[1],ee=Object(i.useState)(""),te=Object(c.a)(ee,2),ne=te[0],ie=te[1],ce=Object(i.useState)([]),ae=Object(c.a)(ce,2),se=ae[0],re=ae[1];Object(i.useEffect)((function(){t.isConnected()&&n.positions&&re(n.positions)}),[t.detail.account,n.positions]);var oe=function(){de()},le=oe,de=function(){je(),n.refresh()},je=function(){var e=Object(b.a)(u.a.mark((function e(){var i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isConnected()||!n.config){e.next=5;break}return e.next=3,Object(_.cb)(t.detail.chainId,n.config.pool,t.detail.account,n.config.bTokenId).catch((function(e){return console.log(e)}));case 3:(i=e.sent)&&Y(i);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(b.a)(u.a.mark((function e(i,c,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),y(a),e.next=4,Object(_.i)(t.detail.chainId,n.config.pool,t.detail.account,i).finally((function(){h(!1),y(null)}));case 4:(r=e.sent).success?de():"string"===typeof r.error?alert(r.error||s["close-position-failed"]):"object"===Object(L.a)(r.error)?alert(r.error.errorMessage||s["close-position-failed"]):alert(s["close-position-failed"]);case 6:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){if(n.position){var e=n.position,t=+e.volume>0?"LONG":e.volume&&!Object(x.e)(e.volume,0)&&e.volume?"SHORT":"--";j(t),$(Object(_.g)(e.margin).plus(e.unrealizedPnl).toString()),ie(Object(_.g)(e.margin).plus(e.unrealizedPnl).minus(e.marginHeld).toString())}return function(){}}),[n.position.volume,n.position.margin,n.position.unrealizedPnl]),Object(i.useEffect)((function(){return je(),function(){}}),[t.detail.account,n.config,n.amount.dynBalance]),Object(A.jsxs)("div",{className:"position-box",children:[Object(A.jsxs)("div",{className:"p1-box theader",children:[Object(A.jsxs)("div",{className:"dyn-eff-bal",children:[s["dynamic-effective-balance"]," : \xa0",Object(A.jsxs)("span",{children:[a.isV1||a.isV2Lite||r.isOption||a.isOpen?Object(A.jsx)(P.a,{block:!1,children:Object(A.jsx)("span",{className:"open-add",id:"openAddMargin",onClick:function(){return B(!0)},tip:s["remove-margin"],children:Object(A.jsx)("img",{src:G.a,alt:"add margin"})})}):Object(A.jsx)(P.a,{block:!1,children:Object(A.jsx)("span",{className:"open-add",id:"openAddMargin",tip:s["remove-margin"],onClick:function(){return R(!0)},children:Object(A.jsx)("img",{src:G.a,alt:"add margin"})})}),Object(A.jsx)(F.a,{allowZero:!0,value:X,decimalScale:2}),a.isV1||a.isV2Lite||r.isOption||a.isOpen?Object(A.jsx)(P.a,{block:!1,children:Object(A.jsx)("span",{className:"open-remove",onClick:function(){return k(!0)},tip:s["add-margin"],children:Object(A.jsx)("img",{src:z.a,alt:"add margin"})})}):Object(A.jsx)(P.a,{block:!1,children:Object(A.jsx)("span",{className:"open-remove",onClick:function(){return R(!0)},tip:s["add-margin"],children:Object(A.jsx)("img",{src:z.a,alt:"add margin"})})})]})]}),r.isOption&&Object(A.jsxs)(A.Fragment,{children:[" ",Object(A.jsxs)("div",{className:"liquidation-price",children:[Object(A.jsx)(P.a,{block:!1,children:Object(A.jsxs)("span",{className:"funding-fee",tip:s["liq-price-hover-one"],children:[s["liquidation-price"],"  "]})}),": ",Object(A.jsx)(Z,{wallet:t,trading:n,lang:s})]})]})]}),Object(A.jsxs)("div",{className:"p-box theader",children:[Object(A.jsx)("div",{className:"position-symbol",children:s.symbol}),Object(A.jsx)("div",{className:"position",children:s.position}),Object(A.jsx)("div",{className:"ave-entry-price",children:s["average-entry-price"]}),Object(A.jsx)("div",{className:"direction",children:s.direction}),Object(A.jsx)("div",{className:"margin",children:s.margin}),Object(A.jsx)("div",{className:"unrealized-pnl",children:s["unrealized-pnl"]}),Object(A.jsxs)("div",{children:[Object(A.jsx)(P.a,{children:Object(A.jsx)("span",{className:"funding-fee",tip:s["funding-fee-tip"],children:s["funding-fee"]})})," "]}),r.isFuture&&Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)("div",{className:"unrealized-pnl",children:[s["liquidation-price"]," "]})})]}),se.map((function(e,t){return Object(A.jsxs)("div",{className:"p-box tbody",children:[Object(A.jsx)("div",{className:"position-symbol",onClick:function(){return function(e){var t=n.configs.find((function(t){return t.pool===n.config.pool&&e===t.symbolId}));t&&(o.loading(),n.pause(),n.setConfig(t),n.onSymbolChange(t,(function(){return o.loaded()}),r.isOption))}(e.symbolId)},children:e.symbol}),Object(A.jsxs)("div",{className:"position",children:[Object(A.jsx)(F.a,{value:e.volume,thousandSeparator:!0,allowZero:!0}),Object(A.jsxs)("span",{className:"close-position",children:[Object(A.jsx)("img",{style:{display:v!==t?"inline-block":"none"},src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATgAAAE4CAYAAADPf+9qAAAABHNCSVQICAgIfAhkiAAAGEJJREFUeF7tnWmo7VUZh+8pHCvFCZtTUywoJSuKckgrmjBJUaNPURJkNpFSEGXThxKLJvoQpARBZNJEkmGJpFYWyS2xNJOykMKUq5VWlt1+69y9793nnD38hzW871rPhj/n3HPW8K7n956H/9F99l7b1uOxc+fOl2n4ObpO0HXY5Aor/HVy/UIfr1hbW/thj2UZCgEINE5AbjlFCM7S9XxdT5i45VEzbvnlxC1X90G1tmqwNn6Mxlyo6526Dlo1fvL9+/Tx07o+Kdn9s+MchkEAAg0RkFv21XHfoetdE6l1Of39GvQFXR+XW/6+asJSwamA87XAhyY2XbXWvO//RV+8WIV8cchk5kAAAnUSkFvepJN9VNcTB54w3ER9VG75zLL5cwWnzQ/QpCt0vWLg5punfVdfeL2KeTDSeiwDAQg4JCC37Keyv6LrzEjlX6t1zpJbwp3dlscWwamAp2tU+D336EgFTJe5XZ+crkLuiLwuy0EAAg4IyC1PVZlX6XpW5HL/oPVeK7fcsnndDYKb3Llt16AjIxcwXe5efXKiCgmy4wEBCDRCQG55mo56o64nJTryn7Xu8XJL+B+eux+7BacCHq2vXqPr1EQFILnEYFkeAhYJZJDb9Ng/0ycnS3L/nn5hVnDv1xc/lgnQPdrnJSrkN5n2YxsIQKAAAcntCG17va4nZ9r+Unnlog2CUxEH6wt/1BWeEpLrwa+ruUizDwQKEMh45zZ7uof1j6MluT+FL67fwamQ8Jy18Dy33A8kl5s4+0EgA4FCcpue7HIJLjwNZduaCtlbH3fo2j/DuedtgeQKgWdbCKQgUFhu4UiP6DowPC0tCC48163Xnz8kgILkEkBlSQjkJmBAbtMjnynBfTMI7nP6ygW5QczZD8kZCIESIDCUgCG5hSN8SYI7LwguPDflRUMPFXkekosMlOUgkIOAMbmFI2+X4J4TBHen/nFUDggd90ByHUExDAIWCBiUW8ByjwR3eBBc+Iv8x1oANVMDkjMWCOVAYB4Bo3ILpe7UtY9VwYUCkRw/UxAwTMCw3KbU9gqC+63+dYxRjkjOaDCU1TYBB3K7T7+iHhoEd52iCq+mafWB5KwmQ11NEnAgt5DLLRLccUFwn9I/3m08KSRnPCDKa4OAE7mFML4swb0xCC68z0J4FRHrDyRnPSHqq5qAI7mFHM6W4K4Mggsvk/SArpx/aD+0EZDcUHLMg8AIAs7kFv5U6wAJ7qHSf2w/BDmSG0KNORAYSMCZ3MIpL5Pc3hw+mQruEH1+l5O7uFA3khvYrEyDQB8CDuX2H53vSAnu7t2CC5/oIB/Uhw/3OXzhseFFM0/RQW4rXAfbQ6BKAhO53aDD5XqxyhgcPyEnvG+60OaXLL9O3zgxxi6Z1uBOLhNotmmLgMM7txDQz3W9WIILd3Hrj81vOhNe2Te86cxTHMWJ5ByFRan2CTiV2/I3nZli1+GO1efhtvRQ+1HsrpD3eHAUFqXaJaCf/yNUXc73UIgB429aJPznqnBztuGx6I2fn6FRP9J1WIzdM63BnVwm0GxTJwGnd27hKW6nSW43z0tlruDCQB0WydXZx5wKAlsI1Ci3cMiFgkNy/BRAoA0CtcptpeCQXBsNzinbJVCz3DoJDsm12/ycvG4Ctcuts+CQXN2NzunaI9CC3HoJDsm190PAiesk0IrcegsOydXZ8JyqHQItyW2Q4JBcOz8MnLQuAq3JbbDgkFxdjc9p6ifQotxGCQ7J1f9DwQnrINCq3EYLDsnV8QPAKeol0LLcoggOydX7w8HJfBNoXW7RBIfkfP8gUH19BJDbrkyX/i1q39j5A/2+xBgPgfgEkNseplEFx51c/GZlRQj0IYDcNtKKLjgk16cdGQuBeASQ21aWSQSH5OI1LStBoAsB5DafUjLBIbkubckYCIwngNwWM0wqOCQ3vnlZAQLLCCC35f2RXHBIjh9QCKQhgNxWc80iOCS3OghGQKAPAeTWjVY2wSG5boEwCgKrCCC3VYT2fD+r4JBc92AYCYF5BJBbv77ILjgk1y8gRkNgSgC59e+FIoJDcv2DYkbbBJDbsPyLCQ7JDQuMWe0RQG7DMy8qOCQ3PDhmtkEAuY3LubjgkNy4AJldLwHkNj5bE4JDcuODZIW6CCC3OHmaERySixMoq/gngNziZWhKcEguXrCs5JMAcoubmznBIbm4AbOaHwLILX5WJgWH5OIHzYq2CTiV2z9E9ZS1tbWbrdI1KzgkZ7VlqCs2Acdye5nkdlNsHjHXMy04JBczataySAC5pU3FvOCQXNoGYPVyBJBbevYuBIfk0jcCO+QlgNzy8HYjOCSXpyHYJT0B5Jae8XQHV4JDcvkag53SEEBuabguWtWd4JBc3gZht3gEkFs8ll1Xcik4JNc1XsZZIYDcyiThVnAzkrtRnx9cBt+gXe/VrBP1/KHbB81mkjsCyK1cZK4FN5Hcs/XxOiRXronYeTEB5Fa2O9wLDsmVbSB2R26We6AKwSE5yy3WZm3cudnIvRrBITkbDUUV27YhNztdUJXgkJydxmq1EuRmK/nqBIfkbDVYS9UgN3tpVyk4JGev0WqvCLnZTLhawSE5mw1XY1XIzW6qVQsOydltvFoqQ262k6xecEjOdgN6rg652U+vCcEhOfuN6K1C5OYjsWYEh+R8NKSHKpGbh5R21diU4JCcn8a0Wilys5rM/LqaExyS89WglqpFbpbS6FZLk4JDct2ag1F7CCA3n93QrOCQnM+GLVE1citBPc6eTQsOycVpoppXQW6+021ecEjOdwOnrB65paSbZ20EN+GsZuaVgfP0nItdkJuLmFYWieBmECG5lf3SxADkVk/MCG5TlkiunuYechLkNoSa3TkIbk42SM5uw6asDLmlpFtmbQS3gDuSK9OQpXZFbqXIp90XwS3hi+TSNp+V1ZGblSTi14HgVjBFcvGbztKKyM1SGvFrQXAdmCK5DpAcDkFuDkPrWTKC6wgMyXUE5WQYcnMS1MgyEVwPgEiuByzDQ5Gb4XAil4bgegJFcj2BGRuO3IwFkrgcBDcAMJIbAM3AFORmIITMJSC4gcCR3EBwhaYht0LgC2+L4EYEgORGwMs4FbllhG1sKwQ3MhAkNxJg4unILTFg48sjuAgBIbkIEBMsgdwSQHW2JIKLFBiSiwQy0jLILRJI58sguIgBIrmIMEcs5VRuD+nIp62trd004uhM3UQAwUVuCSQXGWjP5RzL7RWS2w09j8vwFQQQXIIWQXIJoHZYErl1gNTYEASXKHAklwjsgmWRW17eXnZDcAmTQnIJ4c4sjdzycPa4C4JLnBqSSwsYuaXl6311BJchQSSXBjJyS8O1plURXKY0kVxc0MgtLs9aV0NwGZN1LLmX6CkMt2ZEtXQr5GYlCft1ILjMGTmV3A5hOsmC5JBb5oZ1vh2CKxAgkhsGHbkN49byLARXKH0k1w88cuvHi9G7CCC4gp2A5LrBR27dODFqKwEEV7grkNzyAJBb4QZ1vj2CMxDgRHLXq5QDDZTTtYTk/+MBuXWNgnGLCCA4I72hH+YTVMq1SG5XIMjNSGM6LwPBGQoQySE3Q+1YRSkIzliMrUuOOzdjDem8HARnMMBWJYfcDDaj85IQnNEAW5MccjPaiM7LQnCGA2xFcsjNcBM6Lw3BGQ+wdskhN+MN6Lw8BOcgwFolh9wcNJ/zEhGckwBrkxxyc9J4zstEcI4CrEVyyM1R0zkvFcE5C9C75JCbs4ZzXi6CcxigY8mdK9yX63qSI+zhHed5U2ZHgc2WiuCcBudUcv8T7kc5Qo7cHIU1r1QE5zhAp5LzQhy5eUlqSZ0IznmISC5JgMgtCdb8iyK4/Myj74jkoiJFblFxll0MwZXlH213JBcFJXKLgtHOIgjOThajK0FyoxAit1H4bE5GcDZzGVwVkhuEDrkNwmZ/EoKzn1HvCpFcL2TIrRcuX4MRnK+8OleL5DqhQm6dMPkdhOD8ZreyciS3FBFyW9lB/gcgOP8ZLj0BkpuLB7lV3vfT4yG4BoJGchtCRm4N9DyCayjkcFQktx44cmus77mDayjwxiWH3Brqde7gGgy74Ts55NZov3MH12Dwjd3JIbcGe5w7uIZDb+hODrk13ufcwTXcAJXfySG3hnubOzjCXydQqeSQG/29ToA7OBqhNsn9S5G+fG1t7QaihQCCowdqupMLcnuN5HYtsUKAOzh6YAMB57+uIjf6eQsB7uBois2SO11f+Laz/3yxU/Wepzu3y4gTArMEEBz9sJuA7uCO0j9+rOtwh1h2qOaTJLlbHdZOyYkIILhEYL0t61xuU9xIzlvjJa4XwSUG7GH5SuSG5Dw0W+YaEVxm4Na2q0xuSM5agxWuB8EVDqDk9pXKDcmVbCpjeyM4Y4HkKqdyuSG5XI1kfB8EZzygFOU1Ijckl6J5nK2J4JwFNrbcxuSG5MY2jPP5CM55gH3Kb1RuSK5Pk1Q2FsFVFuii4zQuNyTXSJ9vPiaCayB45LYhZJ4M3EDPT4+I4CoPG7nNDRjJVd73CK6BgJHb0pCRXAM/A9zBVRoycusULJLrhMnvIATnN7uFlSO3XqEiuV64fA1GcL7yWlktcluJaN4AJDcIm/1JCM5+Rp0rRG6dUSG5Uaj8TEZwfrJaWilyixIkd3JRMNpZBMHZyWJwJchtMDru5KKis7cYgrOXSa+KkFsvXF0HcyfXlZTxcQjOeEDLykNuScNDcknx5lkcweXhHH0X5BYdKb+uZkGadxMEl5d3lN2cyi28b+mFuj6u67FRQORZhDu5PJyT7ILgkmBNt6hjua2/47zqf4Ho/ADJpesRVt5DAME56gbvcpuiRnKOms55qQjOSYC1yA3JOWm4SspEcA6CrE1uSM5B01VSIoIzHmStckNyxhuvkvIQnOEga5cbkjPcfJWUhuCMBtmK3JCc0QaspCwEZzDI1uSG5Aw2YSUlIThjQbYqNyRnrBErKQfBGQqydbkhOUPNWEkpCM5IkMhtYxA8GdhIYzovA8EZCBC5zQ8ByRloTuclILjCASK35QEgucIN6nx7BFcwQOTWDT6S68aJUVsJILhCXYHc+oFHcv14MXoXAQRXoBOQ2zDoSG4Yt5ZnIbjM6SO3ccCR3Dh+rc1GcBkTR25xYCO5OBxbWAXBZUrZqdweFp5XhVfizYSp8zZIrjOqpgciuAzxO5bbGZLb1RkQDdoCyQ3C1tQkBJc4buSWFjCSS8vX++oILmGCyC0h3JmlkVwezh53QXCJUkNuicAuWBbJ5eXtZTcElyAp5JYAaoclkVwHSI0NQXCRA0dukYH2XA7J9QRW+XAEFzFg5BYR5oilkNwIeJVNRXCRAkVukUBGWgbJRQLpfBkEFyFA5BYBYoIlkFwCqM6WRHAjA0NuIwEmno7kEgM2vjyCGxEQchsBL+NUJJcRtrGtENzAQJDbQHCFpiG5QuALb4vgBgSA3AZAMzAFyRkIIXMJCK4ncOTWE5ix4UjOWCCJy0FwPQAjtx6wDA9FcobDiVwagusIFLl1BOVkGJJzEtTIMhFcB4DIrQMkh0OQnMPQepaM4FYAQ249O8rZcCTnLLCe5SK4JcCQW89ucjocyTkNrkPZCG4BJOTWoXsqGoLkKgpz5igIbk6uyK3OZl91KiS3ipC/7yO4TZkhN39NHLNiJBeTZvm1ENxMBsitfENaqGAiufBWiftbqKdjDTs07iS9C9qtHcc3MQzBTWJGbk30e+dDqh9O1ODvI7nOyEwORHCKBbmZ7M3iRSG54hGMLqB5wSG30T1U9QJIzne8TQsOuflu3lzVI7lcpOPv06zgkFv8Zqp5RSTnM90mBYfcfDZr6aqRXOkE+u/fnOCQW/8mYcYeAkjOVzc0JTjk5qs5rVaL5Kwms7WuZgSH3Pw0pYdKkZyHlLZta0JwyM1HM3qrEsnZT6x6wSE3+03ouUIkZzu9qgWH3Gw3Xy3VITm7SVYrOORmt+lqrAzJ2Uy1SsEhN5vNVntVSM5ewtUJDrnZa7KWKkJyttKuSnDIzVZztVoNkrOTfDWCQ252mopK1l+Ci9eTM9AIVQgOuRnoJErYQgDJlW8K94JDbuWbiAoWE0ByZbvDteCQW9nmYfduBJBcN04pRrkVHHJL0Q6smYoAkktFdvm6LgWH3Mo0C7uOI4DkxvEbMtud4JzK7b8K53S9pdvVQ0JiTj0EkFzeLF0JzrHczpLcvpM3WnazSgDJ5UvGjeCQW76mYKf0BJBcesZhBxeCQ255moFd8hJAcul5mxccckvfBOxQjgCSS8vetOCQW9rwWd0GASSXLgezgkNu6UJnZXsEkFyaTEwKDrmlCZtVbRNAcvHzMSc45BY/ZFb0QwDJxc3KlOCQW9xwWc0nASQXLzczgkNu8UJlJf8EkFycDE0IDrnFCZNV6iKA5MbnWVxwyG18iKxQLwEkNy7booJDbuPCY3YbBJDc8JyLCQ65DQ+Nme0RQHLDMi8iOOQ2LCxmtU0AyfXPP7vgkFv/kJgBgSkBJNevF7IKDrn1C4fREJhHwLHkTtPrIm7PmWo2wSG3nLGyV+0EkFy3hLMIDrl1C4NREOhDwKnk/qYznpLrTi654JBbn5ZlLAT6EUByy3klFRxy69esjIbAEAJIbjG1ZIJDbkNalTkQGEYAyc3nlkRwyG1YkzILAmMIILmt9KILDrmNaVHmQmAcASS3kV9UwSG3cc3JbAjEIIDk9lCMJjjkFqM1WQMCcQgguV0cowgOucVpSlaBQEwCE8ldozX3jblu4rWiPk9utOCQW+K4WR4CIwjo5/M0Tb+qVcmNEhxyG9F5TIVAJgItS26w4JBbpu5kGwhEINCq5AYJDrlF6DiWgEBmAi1KrrfgkFvmrmQ7CEQk0JrkegkOuUXsNJaCQCECLUmus+CQW6FuZFsIJCDQiuQ6CQ65JegwloRAYQItSG6l4JBb4S5kewgkJFC75JYKDrkl7CyWhoARAjVLbqHgkJuR7qMMCGQgUKvk5goOuWXoKLaAgDECNUpui+B0yKeL+w26Hm+M/6pyztIbWXxj1SC+DwEILCYwkdx3NWI/R5zuV62nznsjmw2C0+EO0sBf6DrS0eH+q1qD3L7jqGZKhYBZAk7v5P4soMfLA3+dBbtbcDrUo/WN8NIqp5olv7Uw5OYoLEr1Q8Cp5H4mwidLcv+ekp4V3MX64of8RLBe6et0mG85q5lyIeCCwERyP3RR7J4iL5UTLtogOB3kYH3hj7oe4+Qw3Lk5CYoyfRNweCf3sIgfLcn9KZBfv4PTIT6nDxc4iQK5OQmKMusg4FByl0twb1oXnIrfWx936NrfQRyPqMbXq/grHdRKiRCohoAzyQVPHChPPBgE92r9I7yksfUHcrOeEPVVTcCZ5M6U4L4ZBPcFpfJW48kgN+MBUV4bBBxJ7ksS3HlBcD9RNC80HA9yMxwOpbVHwInktktwzwmCu1MRHWU0JuRmNBjKapuAA8ndI8EdHgT3D0Vl8ekhyK3tnyFOb5yAccntFL59rAoOuRlvbsqDQCBgXHJ7BcH9TnWGP7C38kBuVpKgDgh0IGBUcvfpV9RDg+DCK4e8uMM5cgxBbjkoswcEIhMwKLlbJLjjguA+q7O+PfJ5hyyH3IZQYw4EjBAwJrkvS3BvDIJ7pfh8rzAj5FY4ALaHQAwChiR3dviLpyC4fXSwB3SFjyUeyK0EdfaEQCICBiQXnHKABPfQ9I/tP68vvC3ReZcti9wKQGdLCKQmUFhyl0lubw5nnAouvDz573Xtm/rgM+sjt4yw2QoCuQkUktx/dM4jJbi7dwsufKJiPqIPH8gI4RwV8fWM+7EVBCCQmYC88lJtGd7jIdfN0yXyynunx5x9Rd+99MWf6zo+MQPu3BIDZnkIWCKQ8U7u1zr3cyW4f20R3OQu7gh9/JWuxyUChNwSgWVZCFgmkEFyD4WbM8kt/OHC7se8tw18lb4b3n4vxS0lb+1nuQupDQIJCUwkF95DJcUN1PrTQjaXv+iNn8Ovqd/W9bRI571L65yhAn4ZaT2WgQAEHBKQ5MKfhYYX2D02Uvnh7QLDi1v+dN56cwUXBqqQQ/QhvBjmOSML+armn68Cwpuz8oAABBonILeEVy8Kf0G1/r4JIx7hbvAtm98LdXa9hYKbDlIxz9Pnn9bV9+9Vf6A5F2nz7SMOwFQIQKBSAnLLs3S0S3SF/yzW53GjBr9Hbrlp1aSVgpsRXfi19Vxd4Y5u0auP3KbvXaHrK9r8jlWb830IQAACEt0xovCGiV+euYBI+J8H4WllX+vzn7o6C44YIAABCHgj8H9KLGYC1guKQwAAAABJRU5ErkJggg==",onClick:function(){ue(e.symbolId,e.volume,t)}}),Object(A.jsx)("span",{className:"spinner spinner-border spinner-border-sm",role:"status","aria-hidden":"true",style:{display:O&&v===t?"block":"none"}})]})]}),Object(A.jsx)("div",{className:"ave-entry-price",children:Object(A.jsx)(F.a,{value:e.averageEntryPrice,decimalScale:6})}),Object(A.jsx)("div",{className:e.direction,children:s[e.direction.toLowerCase()]||e.direction}),Object(A.jsx)("div",{className:"margin",children:Object(A.jsx)(F.a,{value:e.marginHeldBySymbol,decimalScale:2})}),Object(A.jsx)("div",{className:"pnl",children:Object(A.jsx)("span",{className:"pnl-list unrealized-pnl",children:Object(A.jsx)(F.a,{value:e.unrealizedPnl,decimalScale:6})})}),r.isOption&&Object(A.jsx)("div",{children:Object(A.jsx)(F.a,{value:-e.premiumFundingAccrued,decimalScale:8})}),r.isFuture&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{children:Object(A.jsx)(F.a,{value:-e.fundingFee,decimalScale:8})}),Object(A.jsx)("div",{children:Object(A.jsx)(F.a,{value:e.liquidationPrice,decimalScale:4})})]})]},t)})),se.length?"":Object(A.jsx)("div",{className:"no-data",children:s["no-data"]}),Object(A.jsx)(W,{wallet:t,modalIsOpen:C,onClose:function(){return k(!1)},spec:n.config,afterDeposit:le,balance:H,className:"trading-dialog",lang:s}),Object(A.jsx)(V,{wallet:t,modalIsOpen:D,onClose:function(){return B(!1)},spec:n.config,afterWithdraw:oe,availableBalance:ne,position:n.position,className:"trading-dialog",lang:s}),Object(A.jsx)(q,{wallet:t,modalIsOpen:E,onClose:function(){return R(!1)},spec:n.config,afterDepositAndWithdraw:function(){de()},position:n.position,overlay:{background:"#1b1c22",top:80},className:"balance-list-dialog",lang:s})]})}))),X=n(734),$=n.n(X),ee=(n(703),n(91)),te=n(788),ne=ee[_.a.get()].chainInfo;function ie(e){var t=e.wallet,n=e.his,a=Object(i.useState)(!1),r=Object(c.a)(a,2),o=r[0],l=r[1],d=function(){l(!0)},j=function(){l(!1)},u=s()("view",{hover:o});return Object(A.jsxs)("span",{className:u,onMouseOut:j,children:[Object(A.jsx)("span",{className:"view-space",onMouseOver:d,children:Object(A.jsxs)("a",{target:"_blank",rel:"noreferrer",href:"".concat(ne[t.detail.chainId].viewUrl,"tx/").concat(n.transactionHash),children:["View at ",ne[t.detail.chainId].viewUrl]})}),Object(A.jsx)("span",{className:"right-arrow",onMouseOver:d,children:Object(A.jsx)("img",{alt:"",src:te.a})}),Object(A.jsx)("span",{className:"view-arrow",onMouseOver:d,onMouseOut:j,children:Object(A.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat(ne[t.detail.chainId].viewUrl,"tx/").concat(n.transactionHash),children:Object(A.jsx)("img",{rel:"noreferrer",alt:"",src:"data:image/svg+xml;base64,DQo8c3ZnIGZpbGw9Im5vbmUiIGhlaWdodD0iMTAiIHdpZHRoPSIxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCiAgICA8cGF0aCBkPSJNOC42NzYuNjQyYS42NS42NSAwIDAwLS4wNzIuMDA2SDQuNzkzYS42NS42NSAwIDAwLS41Ny45NzUuNjUuNjUgMCAwMC41Ny4zMjJINy4xMkwuNDM4IDguNjE0YS42NDcuNjQ3IDAgMDAuMjg2IDEuMDk2LjY1LjY1IDAgMDAuNjMyLS4xNzlMOC4wNCAyLjg2MXYyLjMyNGEuNjQ4LjY0OCAwIDAwLjk3Ny41Ny42NDguNjQ4IDAgMDAuMzIyLS41N1YxLjM4YS42NDcuNjQ3IDAgMDAtLjY2Mi0uNzM3eiIgZmlsbD0iI0FBQUFBQSIvPg0KPC9zdmc+DQoNCg=="})})})]})}var ce=Object(r.b)("wallet","trading","type")(Object(r.c)((function(e){var t=e.wallet,n=e.trading,a=e.lang,s=e.type,r=Object(i.useState)([]),o=Object(c.a)(r,2),l=o[0],d=o[1];function j(){return(j=Object(b.a)(u.a.mark((function e(){var i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isConnected()&&n.config&&(i=n.history.map((function(e){return e.directionText=a["long-buy"],"SHORT"===e.direction?e.directionText=a["short-sell"]:"liquidation"===e.direction.toLowerCase()&&(e.directionText=a.liquidation),e})),d(i));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(i.useEffect)((function(){return function(){j.apply(this,arguments)}(),function(){}}),[t.detail.account,n.config,n.history]),Object(A.jsxs)("div",{className:"history-box",children:[Object(A.jsxs)("div",{className:"p-box theader",children:[Object(A.jsx)("div",{className:"td",children:a.time}),Object(A.jsx)("div",{children:a.direction}),Object(A.jsxs)("div",{children:[s.isOption&&a["symbol-option"],s.isFuture&&a.symbol]}),Object(A.jsx)("div",{children:a.price}),Object(A.jsxs)("div",{children:[a.volume,"  ",s.isOption?"( ".concat(a.notional," )"):""," "]}),Object(A.jsx)("div",{children:s.isOption?a["contract-value"]:a.notional}),Object(A.jsx)("div",{children:a["transaction-fee"]})]}),l.map((function(e,n){return Object(A.jsxs)("div",{className:"p-box tbody",children:[Object(A.jsx)("div",{className:"td",children:$.a.asString("yyyy-MM-dd hh:mm:ss",new Date(parseInt(e.time)))}),Object(A.jsxs)("div",{className:e.direction,children:[e.directionText,Object(A.jsx)(ie,{wallet:t,his:e})]}),Object(A.jsx)("div",{children:e.symbol||"--"}),Object(A.jsx)("div",{children:Object(A.jsx)(F.a,{value:e.price,decimalScale:6})}),Object(A.jsx)("div",{children:Object(A.jsx)(F.a,{value:e.volume,thousandSeparator:!0,allowZero:!0})}),Object(A.jsx)("div",{children:Object(A.jsx)(F.a,{value:e.notional,decimalScale:4})}),Object(A.jsx)("div",{children:Object(A.jsx)(F.a,{value:e.transactionFee,decimalScale:4})})]},n)})),0===l.length?Object(A.jsx)("div",{className:"no-data",children:a["no-data"]}):""]})})));var ae=function(e){var t=e.lang,n=(e.type,Object(i.useState)("position")),a=Object(c.a)(n,2),r=a[0],o=a[1],l=function(e){o(e)},d=s()("position-info",r);return Object(A.jsxs)("div",{className:d,children:[Object(A.jsxs)("div",{className:"position-header",children:[Object(A.jsxs)("div",{className:"position-title",children:[Object(A.jsx)("span",{className:"position-info-title",children:t["position-info"]}),Object(A.jsx)("span",{className:"history-info-title",children:t["trade-history"]})]}),Object(A.jsxs)("div",{className:"check-position-history ",children:[Object(A.jsx)("div",{className:"btn-position",onClick:function(){return l("position")},children:t["current-position"]}),Object(A.jsx)("div",{className:"btn-history",onClick:function(){return l("history")},children:t["trade-history"]})]})]}),Object(A.jsxs)("div",{className:"pos-his-info ",children:[Object(A.jsx)(K,{lang:t}),Object(A.jsx)(ce,{lang:t})]})]})},se=n(866),re=n(877),oe=(n(878),n(879),n(880),n(1140),n(1141),n(1142),n(840)),le=n(748);t.default=Object(r.b)("wallet","type","version")(Object(r.c)((function(e){var t=e.wallet,n=e.lang,c=e.type,a=e.version;return"v1"===Object(le.useLocation)().pathname.split("/")[3]?a.setCurrent("v1"):a.isV1&&a.setCurrent("v2"),Object(i.useEffect)((function(){return document.querySelector(".desktop").style.minWidth="1903px",function(){document.querySelector(".desktop").style.minWidth=""}}),[t.detail.account]),Object(A.jsxs)("div",{className:"trade-container",children:[Object(A.jsx)(oe.a,{lang:n}),Object(A.jsxs)("div",{className:"trade-body",children:[Object(A.jsx)(re.a,{lang:n}),Object(A.jsxs)("div",{className:"trade-pro",children:[Object(A.jsx)("div",{className:"left",children:Object(A.jsx)(se.a,{isPro:!0,lang:n})}),Object(A.jsxs)("div",{className:"right",children:[Object(A.jsx)(J,{wallet:t,lang:n}),Object(A.jsx)(ae,{lang:n,type:c})]})]})]})]})})))},153:function(e,t,n){"use strict";n.r(t);t.default=function(e,t){}},696:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(0),c=n.n(i),a=n(2),s=n(5),r=n(11),o=n(32);function l(e){var t=e.btnText,n=e.className,i=e.disabled,l=e.click,d=e.afterClick,j=e.checkApprove,u=e.wallet,b=e.spec,p=e.lang,m=Object(r.useState)(i?"disabled":"enabled"),O=Object(s.a)(m,2),h=O[0],f=O[1],x=Object(r.useState)(!0),g=Object(s.a)(x,2),A=g[0],v=g[1],y=Object(r.useState)(!1),N=Object(s.a)(y,2),w=N[0],C=N[1],k=Object(r.useState)(t),S=Object(s.a)(k,2),I=S[0],D=S[1],B=Object(r.useRef)(null),M=function(){var e=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("enabled"===h){e.next=2;break}return e.abrupt("return");case 2:return Q(),e.next=5,l();case 5:e.sent&&d&&d(),E();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){f("disabled"),C(!0),B.current&&(B.current.style.display="inline-block")},E=function(){B.current&&(B.current.style.display="none"),f("enabled"),C(!1)},R=function(){var e=Object(a.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(j&&u&&u.detail.account)){e.next=5;break}return e.next=3,u.isApproved(b.pool,b.bTokenId);case 3:t=e.sent,v(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(),e.next=3,u.approve(b.pool,b.bTokenId);case 3:e.sent.success?v(!0):(v(!1),alert(p["approve-failed"])),E();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){return R(),function(){}}),[u,b,j]),Object(r.useEffect)((function(){return t&&D(t),function(){}}),[t]),Object(o.jsxs)("button",{className:n,onClick:function(){A?M():F()},children:[Object(o.jsx)("span",{className:"btn-loading-wrap",children:Object(o.jsx)("span",{ref:B,className:"spinner spinner-border spinner-border-sm",style:{display:"none",marginRight:"2"}})}),w?p.pending:A?I:p.approve]})}},697:function(e,t,n){"use strict";var i=n(59),c=n(706),a=n(77),s=n(5),r=n(11),o=n(703),l=n(76),d=n(32);t.a=Object(l.b)("wallet","trading")(Object(l.c)((function(e){var t=Object(r.useState)(Object(d.jsx)("span",{className:"loading-line"})),n=Object(s.a)(t,2),l=n[0],j=n[1],u=function(){var t=e.allowZero;return"object"!==Object(a.a)(e.value)&&void 0!==e.value&&""!==e.value&&"NaN"!==e.value||0===(isNaN(e.value)&&Math.abs(e.value))&&!0===t};return Object(r.useEffect)((function(){e.allowZero;var t=e.wallet,n=e.defaultValue,a=void 0===n?"--":n,s=Object(c.a)(e,["allowZero","wallet","defaultValue"]);u()?j(Object(d.jsx)(o.a,Object(i.a)(Object(i.a)({},s),{},{displayType:"text",fixedDecimalScale:!0}))):j(Object(d.jsx)("span",{className:"loading-line"}));var r=window.setTimeout((function(){u()||!t||t.isConnected()||j(a)}),3e4);return function(){clearTimeout(r)}}),[e.value]),l})))},702:function(e,t,n){"use strict";var i=n(11),c=n(32);t.a=function(e){var t=Object(i.useRef)(null);return Object(i.useEffect)((function(){var e=t.current;e&&e.querySelectorAll("[tip]").forEach((function(t){var n=null;t.addEventListener("mouseover",(function(e){var t=e.currentTarget.getAttribute("tip");if(t){var i="hover-box-".concat((new Date).getTime());n=document.body.querySelector("#".concat(i)),(n=document.createElement("div")).style.cssText="z-index : 9;min-width : 100px;max-width : ".concat(window.screen.width,"px ;font-size : 12px ;position : absolute;background-color: #2c2d31;border: 1px solid #AAAAAA;color: #AAAAAA;border-radius: 10px;padding: 4px;"),document.body.appendChild(n),n.innerText=t,n.id=i,n.style.display="block";var c=e.currentTarget.getBoundingClientRect();if(n.style.top="".concat(c.y+c.height+window.document.documentElement.scrollTop,"px"),n.offsetWidth+e.pageX>window.screen.width)if(e.pageX-n.offsetWidth>=0)n.style.left="".concat(e.pageX-n.offsetWidth,"px");else{var a=e.pageX-n.offsetWidth/2>0?e.pageX-n.offsetWidth/2:0;n.style.left="".concat(a,"px")}else n.style.left="".concat(e.pageX,"px")}})),e.addEventListener("mouseout",(function(e){n&&n.remove()}))}));return function(){t.current=null}}),[e.title]),e.block?Object(c.jsx)("div",{ref:t,children:e.children}):Object(c.jsx)("span",{ref:t,children:e.children})}},733:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(11);function c(e){return Object(i.useEffect)((function(){return document.querySelector("body").style.overflow="hidden",function(){e||(document.querySelector("body").style.overflow="auto")}}),[]),null}},748:function(e,t,n){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var c=n(43),a=i(n(11)),s=n(73);n(86),n(153);var r=i(n(64));function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function l(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function d(e,t){if(null==e)return{};var n,i,c={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],0<=t.indexOf(n)||(c[n]=e[n]);return c}var j=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))||this).history=s.createBrowserHistory(t.props),t}return l(t,e),t.prototype.render=function(){return a.createElement(c.Router,{history:this.history,children:this.props.children})},t}(a.Component),u=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(t=e.call.apply(e,[this].concat(i))||this).history=s.createHashHistory(t.props),t}return l(t,e),t.prototype.render=function(){return a.createElement(c.Router,{history:this.history,children:this.props.children})},t}(a.Component),b=function(e,t){return"function"==typeof e?e(t):e},p=function(e,t){return"string"==typeof e?s.createLocation(e,null,null,t):e},m=function(e){return e},O=a.forwardRef;void 0===O&&(O=m);var h=O((function(e,t){var n=e.innerRef,i=e.navigate,c=e.onClick,s=d(e,["innerRef","navigate","onClick"]),r=s.target,l=o({},s,{onClick:function(t){try{c&&c(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||r&&"_self"!==r||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)||(t.preventDefault(),i())}});return l.ref=m!==O&&t||n,a.createElement("a",l)})),f=O((function(e,t){var n=e.component,i=void 0===n?h:n,s=e.replace,l=e.to,j=e.innerRef,u=d(e,["component","replace","to","innerRef"]);return a.createElement(c.__RouterContext.Consumer,null,(function(e){e||r(!1);var n=e.history,c=p(b(l,e.location),e.location),d=c?n.createHref(c):"",h=o({},u,{href:d,navigate:function(){var t=b(l,e.location);(s?n.replace:n.push)(t)}});return m!==O?h.ref=t||j:h.innerRef=j,a.createElement(i,h)}))})),x=function(e){return e},g=a.forwardRef;void 0===g&&(g=x);var A=g((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,s=e.activeClassName,l=void 0===s?"active":s,j=e.activeStyle,u=e.className,m=e.exact,O=e.isActive,h=e.location,A=e.sensitive,v=e.strict,y=e.style,N=e.to,w=e.innerRef,C=d(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.createElement(c.__RouterContext.Consumer,null,(function(e){e||r(!1);var n=h||e.location,s=p(b(N,n),n),d=s.pathname,k=d&&d.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),S=k?c.matchPath(n.pathname,{path:k,exact:m,sensitive:A,strict:v}):null,I=!!(O?O(S,n):S),D=I?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(u,l):u,B=I?o({},y,{},j):y,M=o({"aria-current":I&&i||null,className:D,style:B,to:s},C);return x!==g?M.ref=t||w:M.innerRef=w,a.createElement(f,M)}))}));Object.defineProperty(t,"MemoryRouter",{enumerable:!0,get:function(){return c.MemoryRouter}}),Object.defineProperty(t,"Prompt",{enumerable:!0,get:function(){return c.Prompt}}),Object.defineProperty(t,"Redirect",{enumerable:!0,get:function(){return c.Redirect}}),Object.defineProperty(t,"Route",{enumerable:!0,get:function(){return c.Route}}),Object.defineProperty(t,"Router",{enumerable:!0,get:function(){return c.Router}}),Object.defineProperty(t,"StaticRouter",{enumerable:!0,get:function(){return c.StaticRouter}}),Object.defineProperty(t,"Switch",{enumerable:!0,get:function(){return c.Switch}}),Object.defineProperty(t,"generatePath",{enumerable:!0,get:function(){return c.generatePath}}),Object.defineProperty(t,"matchPath",{enumerable:!0,get:function(){return c.matchPath}}),Object.defineProperty(t,"useHistory",{enumerable:!0,get:function(){return c.useHistory}}),Object.defineProperty(t,"useLocation",{enumerable:!0,get:function(){return c.useLocation}}),Object.defineProperty(t,"useParams",{enumerable:!0,get:function(){return c.useParams}}),Object.defineProperty(t,"useRouteMatch",{enumerable:!0,get:function(){return c.useRouteMatch}}),Object.defineProperty(t,"withRouter",{enumerable:!0,get:function(){return c.withRouter}}),t.BrowserRouter=j,t.HashRouter=u,t.Link=f,t.NavLink=A},749:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(11),c=n(16),a=n(703),s=n(696),r=n(733),o=n(32);function l({wallet:e,spec:t={},onClose:n,balance:l,afterDeposit:d,nested:j,lang:u}){const[b,p]=Object(i.useState)(""),[m,O]=Object(i.useState)(""),[h,f]=Object(i.useState)(""),[x,g]=Object(i.useState)(!1);Object(r.a)(j);return Object(i.useEffect)((()=>((()=>{if(l){const e=(+l).toFixed(2),t=e.indexOf(".")>0?e.substring(e.indexOf(".")+1,e.length):"0";p(l),O(t)}})(),()=>{})),[l]),Object(o.jsx)("div",{className:"modal fade",children:Object(o.jsx)("div",{className:"modal-dialog",children:Object(o.jsxs)("div",{className:"modal-content",children:[Object(o.jsxs)("div",{className:"modal-header",children:[Object(o.jsx)("div",{className:"title",children:u["deposit-margin"]}),Object(o.jsx)("div",{className:"close","data-dismiss":"modal",onClick:()=>{x||n()},children:Object(o.jsx)("span",{children:"\xd7"})})]}),Object(o.jsx)("div",{className:"modal-body",children:Object(o.jsxs)("div",{className:"margin-box-info",children:[Object(o.jsx)("div",{children:u["wallet-balance"]}),Object(o.jsxs)("div",{className:"money",children:[Object(o.jsxs)("span",{children:[Object(o.jsxs)("span",{className:"bt-balance",children:[Object(o.jsx)(a.a,{value:b,displayType:"text",decimalScale:0}),".",Object(o.jsx)("span",{style:{fontSize:"12px"},children:m})]}),Object(o.jsx)("br",{}),Object(o.jsx)("span",{style:{fontSize:"14px",marginLeft:"10px",marginTop:"10px"},children:t.bTokenSymbol})]}),Object(o.jsx)("span",{className:"add"})]}),Object(o.jsxs)("div",{className:"enter-margin",children:[Object(o.jsx)("div",{className:"input-margin",children:Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("div",{className:"amount",style:{display:""!==h?"block":"none"},children:u.amount}),Object(o.jsx)("input",{type:"number",className:"margin-value",placeholder:u.amount,value:h,onChange:e=>{const{value:t}=e.target;f(t)}})]})}),Object(o.jsx)("div",{children:t.bTokenSymbol})]}),Object(o.jsxs)("div",{className:"max",children:[u["max-add"],": ",Object(o.jsx)("span",{className:"max-num",children:l}),Object(o.jsx)("span",{className:"max-btn-left",onClick:()=>{f(l)},children:u["add-all"]})]}),Object(o.jsx)("div",{className:"add-margin-btn",children:Object(o.jsx)(s.a,{className:"margin-btn",btnText:u.deposit,checkApprove:!0,wallet:e,spec:t,lang:u,click:()=>(async i=>{const a=Object(c.g)(l);if(Object(c.g)(i).gt(a))return void alert(u["insufficient-balance-in-wallet"]);if(+i<=0||isNaN(i))return void alert(u["it-has-to-be-greater-than-zero-tip"]);g(!0),(await Object(c.m)(e.detail.chainId,t.pool,e.detail.account,i,t.bTokenId)).success?(d(),n()):alert(u["deposit-failed"]),g(!1)})(h)})})]})})]})})})}},750:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n(0),c=n.n(i),a=n(2),s=n(5),r=n(11),o=n(16),l=n(696),d=n(697),j=n(33),u=n(733),b=n(32);function p(e){var t=e.wallet,n=e.spec,i=void 0===n?{}:n,p=e.position,m=e.onClose,O=e.afterWithdraw,h=e.availableBalance,f=e.nested,x=e.lang,g=Object(r.useState)(""),A=Object(s.a)(g,2),v=A[0],y=A[1],N=Object(r.useState)(""),w=Object(s.a)(N,2),C=w[0],k=w[1],S=Object(r.useState)(""),I=Object(s.a)(S,2),D=I[0],B=I[1],M=Object(r.useState)(!1),Q=Object(s.a)(M,2),E=Q[0],R=Q[1];Object(u.a)(f);var F=function(){var e=Object(a.a)(c.a.mark((function e(){var n,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isConnected()&&h&&(y(n=h),i=n.indexOf("."),k(i>0?n.substring(i+1,i+3):"00"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(a.a)(c.a.mark((function e(){var n,a,s,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(j.a)(v),!Object(j.a)(D).gt(n)){e.next=5;break}return alert(x["under-margin"]),e.abrupt("return");case 5:if(!(+D<=0||isNaN(D))){e.next=8;break}return alert(x["it-has-to-be-greater-than-zero-tip"]),e.abrupt("return");case 8:return R(!0),a=n.eq(D),e.next=12,Object(o.Db)(t.detail.chainId,i.pool,t.detail.account,D,i.bTokenId,a);case 12:(s=e.sent).success?(O(),m()):(r="string"===typeof s.error?s.error:s.error.errorMessage||s.error.message,alert(r)),R(!1);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){return F(),function(){}}),[t.detail.account,p.margin,p.unrealizedPnl]),Object(b.jsx)("div",{className:"modal fade",id:"removeMargin",children:Object(b.jsx)("div",{className:"modal-dialog",children:Object(b.jsxs)("div",{className:"modal-content",children:[Object(b.jsxs)("div",{className:"modal-header",children:[Object(b.jsx)("div",{className:"title",children:x["withdraw-margin"]}),Object(b.jsx)("div",{className:"close",onClick:function(){E||m()},children:Object(b.jsx)("span",{children:"\xd7"})})]}),Object(b.jsx)("div",{className:"modal-body",children:Object(b.jsxs)("div",{className:"margin-box-info",children:[Object(b.jsx)("div",{children:x["available-balance"]}),Object(b.jsxs)("div",{className:"money",children:[Object(b.jsx)("span",{children:Object(b.jsxs)("span",{className:"bt-balance",children:[Object(b.jsx)(d.a,{value:v,thousandSeparator:!0,decimalScale:0}),".",Object(b.jsx)("span",{style:{fontSize:"12px"},children:C})]})}),Object(b.jsx)("span",{className:"remove"})]}),Object(b.jsxs)("div",{className:"enter-margin remv",children:[Object(b.jsx)("div",{className:"input-margin",children:Object(b.jsxs)("div",{className:"box",children:[Object(b.jsx)("div",{className:"amount",style:{display:""!==D?"block":"none"},children:x.amount}),Object(b.jsx)("input",{type:"number",className:"margin-value",value:D,onChange:function(e){var t=e.target.value;B(t)},placeholder:x.amount})]})}),Object(b.jsx)("div",{children:i.baseToken})]}),0===+p.marginHeld&&Object(b.jsxs)("div",{className:"max",children:[x.max,": ",Object(b.jsx)("span",{className:"max-num",children:v||p.margin}),Object(b.jsx)("span",{className:"max-btn-left",onClick:function(){B(h)},children:x["remove-all"]})]}),+p.volume>0&&Object(b.jsxs)("div",{className:"max",children:[Object(b.jsx)("span",{className:"max-num"}),Object(b.jsx)("span",{className:"max-btn-left",children:" "})]}),Object(b.jsx)("div",{className:"add-margin-btn",children:Object(b.jsx)(l.a,{className:"margin-btn",btnText:x.withdraw,lang:x,click:_,checkApprove:!0,wallet:t,spec:i})})]})})]})})})}},787:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n(59),c=n(0),a=n.n(c),s=n(2),r=n(5),o=n(11),l=n(198),d=n(749),j=n(750),u=n(797),b=n(798),p=n(697),m=n(16),O=n(733),h=n(32),f=Object(l.a)(d.a),x=Object(l.a)(j.a);function g(e){var t=e.wallet,n=e.spec,c=e.afterDepositAndWithdraw,l=e.position,d=e.onClose,j=e.lang,g=Object(o.useState)([]),A=Object(r.a)(g,2),v=A[0],y=A[1],N=parseInt((document.body.offsetHeight-140)/54),w=Object(o.useState)(Array.from({length:N})),C=Object(r.a)(w,2),k=C[0],S=C[1],I=Object(o.useState)(!1),D=Object(r.a)(I,2),B=D[0],M=D[1],Q=Object(o.useState)(!1),E=Object(r.a)(Q,2),R=E[0],F=E[1],_=Object(o.useState)(""),P=Object(r.a)(_,2),J=P[0],L=P[1],T=Object(o.useState)(""),H=Object(r.a)(T,2),Y=H[0],G=H[1],z=Object(o.useState)(""),U=Object(r.a)(z,2),W=U[0],V=U[1],q=Object(o.useState)(""),Z=Object(r.a)(q,2),K=Z[0],X=Z[1];Object(O.a)();var $=function(){var e=Object(s.a)(a.a.mark((function e(){var i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.detail.account||!n){e.next=6;break}return e.next=3,Object(m.F)(t.detail.chainId,n.pool,t.detail.account,n.symbolId);case 3:i=e.sent,y(i),i.length<N&&S(Array.from({length:N-i.length}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){return $(),window.scrollTo(0,0),function(){}}),[t.detail.account,n]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"modal fade",children:Object(h.jsx)("div",{className:"modal-dialog",children:Object(h.jsxs)("div",{className:"modal-content",children:[Object(h.jsxs)("div",{className:"modal-header",children:[Object(h.jsx)("div",{className:"title",children:j["balance-in-contract-uppercase"]}),Object(h.jsx)("div",{className:"close","data-dismiss":"modal",onClick:function(){c(),d()},children:Object(h.jsx)("span",{children:"\xd7"})})]}),Object(h.jsx)("div",{className:"modal-body",children:Object(h.jsxs)("div",{className:"balance-list",children:[Object(h.jsxs)("div",{className:"row header",children:[Object(h.jsx)("span",{className:"btoken pc",children:j["base-token"]}),Object(h.jsx)("span",{className:"btoken mobile",children:j["base-token"]}),Object(h.jsx)("span",{className:"w-balance pc",children:j["wallet-balance"]}),Object(h.jsx)("span",{className:"w-balance mobile",children:j["wallet-balance"]}),Object(h.jsx)("span",{className:"avail-balance pc",children:j["available-balance"]}),Object(h.jsx)("span",{className:"avail-balance mobile",children:j["available-balance"]})]}),v.map((function(e,t){return Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("span",{className:"btoken",children:e.bTokenSymbol}),Object(h.jsx)("span",{className:"w-balance",children:Object(h.jsx)(p.a,{value:e.walletBalance,fixedDecimalScale:!0,decimalScale:2})}),Object(h.jsx)("span",{className:"avail-balance",children:Object(h.jsx)(p.a,{value:e.availableBalance,fixedDecimalScale:!0,decimalScale:2})}),Object(h.jsxs)("span",{className:"action",children:[Object(h.jsxs)("span",{className:"add-margin",id:"openAddMargin",onClick:function(){return function(e,t,n){L(e),V(t),X(n),M(!0)}(e.walletBalance,e.bTokenId,e.bTokenSymbol)},children:[Object(h.jsx)("img",{src:u.a,alt:j["add-margin"]})," ",j.add]}),Object(h.jsxs)("span",{className:"remove-margin",onClick:function(){return function(e,t,n){G(e),V(t),X(n),F(!0)}(e.availableBalance,e.bTokenId,e.bTokenSymbol)},children:[Object(h.jsx)("img",{src:b.a,alt:j["remove-margin"]})," ",j.remove]})]})]},t)})),k.map((function(e,t){return Object(h.jsx)("div",{className:"row"},t)}))]})})]})})}),Object(h.jsx)(f,{wallet:t,onClose:function(){return M(!1)},balance:J,spec:Object(i.a)(Object(i.a)({},n),{},{bTokenId:W,bTokenSymbol:K}),position:l,modalIsOpen:B,afterDeposit:function(){M(!1),$()},className:"trading-dialog",nested:!0,lang:j}),Object(h.jsx)(x,{wallet:t,onClose:function(){return F(!1)},spec:Object(i.a)(Object(i.a)({},n),{},{bTokenId:W,bTokenSymbol:K}),position:l,modalIsOpen:R,afterWithdraw:function(){F(!1),$()},availableBalance:Y,className:"trading-dialog",nested:!0,lang:j})]})}},788:function(e,t,n){"use strict";t.a="data:image/png;base64,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"},797:function(e,t,n){"use strict";t.a=n.p+"static/media/remove-margin.1ccb58c4.svg"},798:function(e,t,n){"use strict";t.a=n.p+"static/media/add-margin.8b496dd1.svg"},836:function(e,t,n){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAASCAYAAAC5DOVpAAAACXBIWXMAAAsSAAALEgHS3X78AAAArUlEQVQ4ja2UUQ0CMQxAHwQBOEACSDgJOMDCOWAoOAuggElAAjg5FJQ0lMuyDHIbfUmzj3Zv3ZoMEfkWQd4Ey/cisvtRz5L5rIFoa5EambIBbl4yZQucvWTKAei9ZMoA7P+VnYCFRUwTq6xQT7o29WmdBUBsjXZyDdP+0jU1eWntrIRO6uElG4EOeHrIUuE4V5ZPM+dugb1laO2sGldZes2jRTv2sX0+wlaCiPACF2WaE4qSlAwAAAAASUVORK5CYII="},837:function(e,t,n){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABO0lEQVQ4jaVV223DMAy8BvmvRvAG8QgeISN4lIyQDeoRMoK7gUfQBnUnYMH0LmAU2YETAoQhPs4niWd/mBkWLAE4AmiK9ATgstS0q8QcaADwA6Cv5E4AZj4fzRkG78xsNrOLmTVFrqyb6CnmYlFr/9avAJU+mFmOoCpIZLYFTO6gYwk4cJtbwUQmi4wC9uTMnnnP84QW4xtg8iupHedsrIxNCrG+GKGWsxhrvh1rT8AcwBz8wKaOw/3F/MzB9ppPPttysHNYq0GK0PqXnhnLoebO9oFZ3N7IbaupKwA61p2Lo7peylE39IZrUpJAZsrpVdCT5jgGXmXZREIxMVExW1Xifefax0ESGsovyAozB7uTbO2NrpqbNhdY+RH5Nm/MlgDl0qabv0CumLOqXuLaL8DNVVT7BfhwPxqAP4UiW3Wp1wTfAAAAAElFTkSuQmCC"},838:function(e,t,n){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAABHNCSVQICAgIfAhkiAAAAMtJREFUKFNjZACCR35JUoxM/1L//2cMY2Rk0AKJYQP//zNcY2T8v+r/P6bZcpvmPWMEaWRg/LcKqGkPy3/GVZIb51/Dpfm5f6LWH8b/YUBDXBj+M4UxPg5IqAcqZpTdsKABlyZ0cZgexkf+iVdZGRhC8dmIrhnkgt8MDKuBNif+l90wn5FYW2HqQPoGkWaQc3B5Adl7WJ0NDEkH3JoXHBgkfqYwnilJYYi0vRuYtlcTkbZDgWnbFZy2kXJVGjBXhRKRq1YDc9UsUK4CANLUkGF0vLC1AAAAAElFTkSuQmCC"},839:function(e,t,n){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAABHNCSVQICAgIfAhkiAAAAMNJREFUKFNjZAAC6yOGUsy/2VP///8fxsjIqAUSwwaA8teA8qv+sv6cfdTm/DNGkEamX+yrGBkZ9vxn/r/qsN3Ja7g02x4y12L8yxj2/z+Dyz+2n2GMdvst6oGKGQ85nmjApQldHKaH0Xaf+VUGFoZQfDaiawa5gOEPw2qQzf+BtjJis5WQ3CDSDHIqroBD9h5I3SByNrKTCYY2pfFMfgpDStu7gWl7NRFpOxSYtl3BaRspV6UBc00oEblqNTBXzQLlKgA5rqOIANC/1gAAAABJRU5ErkJggg=="},840:function(e,t,n){"use strict";var i=n(11),c=(n(876),n(695)),a=n.n(c),s=n(76),r=n(32);t.a=Object(s.b)("version","wallet","type")(Object(s.c)((function({lang:e,version:t,wallet:n,type:c}){const[s,o]=Object(i.useState)("main"),l=a()("area-picker-wrapper",s),[d,j]=Object(i.useState)({}),u=e=>{o(e),"innovation"===e?t.setCurrent("v2_lite"):"main"===e?t.setCurrent("v2"):"open"===e&&t.setCurrent("v2_lite_open")};return Object(i.useEffect)((()=>(t.isV2Lite?u("innovation"):t.isV2?u("main"):t.isOpen&&n.supportOpen&&u("open"),n.supportOpen?j({width:100/3+"%"}):j({width:"50%"}),()=>{})),[n.detail,t.current]),(t.isV2||t.isV2Lite||t.isOpen)&&n.supportInnovation&&!c.isOption?Object(r.jsx)("div",{className:"area-picker",children:Object(r.jsxs)("div",{className:l,children:[Object(r.jsx)("span",{className:"left",style:d,onClick:()=>u("main"),children:e["main-zone"]}),Object(r.jsx)("span",{className:"middle",style:d,onClick:()=>u("innovation"),children:e["innovation-zone"]}),n.supportOpen&&Object(r.jsx)("span",{className:"right",style:d,onClick:()=>u("open"),children:e["open-zone"]})]})}):null})))},866:function(e,t,n){"use strict";var i=n(5),c=n(11),a=n(77),s=n(0),r=n.n(s),o=n(2),l=n(16),d=n(695),j=n.n(d),u=n(198),b=n(749),p=n(750),m=n(697),O=n(33),h=n(76),f=n(787),x=n(798),g=n(797),A=n(836),v=n(837),y=n.p+"static/media/close-position-icon.6e2b1ee2.svg",N=n(702),w=n(32),C=Object(u.a)(b.a),k=Object(u.a)(p.a),S=Object(u.a)(f.a);function I(e){var t=e.trading,n=e.wallet,a=e.lang,s=Object(c.useState)(Object(w.jsx)("span",{})),r=Object(i.a)(s,2),o=r[0],l=r[1];return Object(c.useEffect)((function(){var e="";n.isConnected()&&t.position.liquidationPrice&&(t.position.liquidationPrice.numPositions>1?t.position.liquidationPrice.price1&&t.position.liquidationPrice.price2?e=Object(w.jsxs)("span",{children:[Object(w.jsx)(m.a,{decimalScale:2,value:t.position.liquidationPrice.price1}),Object(w.jsx)("span",{children:" / "}),Object(w.jsx)(m.a,{decimalScale:2,value:t.position.liquidationPrice.price2})]}):t.position.liquidationPrice.price1||t.position.liquidationPrice.price2?!t.position.liquidationPrice.price1&&t.position.liquidationPrice.price2?e=Object(w.jsxs)("span",{children:[Object(w.jsx)(N.a,{block:!1,children:Object(w.jsx)("span",{className:"funding-fee",tip:a["liq-price-hover-three"],children:" ? "})}),Object(w.jsx)("span",{children:" / "}),Object(w.jsxs)("span",{children:[" ",Object(w.jsx)(m.a,{decimalScale:2,value:t.position.liquidationPrice.price2})," "]})]}):t.position.liquidationPrice.price1&&!t.position.liquidationPrice.price2&&(e=Object(w.jsxs)("span",{children:[Object(w.jsxs)("span",{children:[" ",Object(w.jsx)(m.a,{decimalScale:2,value:t.position.liquidationPrice.price1})," "]}),Object(w.jsx)("span",{children:" / "}),Object(w.jsx)(N.a,{block:!1,children:Object(w.jsx)("span",{className:"funding-fee",tip:a["liq-price-hover-three"],children:" ? "})})]})):e=Object(w.jsxs)("span",{children:[Object(w.jsx)(N.a,{block:!1,children:Object(w.jsx)("span",{className:"funding-fee",tip:a["liq-price-hover-three"],children:" ? "})}),Object(w.jsx)("span",{children:" / "}),Object(w.jsx)(N.a,{block:!1,children:Object(w.jsx)("span",{className:"funding-fee",tip:a["liq-price-hover-three"],children:" ? "})})]}):t.position.liquidationPrice.price1&&t.position.liquidationPrice.price2?e=Object(w.jsxs)("span",{children:[Object(w.jsx)(m.a,{decimalScale:2,value:t.position.liquidationPrice.price1}),Object(w.jsx)("span",{children:" / "}),Object(w.jsx)(m.a,{decimalScale:2,value:t.position.liquidationPrice.price2})]}):t.position.liquidationPrice.price1||t.position.liquidationPrice.price2?!t.position.liquidationPrice.price1&&t.position.liquidationPrice.price2?e=Object(w.jsxs)("span",{children:[Object(w.jsxs)(N.a,{block:!1,children:[" ",Object(w.jsx)("span",{className:"funding-fee",tip:a["liq-price-hover-two"],children:" -- "})]}),Object(w.jsx)("span",{children:" / "}),Object(w.jsxs)("span",{children:[" ",Object(w.jsx)(m.a,{decimalScale:2,value:t.position.liquidationPrice.price2})," "]})]}):t.position.liquidationPrice.price1&&!t.position.liquidationPrice.price2&&(e=Object(w.jsxs)("span",{children:[Object(w.jsxs)("span",{children:[" ",Object(w.jsx)(m.a,{decimalScale:2,value:t.position.liquidationPrice.price1})," "]}),Object(w.jsx)("span",{children:" / "}),Object(w.jsxs)(N.a,{block:!1,children:[" ",Object(w.jsx)("span",{className:"funding-fee",tip:a["liq-price-hover-two"],children:" -- "})]})]})):e=Object(w.jsxs)("span",{children:[Object(w.jsxs)(N.a,{block:!1,children:[" ",Object(w.jsx)("span",{className:"funding-fee",tip:a["liq-price-hover-two"],children:" -- "})]}),Object(w.jsx)("span",{children:" / "}),Object(w.jsxs)(N.a,{block:!1,children:[" ",Object(w.jsx)("span",{className:"funding-fee",tip:a["liq-price-hover-two"],children:" -- "})]})]}),l(e))}),[t.position,n.detail]),Object(w.jsx)("span",{children:o})}var D=Object(h.b)("wallet","trading","version","type")(Object(h.c)((function(e){var t=e.wallet,n=e.trading,s=e.version,d=e.lang,u=e.type,b=Object(c.useState)(!1),p=Object(i.a)(b,2),h=p[0],f=p[1],D=Object(c.useState)(""),B=Object(i.a)(D,2),M=B[0],Q=B[1],E=Object(c.useState)(""),R=Object(i.a)(E,2),F=R[0],_=R[1],P=Object(c.useState)(""),J=Object(i.a)(P,2),L=J[0],T=J[1],H=Object(c.useState)(!1),Y=Object(i.a)(H,2),G=Y[0],z=Y[1],U=Object(c.useState)(!1),W=Object(i.a)(U,2),V=W[0],q=W[1],Z=Object(c.useState)(!1),K=Object(i.a)(Z,2),X=K[0],$=K[1],ee=Object(c.useState)(""),te=Object(i.a)(ee,2),ne=te[0],ie=te[1],ce=function(){var e=Object(o.a)(r.a.mark((function e(){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isConnected()||!n.config){e.next=5;break}return e.next=3,Object(l.cb)(t.detail.chainId,n.config.pool,t.detail.account,n.config.bTokenId).catch((function(e){return console.error("load balance error,maybe network is wrong")}));case 3:(i=e.sent)&&ie(i);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(o.a)(r.a.mark((function e(){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,Object(l.i)(t.detail.chainId,n.config.pool,t.detail.account,n.config.symbolId).finally((function(){return f(!1)}));case 3:(i=e.sent).success?se():"string"===typeof i.error?alert(i.error||d["close-position-failed"]):"object"===Object(a.a)(i.error)?alert(i.error.errorMessage||d["close-position-failed"]):alert(d["close-position-failed"]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){n.refresh(),ce()},re=j()("Direction","info-num",{LONG:+n.position.volume>0,SHORT:+n.position.volume<0});return Object(c.useEffect)((function(){return ce(),function(){}}),[t.detail.account,n.config]),Object(c.useEffect)((function(){if(n.position){var e=n.position,t=+e.volume>0?d.long:Object(O.e)(e.volume,0)||!e.volume?"--":d.short;Q(t),_(Object(l.g)(e.margin).plus(e.unrealizedPnl).toString()),T(Object(l.g)(e.margin).plus(e.unrealizedPnl).minus(e.marginHeld).toString())}return function(){}}),[n.position.volume,n.position.margin,n.position.unrealizedPnl]),Object(w.jsxs)("div",{className:"position-info",children:[Object(w.jsxs)("div",{className:"info",children:[Object(w.jsxs)("div",{className:"info-left",children:[Object(w.jsx)("div",{className:"title-text",children:d.position}),Object(w.jsx)("div",{className:"info-num",children:Object(w.jsx)(m.a,{value:n.position.volume,thousandSeparator:!0,allowZero:!0})})]}),Object(w.jsx)("div",{className:"info-right",children:Object(w.jsxs)("div",{className:"close-position",id:"close-p",onClick:ae,children:[Object(w.jsx)("span",{className:"spinner spinner-border spinner-border-sm",role:"status","aria-hidden":"true",style:{display:h?"block":"none"}}),Object(w.jsx)("img",{src:y})," ",d.close]})})]}),Object(w.jsxs)("div",{className:"info",children:[Object(w.jsxs)("div",{className:"info-left",children:[Object(w.jsx)("div",{className:"title-text",children:d["average-entry-price"]}),Object(w.jsx)("div",{className:"info-num",children:Object(w.jsx)(m.a,{value:n.position.averageEntryPrice,decimalScale:2})})]}),Object(w.jsx)("div",{className:"info-right"})]}),Object(w.jsxs)("div",{className:"info",children:[Object(w.jsxs)("div",{className:"info-left",children:[Object(w.jsx)("div",{className:"title-text balance-con",children:s.isV1||s.isV2Lite||u.isOption?Object(w.jsxs)(w.Fragment,{children:[d["balance-in-contract"],Object(w.jsx)("br",{})," (",d["dynamic-balance"],")"]}):d["dynamic-effective-balance"]}),Object(w.jsx)("div",{className:"info-num",children:Object(w.jsx)(m.a,{decimalScale:2,allowZero:!0,value:F})})]}),Object(w.jsx)("div",{className:"info-right action ".concat(s.current),children:s.isV1||s.isV2Lite||u.isOption||s.isOpen?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:"add-margin",id:"openAddMargin",onClick:function(){return q(!0)},children:[Object(w.jsx)("img",{src:g.a,alt:"add margin"})," ",d.add]}),Object(w.jsxs)("div",{className:"remove-margin",onClick:function(){return $(!0)},children:[Object(w.jsx)("img",{src:x.a,alt:"add margin"})," ",d.remove]})]}):Object(w.jsxs)("div",{onClick:function(){return z(!0)},children:[Object(w.jsx)("img",{src:A.a,alt:"Remove margin"})," ",d.detail]})})]}),Object(w.jsxs)("div",{className:"info",children:[Object(w.jsxs)("div",{className:"info-left",children:[Object(w.jsx)("div",{className:"title-text",children:d.direction}),Object(w.jsx)("div",{className:re,children:M})]}),Object(w.jsx)("div",{className:"info-right"})]}),Object(w.jsxs)("div",{className:"info",children:[Object(w.jsxs)("div",{className:"info-left",children:[Object(w.jsx)("div",{className:"title-text",children:d.margin}),Object(w.jsx)("div",{className:"info-num",children:Object(w.jsx)(m.a,{value:n.position.marginHeld,decimalScale:2})})]}),Object(w.jsx)("div",{className:"info-right"})]}),Object(w.jsxs)("div",{className:"info",children:[Object(w.jsxs)("div",{className:"info-left",children:[Object(w.jsx)("div",{className:"title-text",children:d["unrealized-pnl"]}),Object(w.jsx)("div",{className:"info-num",children:Object(w.jsxs)("span",{className:"pnl-list",children:[Object(w.jsx)(m.a,{value:n.position.unrealizedPnl,decimalScale:8}),(n.position.unrealizedPnlList?(s.isV2||s.isV2Lite||s.isOption)&&n.position.unrealizedPnlList.length:s.isV2||s.isV2Lite)&&Object(w.jsx)("img",{src:v.a,alt:"unrealizePnl"}),(s.isV2||s.isV2Lite||s.isOption)&&Object(w.jsx)("div",{className:"pnl-box",children:n.position.unrealizedPnlList&&n.position.unrealizedPnlList.map((function(e,t){return Object(w.jsxs)("div",{className:"unrealizePnl-item",children:[Object(w.jsx)("span",{children:e[0]}),Object(w.jsx)("span",{children:Object(w.jsx)(m.a,{value:e[1],decimalScale:8})})]},t)}))})]})})]}),Object(w.jsx)("div",{className:"info-right"})]}),Object(w.jsxs)("div",{className:"info",children:[u.isFuture&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:"info-left",children:[Object(w.jsx)(N.a,{children:Object(w.jsx)("div",{className:"title-text  funding-fee",tip:d["funding-fee-tip"],children:d["funding-fee"]})}),Object(w.jsx)("div",{className:"info-num",children:Object(w.jsx)(m.a,{value:-n.position.fundingFee,decimalScale:8})})]}),Object(w.jsx)("div",{className:"info-right"})]}),u.isOption&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:"info-left",children:[Object(w.jsx)(N.a,{children:Object(w.jsx)("div",{className:"title-text  funding-fee",tip:d["funding-fee-tip"],children:d["funding-fee"]})}),Object(w.jsx)("div",{className:"info-num",children:Object(w.jsx)(m.a,{value:-n.position.premiumFundingAccrued,decimalScale:8})})]}),Object(w.jsx)("div",{className:"info-right"})]})]}),Object(w.jsxs)("div",{className:"info",children:[Object(w.jsxs)("div",{className:"info-left",children:[Object(w.jsxs)("div",{className:"title-text",children:[Object(w.jsx)("span",{}),u.isOption?Object(w.jsx)(N.a,{block:!1,children:Object(w.jsx)("span",{className:"funding-fee",tip:d["liq-price-hover-one"],children:d["liquidation-price"]})}):Object(w.jsx)("span",{children:d["liquidation-price"]})]}),Object(w.jsx)("div",{className:"info-num",children:u.isOption?Object(w.jsx)(I,{trading:n,wallet:t,lang:d}):Object(w.jsx)(m.a,{decimalScale:4,value:n.position.liquidationPrice})})]}),Object(w.jsx)("div",{className:"info-right"})]}),Object(w.jsx)(C,{wallet:t,modalIsOpen:V,onClose:function(){q(!1)},spec:n.config,afterDeposit:function(){q(!1),se()},balance:ne,className:"trading-dialog",lang:d}),Object(w.jsx)(k,{wallet:t,modalIsOpen:X,onClose:function(){$(!1)},spec:n.config,afterWithdraw:function(){$(!1),se()},position:n.position,availableBalance:L,className:"trading-dialog",lang:d}),Object(w.jsx)(S,{wallet:t,modalIsOpen:G,onClose:function(){z(!1)},spec:n.config,afterDepositAndWithdraw:function(){se()},position:n.position,overlay:{background:"#1b1c22",top:80},className:"balance-list-dialog",lang:d})]})}))),B=n(734),M=n.n(B),Q=n(703);var E=n(91),R=n(788),F=E[l.a.get()].chainInfo;function _(e){var t=e.wallet,n=e.his,a=Object(c.useState)(!1),s=Object(i.a)(a,2),r=s[0],o=s[1],l=function(){o(!0)},d=function(){o(!1)},u=j()("view",{hover:r});return Object(w.jsxs)("span",{className:u,onMouseOut:d,children:[Object(w.jsx)("span",{className:"view-space",onMouseOver:l,children:Object(w.jsxs)("a",{target:"_blank",rel:"noreferrer",href:"".concat(F[t.detail.chainId].viewUrl,"tx/").concat(n.transactionHash),children:["View at ",F[t.detail.chainId].viewUrl]})}),Object(w.jsx)("span",{className:"right-arrow",onMouseOver:l,children:Object(w.jsx)("img",{alt:"",src:R.a})}),Object(w.jsx)("span",{className:"view-arrow",onMouseOver:l,onMouseOut:d,children:Object(w.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat(F[t.detail.chainId].viewUrl,"tx/").concat(n.transactionHash),children:Object(w.jsx)("img",{rel:"noreferrer",alt:"",src:"data:image/svg+xml;base64,DQo8c3ZnIGZpbGw9Im5vbmUiIGhlaWdodD0iMTAiIHdpZHRoPSIxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCiAgICA8cGF0aCBkPSJNOC42NzYuNjQyYS42NS42NSAwIDAwLS4wNzIuMDA2SDQuNzkzYS42NS42NSAwIDAwLS41Ny45NzUuNjUuNjUgMCAwMC41Ny4zMjJINy4xMkwuNDM4IDguNjE0YS42NDcuNjQ3IDAgMDAuMjg2IDEuMDk2LjY1LjY1IDAgMDAuNjMyLS4xNzlMOC4wNCAyLjg2MXYyLjMyNGEuNjQ4LjY0OCAwIDAwLjk3Ny41Ny42NDguNjQ4IDAgMDAuMzIyLS41N1YxLjM4YS42NDcuNjQ3IDAgMDAtLjY2Mi0uNzM3eiIgZmlsbD0iI0FBQUFBQSIvPg0KPC9zdmc+DQoNCg=="})})})]})}var P=Object(h.b)("wallet","trading","type")(Object(h.c)((function(e){var t=e.wallet,n=e.trading,a=e.lang,s=e.type,l=Object(c.useState)([]),d=Object(i.a)(l,2),j=d[0],u=d[1];function b(){return(b=Object(o.a)(r.a.mark((function e(){var i,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isConnected()&&n.configs&&n.config&&n.contract&&(i=n.history,c=i.map((function(e){e.directionText=a["long-buy"],"SHORT"===e.direction?e.directionText=a["short-sell"]:"liquidation"===e.direction.toLowerCase()&&(e.directionText=a.liquidation);var t=n.config;return t&&(e.symbol=e.symbol?e.symbol:t.symbol,e.baseTokenText=e.baseToken?" ".concat(e.symbol," / ").concat(e.baseToken):e.symbol),e})),u(c));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){return function(){b.apply(this,arguments)}(),function(){}}),[t.detail,n.configs,n.config,n.history]),Object(w.jsxs)("div",{className:"history-info","v-show":"historyShow",children:[j.map((function(e,n){return Object(w.jsxs)("div",{className:"history-box",children:[Object(w.jsxs)("div",{className:"direction-bToken-price",children:[Object(w.jsxs)("span",{className:"direction",children:[Object(w.jsxs)("span",{className:"".concat(e.direction),children:[" ",e.directionText]}),Object(w.jsx)("span",{className:"basetoken",children:e.baseTokenText}),Object(w.jsx)(_,{wallet:t,his:e})]}),Object(w.jsx)("span",{className:"history-text time",children:M.a.asString("yyyy-MM-dd hh:mm:ss",new Date(parseInt(e.time)))})]}),Object(w.jsxs)("div",{className:"time-price-volume",children:[Object(w.jsxs)("div",{className:"history-price",children:[Object(w.jsxs)("div",{className:"history-title",children:[" ",s.isOption?a["volume-notional-price"]:a["volume-price"]]}),Object(w.jsxs)("div",{className:"history-text",children:[Object(w.jsx)(m.a,{value:e.volume,thousandSeparator:!0,allowZero:!0})," @ ",Object(w.jsx)(m.a,{value:e.price,decimalScale:4,displayType:"text"})]})]}),Object(w.jsxs)("div",{className:"notional",children:[Object(w.jsxs)("div",{className:"history-title",children:[" ",s.isOption?a["contract-value"]:a.notional]}),Object(w.jsx)("div",{className:"history-text",children:Object(w.jsx)(m.a,{value:e.notional,decimalScale:4})})]}),Object(w.jsxs)("div",{className:"history-fee",children:[Object(w.jsx)("div",{className:"history-title pc",children:a["transaction-fee"]}),Object(w.jsx)("div",{className:"history-title mobile",children:a["transaction-fee"]}),Object(w.jsx)("div",{className:"history-text",children:Object(w.jsx)(m.a,{value:e.transactionFee,decimalScale:4})})]})]})]},n)})),0===+j.length?Object(w.jsx)("div",{className:"no-data",children:a["no-data"]}):""]})}))),J=n(41);var L=Object(h.b)("wallet","trading","type")(Object(h.c)((function({wallet:e,trading:t,lang:n,type:i}){return Object(w.jsxs)("div",{className:"contract-box",children:[Object(w.jsx)("div",{className:"contract-header"}),Object(w.jsxs)("div",{className:"contract-info",children:[Object(w.jsx)("div",{className:"conntract-header",children:n["contract-info"]}),Object(w.jsxs)("div",{className:"info",children:[Object(w.jsx)("div",{className:"title",children:n["base-token"]}),Object(w.jsx)("div",{className:"text",children:t.contract.bTokenSymbol&&t.contract.bTokenSymbol.map(((e,c)=>J.a.isV2&&i.isFuture?Object(w.jsx)(N.a,{children:Object(w.jsxs)("span",{className:"btoken-symbol",children:[e,"(",Object(w.jsxs)("span",{className:"multiplier",tip:n["multiplier-tip"],children:[t.contract.bTokenMultiplier&&t.contract.bTokenMultiplier[c],"x"]}),")"]})},c):Object(w.jsx)("span",{className:"btoken-symbol",children:e},c)))})]}),Object(w.jsxs)("div",{className:"info",children:[Object(w.jsxs)("div",{className:"title",children:[i.isOption&&n["symbol-option"],i.isFuture&&n.symbol]}),Object(w.jsx)("div",{className:"text",children:t.contract.symbol})]}),i.isFuture&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:"info",children:[Object(w.jsxs)("div",{className:"title",children:[" ",Object(w.jsxs)("span",{children:[n["min-trade-volume"]," ( ",n.notional," )"]})," "]}),Object(w.jsxs)("div",{className:"text",children:[t.contract.multiplier," ",t.config?t.config.unit:""]})]}),(J.a.isOpen||J.a.isV1)&&Object(w.jsxs)("div",{className:"info",children:[Object(w.jsx)("div",{className:"title",children:n["funding-rate-coefficient"]}),Object(w.jsx)("div",{className:"text",children:t.contract.fundingRateCoefficient})]}),!J.a.isOpen&&Object(w.jsxs)("div",{className:"info",children:[Object(w.jsx)("div",{className:"title",children:n["funding-rate-coefficient"]}),Object(w.jsx)("div",{className:"text",children:Object(w.jsx)(N.a,{block:!1,children:Object(w.jsx)("span",{tip:t.fundingCoefficientTip,className:"margin-per",children:t.contract.fundingRateCoefficient?(c=+t.contract.fundingRateCoefficient,(c=+c.toFixed(11)).toExponential().match(/\d(?:\.(\d*))?e([+-]\d+)/)[0]):""})})})]}),Object(w.jsxs)("div",{className:"info",children:[Object(w.jsx)("div",{className:"title",children:n["min-initial-margin-ratio"]}),Object(w.jsx)("div",{className:"text",children:Object(w.jsx)(Q.a,{displayType:"text",value:100*t.contract.minInitialMarginRatio,decimalScale:2,suffix:"%"})})]}),Object(w.jsxs)("div",{className:"info",children:[Object(w.jsx)("div",{className:"title",children:n["min-maintenance-margin-ratio"]}),Object(w.jsx)("div",{className:"text",children:Object(w.jsx)(Q.a,{displayType:"text",value:100*t.contract.minMaintenanceMarginRatio,decimalScale:2,suffix:"%"})})]})]}),i.isOption&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:"info",children:[Object(w.jsx)("div",{className:"title",children:n.underlier}),Object(w.jsx)("div",{className:"text",children:t.contract.underlier})]}),Object(w.jsxs)("div",{className:"info",children:[Object(w.jsx)("div",{className:"title",children:n.strike}),Object(w.jsx)("div",{className:"text",children:t.contract.strike})]}),Object(w.jsxs)("div",{className:"info",children:[Object(w.jsx)("div",{className:"title",children:n["option-type"]}),Object(w.jsx)("div",{className:"text",children:"C"===t.contract.optionType?`${n.call}`:`${n.put}`})]}),Object(w.jsxs)("div",{className:"info",children:[Object(w.jsxs)("div",{className:"title",children:[" ",Object(w.jsxs)("span",{children:[n["min-trade-volume"]," ( ",n.notional," )"]})," "]}),Object(w.jsxs)("div",{className:"text",children:[t.contract.multiplier," ",t.config?t.config.unit:""]})]}),Object(w.jsxs)("div",{className:"info",children:[Object(w.jsx)("div",{className:"title",children:Object(w.jsx)(N.a,{block:!1,children:Object(w.jsx)("span",{tip:t.initialMarginRatioTip,className:"margin-per",children:n["initial-margin-ratio"]})})}),Object(w.jsx)("div",{className:"text",children:Object(w.jsx)(Q.a,{displayType:"text",value:100*t.contract.initialMarginRatio,decimalScale:2,suffix:"%"})})]}),Object(w.jsxs)("div",{className:"info",children:[Object(w.jsxs)("div",{className:"title",children:[" ",Object(w.jsx)(N.a,{block:!1,children:Object(w.jsxs)("span",{tip:t.maintenanceMarginRatioTip,className:"margin-per",children:[" ",n["maintenance-margin-ratio"]]})})," "]}),Object(w.jsx)("div",{className:"text",children:Object(w.jsx)(Q.a,{displayType:"text",value:100*t.contract.maintenanceMarginRatio,decimalScale:2,suffix:"%"})})]})]}),Object(w.jsxs)("div",{className:"info",children:[i.isFuture&&Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("div",{className:"title",children:n["transaction-fee"]})}),i.isOption&&Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("div",{className:"title",children:Object(w.jsx)(N.a,{block:!1,children:Object(w.jsx)("span",{className:"margin-per",tip:t.TransactionFeeTip,children:n["transaction-fee"]})})})}),Object(w.jsxs)("div",{className:"text",children:[i.isOption&&Object(w.jsxs)(w.Fragment,{children:["C"===t.contract.optionType&&Object(w.jsxs)(w.Fragment,{children:[t.contract.strike>=t.index&&Object(w.jsxs)(w.Fragment,{children:[n["eo-mark-price"]," * ",Object(w.jsx)(Q.a,{displayType:"text",value:100*t.contract.feeRatioOTM,decimalScale:3,suffix:"%"})]}),t.contract.strike<t.index&&Object(w.jsxs)(w.Fragment,{children:[t.contract.underlier," ",n.price," * ",Object(w.jsx)(Q.a,{displayType:"text",value:100*t.contract.feeRatioITM,decimalScale:3,suffix:"%"})]})]}),"C"!==t.contract.optionType&&Object(w.jsxs)(w.Fragment,{children:[t.contract.strike<t.index&&Object(w.jsxs)(w.Fragment,{children:[n["eo-mark-price"]," * ",Object(w.jsx)(Q.a,{displayType:"text",value:100*t.contract.feeRatioOTM,decimalScale:3,suffix:"%"})]}),t.contract.strike>=t.index&&Object(w.jsxs)(w.Fragment,{children:[t.contract.underlier," ",n.price," * ",Object(w.jsx)(Q.a,{displayType:"text",value:100*t.contract.feeRatioITM,decimalScale:3,suffix:"%"})]})]})]}),i.isFuture&&Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(Q.a,{displayType:"text",value:100*t.contract.feeRatio,decimalScale:3,suffix:"%"})})]})]}),t.contract.indexConstituents&&t.contract.indexConstituents.tokens.length>0&&Object(w.jsxs)("div",{className:"info",children:[Object(w.jsx)("div",{className:"title",children:n["index-constituent"]}),Object(w.jsx)("div",{className:"text",children:t.contract.indexConstituents.tokens.join(" | ")})]})]})]});var c}))),T=n(59),H=n(706),Y=n(1096),G=(n(1014),n(873),Y.b.Handle);function z(e){var t=e.value,n=(e.dragging,e.index),i=Object(H.a)(e,["value","dragging","index"]);return Object(w.jsx)(Y.a,{prefixCls:"rc-slider-tooltip",overlay:t||"",placement:"top",visible:!!t,overlayStyle:{display:"block"},overlayInnerStyle:{color:"#569BDA",background:"none",display:"block",fontSize:"10px",boxShadow:"none"},children:Object(w.jsx)(G,Object(T.a)({value:t},i))},n)}function U(e){var t=e.max,n=void 0===t?"--":t,a=e.start,s=e.onValueChange,r=e.freeze,o=e.currentSymbolMarginHeld,d=e.originMarginHeld,u=e.setStopCalculate,b=Object(c.useState)(0),p=Object(i.a)(b,2),m=p[0],O=p[1],h=Object(c.useState)(0),f=Object(i.a)(h,2),x=f[0],g=f[1],A=Object(c.useState)(!1),v=Object(i.a)(A,2),y=v[0],N=v[1],C=Object(c.useState)({}),k=Object(i.a)(C,2),S=k[0],I=k[1],D=Object(c.useState)(!1),B=Object(i.a)(D,2),M=B[0],Q=B[1],E=Object(c.useState)(!1),R=Object(i.a)(E,2),F=R[0],_=R[1];Object(c.useEffect)((function(){return N(r),0===Math.abs(n)&&N(!0),function(){}}),[r,n]),Object(c.useEffect)((function(){var e=n;return 0!==Math.abs(n)&&"--"!==n||(n=100),isNaN(e)&&O(""),n&&I(function(e){for(var t={},n=+e/10,i=0;i<=10;i++)if(0===i||10===i){var c={top:"-16px",position:"relative"};10===i&&(c.width=100,c.left="-10px",c.paddingRight="10px"),t[i*n]=Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{style:c,children:10===i?(i*n).toFixed(2):i*n}),Object(w.jsx)("div",{style:{top:"-16px",position:"relative"},children:"l"})]})}else t[i*n]="l";return t}(n)),O(+n),"--"!==e&&Q(!0),0!==Math.abs(n)&&0!==Math.abs(e)||Q(!1),function(){}}),[n]),Object(c.useEffect)((function(){return F||(isNaN(a)?g(0):g(a)),function(){}}),[a]);var P=j()("deri-slider",{controlled:M});return Object(w.jsx)(Y.b,{handle:z,className:P,start:a,min:0,max:m,value:x,onChange:function(e){_(!0),u(!0),g(e),s(e,!1)},onAfterChange:function(e){if(o){var t=Object(l.g)(d).minus(o);Object(l.g)(e).lt(t)&&(g(t),s(t))}_(!1),u(!1)},disabled:y,overlay:x,step:.01,marks:S})}var W=n(696),V=n(37);var q=n.p+"static/media/arrow-down.5e5e4213.svg",Z=n.p+"static/media/arrow-up.d36fae6d.svg";function K(e){var t=e.symbol,n=e.trading,a=e.onSelect,s=e.index,r=e.version,o=e.type,l=Object(c.useState)(0),d=Object(i.a)(l,2),u=d[0],b=d[1],p=j()("sub-menu",{show:s===u});return Object(w.jsxs)("div",{className:"dropdown-item-wrapper",children:[Object(w.jsxs)("div",{className:"catalog",onClick:function(){return function(e){b(u===e?-1:e)}(s)},children:[t,Object(w.jsx)("span",{className:"sub-memu-icon",children:u===s?Object(w.jsx)("img",{src:Z,alt:""}):Object(w.jsx)("img",{src:q,alt:""})})]}),Object(w.jsx)("div",{className:p,children:Array.isArray(n.optionsConfigs[t])&&n.optionsConfigs[t].map((function(e,t){return Object(w.jsx)("div",{className:"dropdown-item",onClick:function(){return a(e)},children:Object(w.jsx)(X,{spec:e,version:r,type:o})},t)}))},s)]},s)}function X(e){var t=e.version,n=e.spec;return e.type.isOption?"".concat(n&&n.symbol||"BTCUSD-70000-C"):t.isV1||t.isV2Lite||t.isOpen?"".concat(n&&n.symbol||"BTCUSD"," / ").concat(n&&n.bTokenSymbol||"BUSD"," (10X)"):"".concat(n&&n.symbol||"BTCUSD"," (10X)")}var $=Object(h.b)("trading","version","loading","type")(Object(h.c)((function(e){var t=e.trading,n=e.version,a=e.loading,s=e.type,r=Object(c.useState)(!1),o=Object(i.a)(r,2),l=o[0],d=o[1],u=j()("dropdown-menu",{show:l}),b=function(e){e&&(a.loading(),t.pause(),t.onSymbolChange(e,(function(){return a.loaded()}),s.isOption),d(!1))};return Object(c.useEffect)((function(){var e=function(e){document.querySelector(".btn-group")&&!document.querySelector(".btn-group").contains(e.target)&&d(!1)};return document.body.addEventListener("click",e),function(){document.body.removeEventListener("click",e)}}),[]),Object(w.jsxs)("div",{className:"btn-group check-baseToken-btn",children:[Object(w.jsxs)("button",{type:"button",onClick:function(e){e.preventDefault(),d(!l)},className:"btn chec",children:[Object(w.jsx)(X,{spec:t.config,version:n,type:s}),Object(w.jsx)("span",{className:"check-base-down",children:l?Object(w.jsx)("img",{src:Z,alt:""}):Object(w.jsx)("img",{src:q,alt:""})})]}),Object(w.jsx)("div",{className:u,children:s.isFuture?t.configs.map((function(e,t){return Object(w.jsx)("div",{className:"dropdown-item",onClick:function(t){return b(e)},children:Object(w.jsx)(X,{spec:e,version:n,type:s})},t)})):Object.keys(t.optionsConfigs).map((function(e,i){return Object(w.jsx)(K,{index:i,symbol:e,trading:t,onSelect:b,version:n,type:s},i)}))})]})}))),ee=n(838),te=n(839),ne=(n(1015),Object(u.a)((function(e){var t=e.wallet,n=e.spec,a=e.onClose,s=e.direction,d=e.volume,j=e.position,u=void 0===j?0:j,b=e.indexPrice,p=e.leverage,O=e.afterLeverage,h=e.transFee,f=e.afterTrade,x=e.lang,g=e.markPriceAfter,A=e.trading,v=e.liquidationPrice,y=Object(c.useState)(!1),N=Object(i.a)(y,2),C=N[0],k=N[1],S=function(){var e=Object(o.a)(r.a.mark((function e(){var i,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),d=Object(l.g)(d).div(Object(l.g)(A.contract.multiplier)).toString(),d="long"===s?d:-+d,e.next=5,Object(l.xb)(t.detail.chainId,n.pool,t.detail.account,d,n.symbolId);case 5:(i=e.sent).success?(f(),a()):(c="string"===typeof i.error?i.error:i.error.errorMessage||i.error.message,alert(c)),k(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){C||a()},D="long"===s?Object(l.g)(d).plus(Object(l.g)(u)).toString():Object(l.g)(u).minus(Object(l.g)(d)).toString();return Object(w.jsx)("div",{className:"modal-dialog",children:Object(w.jsxs)("div",{className:"modal-content",children:[Object(w.jsxs)("div",{className:"modal-header",children:[Object(w.jsx)("div",{className:"title",children:x.confirm}),Object(w.jsx)("div",{className:"close","data-dismiss":"modal",onClick:I,children:Object(w.jsx)("span",{children:"\xd7"})})]}),Object(w.jsx)("div",{className:"modal-body",children:Object(w.jsxs)("div",{className:"contract-box-info",children:[Object(w.jsxs)("div",{className:"top",children:[Object(w.jsxs)("div",{className:"text",children:[Object(w.jsx)("div",{className:"text-title",children:x["of-contracts"]}),Object(w.jsxs)("div",{className:"text-num",children:["long"===s?Object(w.jsx)(m.a,{value:d,thousandSeparator:!0,allowZero:!0}):Object(w.jsx)(m.a,{value:-d,thousandSeparator:!0,allowZero:!0})," ",A.config.unit]})]}),Object(w.jsxs)("div",{className:"text",children:[Object(w.jsx)("div",{className:"text-title",children:x["position-after-execution"]}),Object(w.jsxs)("div",{className:"text-num",children:[Object(w.jsx)(m.a,{value:D,thousandSeparator:!0,allowZero:!0})," "]})]}),Object(w.jsxs)("div",{className:"text",children:[Object(w.jsx)("div",{className:"text-title",children:x.direction}),Object(w.jsx)("div",{className:"text-num",children:Object(w.jsx)("span",{className:s,children:x[s.toLowerCase()]})})]}),V.a.isFuture&&Object(w.jsxs)(w.Fragment,{children:[(J.a.isOpen||J.a.isV1)&&Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("div",{className:"text",children:[Object(w.jsxs)("div",{className:"text-title",children:[" ",x["trade-price-estimated"]]}),Object(w.jsx)("div",{className:"text-num",children:Object(w.jsx)(Q.a,{value:b,decimalScale:2,displayType:"text"})})]})}),!J.a.isOpen&&!J.a.isV1&&Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("div",{className:"text",children:[Object(w.jsx)("div",{className:"text-title",children:x["confirm-trade-price"]}),Object(w.jsx)("div",{className:"text-num",children:Object(w.jsx)(Q.a,{value:g,decimalScale:2,displayType:"text"})})]})})]}),V.a.isOption&&Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("div",{className:"text",children:[Object(w.jsx)("div",{className:"text-title",children:x["confirm-trade-price"]}),Object(w.jsx)("div",{className:"text-num",children:Object(w.jsx)(Q.a,{value:g,decimalScale:2,displayType:"text"})})]})}),V.a.isFuture&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:"text",children:[Object(w.jsx)("div",{className:"text-title",children:x["cur-pos-leverage"]}),Object(w.jsxs)("div",{className:"text-num",children:[p,"X"]})]}),Object(w.jsxs)("div",{className:"text",children:[Object(w.jsx)("div",{className:"text-title",children:x["leverage-after-execution"]}),Object(w.jsxs)("div",{className:"text-num",children:[O,"X"]})]})]}),V.a.isFuture&&Object(w.jsxs)("div",{className:"text",children:[Object(w.jsx)("div",{className:"text-title",children:x["liquidation-price"]}),Object(w.jsx)("div",{className:"text-num",children:Object(w.jsx)(Q.a,{value:v,decimalScale:2,displayType:"text"})})]}),Object(w.jsxs)("div",{className:"text",children:[Object(w.jsx)("div",{className:"text-title",children:x["transaction-fee"]}),Object(w.jsx)("div",{className:"text-num",children:Object(w.jsx)(Q.a,{value:h,decimalScale:2,suffix:" ".concat(n.bTokenSymbol),displayType:"text"})})]})]}),Object(w.jsx)("div",{className:"modal-footer",children:Object(w.jsxs)("div",{className:"long-btn","v-if":"confirm",children:[Object(w.jsx)("button",{className:"cancel",onClick:I,children:x.cancel}),Object(w.jsx)(W.a,{className:"confirm",btnText:x.ok,click:S,lang:x})]})})]})})]})})}))),ie=Object(u.a)(b.a),ce=Object(u.a)(p.a),ae=Object(u.a)(f.a);function se(e){var t=e.hasConnectWallet,n=e.wallet,a=e.spec,s=e.volume,d=e.available,j=e.baseToken,u=e.leverage,b=e.indexPrice,p=e.position,m=e.transFee,O=e.afterTrade,h=e.direction,f=e.trading,x=e.version,g=e.lang,A=e.type,v=e.markPriceAfter,y=e.afterLeverage,N=e.liquidationPrice,C=Object(c.useState)(!0),k=Object(i.a)(C,2),S=k[0],I=k[1],D=Object(c.useState)(!0),B=Object(i.a)(D,2),M=B[0],Q=B[1],E=Object(c.useState)(!1),R=Object(i.a)(E,2),F=R[0],_=R[1],P=Object(c.useState)(!1),J=Object(i.a)(P,2),L=J[0],T=J[1],H=Object(c.useState)(""),Y=Object(i.a)(H,2),G=Y[0],z=Y[1],U=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.approve(a.pool,a.bTokenId);case 2:e.sent.success?(I(!0),Z()):(I(!1),alert(g["approve-failed"]));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.refresh(),T(!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){f.refresh(),T(!1)},Z=function(){var e=Object(o.a)(r.a.mark((function e(){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t()||!a){e.next=5;break}return e.next=3,n.isApproved(a.pool,a.bTokenId);case 3:i=e.sent,I(i);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isConnected()||!a){e.next=5;break}return e.next=3,Object(l.cb)(n.detail.chainId,a.pool,n.detail.account,a.bTokenId).catch((function(e){return console.error("getWalletBalance was error,maybe network is Wrong")}));case 3:(t=e.sent)&&z(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){return t()&&a&&K(),function(){}}),[n.detail.account,a,d]),Object(c.useEffect)((function(){return Q(!s),function(){}}),[s]),Object(c.useEffect)((function(){return a&&Z(),function(){}}),[n.detail.isApproved,a]);var X=Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(ne,{wallet:n,className:"trading-dialog",spec:a,modalIsOpen:F,onClose:function(){return _(!1)},leverage:u,baseToken:j,volume:s,position:p.volume,indexPrice:b,transFee:m,afterTrade:O,direction:h,lang:g,markPriceAfter:v,afterLeverage:y,liquidationPrice:N,trading:f}),Object(w.jsx)("button",{className:"short-submit",onClick:function(){return _(!0)},children:g.trade})]});return t()?S?!d||+d<=0?X=Object(w.jsxs)(w.Fragment,{children:[x.isV2&&!A.isOption?Object(w.jsx)(ae,{wallet:n,modalIsOpen:L,onClose:q,spec:a,afterDepositAndWithdraw:q,position:f.position,overlay:{background:"#1b1c22",top:80},className:"balance-list-dialog",lang:g}):Object(w.jsx)(ie,{wallet:n,modalIsOpen:L,onClose:function(){return T(!1)},spec:a,balance:G,afterDeposit:V,className:"trading-dialog",lang:g}),Object(w.jsx)("div",{className:"noMargin-text",children:0!==+f.position.margin&&f.position.margin?g["not-enough-margin-tip"]:g["no-margin-tip"]}),Object(w.jsx)("button",{className:"short-submit",onClick:function(){return T(!0)},children:g.deposit})]}):M&&(X=Object(w.jsx)("button",{className:"btn btn-danger short-submit",children:g["enter-volume"]})):X=Object(w.jsx)(W.a,{className:"approve",btnText:g.approve,click:U,lang:g}):X=Object(w.jsx)(W.a,{className:"btn btn-danger connect",btnText:g["connect-wallet"],click:function(){n.connect()},lang:g}),Object(w.jsx)("div",{className:"submit-btn",children:X})}var re=Object(h.b)("wallet","trading","version","type")(Object(h.c)((function(e){var t=e.wallet,n=void 0===t?{}:t,a=e.trading,s=e.version,d=e.lang,u=e.type,b=Object(c.useState)("long"),p=Object(i.a)(b,2),O=p[0],h=p[1],f=Object(c.useState)(),x=Object(i.a)(f,2),g=x[0],A=x[1],v=Object(c.useState)({}),y=Object(i.a)(v,2),C=(y[0],y[1]),k=Object(c.useState)(""),S=Object(i.a)(k,2),I=S[0],D=S[1],B=Object(c.useState)(""),M=Object(i.a)(B,2),Q=M[0],E=M[1],R=Object(c.useState)(""),F=Object(i.a)(R,2),_=F[0],P=F[1],J=Object(c.useState)(""),L=Object(i.a)(J,2),T=L[0],H=L[1],Y=Object(c.useState)({}),G=Object(i.a)(Y,2),z=G[0],W=G[1],V=Object(c.useState)("rise"),q=Object(i.a)(V,2),Z=q[0],K=q[1],X=Object(c.useState)("rise"),ne=Object(i.a)(X,2),re=ne[0],oe=ne[1],le=Object(c.useState)("0.000"),de=Object(i.a)(le,2),je=de[0],ue=de[1],be=Object(c.useState)(""),pe=Object(i.a)(be,2),me=pe[0],Oe=pe[1],he=Object(c.useState)(!0),fe=Object(i.a)(he,2),xe=fe[0],ge=fe[1],Ae=Object(c.useState)(!1),ve=Object(i.a)(Ae,2),ye=ve[0],Ne=ve[1],we=Object(c.useState)(""),Ce=Object(i.a)(we,2),ke=Ce[0],Se=Ce[1],Ie=Object(c.useState)(!1),De=Object(i.a)(Ie,2),Be=De[0],Me=De[1],Qe=Object(c.useState)(!1),Ee=Object(i.a)(Qe,2),Re=Ee[0],Fe=Ee[1],_e=Object(c.useState)(!1),Pe=Object(i.a)(_e,2),Je=Pe[0],Le=Pe[1],Te=Object(c.useState)(!1),He=Object(i.a)(Te,2),Ye=He[0],Ge=He[1],ze=Object(c.useState)(!1),Ue=Object(i.a)(ze,2),We=Ue[0],Ve=Ue[1],qe=Object(c.useState)(""),Ze=Object(i.a)(qe,2),Ke=Ze[0],Xe=Ze[1],$e=Object(c.useRef)(),et=Object(c.useRef)(),tt=j()("checked-long","check-long-short"," long-short",{"checked-short":"short"===O}),nt=j()("contrant-input",{inputFamliy:""!==a.volume}),it=function(){ct()},ct=function(){at(),a.refresh()},at=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isConnected()||!a.config){e.next=5;break}return e.next=3,Object(l.cb)(n.detail.chainId,a.config.pool,n.detail.account,a.config.bTokenId).catch((function(e){return console.log(e)}));case 3:(t=e.sent)&&Oe(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),st=it,rt=function(){return n&&n.detail&&n.detail.account},ot=function(e){a.setVolume(""),h(e)},lt=function(){var e=Object(o.a)(r.a.mark((function e(){var t,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(rt()&&a.config&&a.volumeDisplay)){e.next=6;break}return t=dt(a.volumeDisplay),e.next=4,Object(l.s)(n.detail.chainId,a.config.pool,Math.abs(t),a.config.symbolId);case 4:i=e.sent,isNaN(i)||H((+i).toFixed(2));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),dt=function(e){return Object(l.g)(e).div(Object(l.g)(a.contract.multiplier)).toString()},jt=function(){var e=Object(o.a)(r.a.mark((function e(){var t,i,c,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(rt()&&a.config&&a.volumeDisplay&&u.isFuture)){e.next=10;break}return t=n.detail,i="long"===O?a.volumeDisplay:-a.volumeDisplay,e.next=5,Object(l.z)(t.chainId,a.config.pool,a.config.symbolId);case 5:return c=e.sent,e.next=8,Object(l.v)(t.chainId,a.config.pool,i,a.config.symbolId);case 8:s=e.sent,c&&s&&W({curLiqUsed:c.liquidityUsed0,afterLiqUsed:s.liquidityUsed1});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ut=function(){var e=Object(o.a)(r.a.mark((function e(){var t,i,c,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(rt()&&a.config&&a.volumeDisplay)){e.next=7;break}return t=dt(a.volumeDisplay),i="long"===O?t:-t,e.next=5,Object(l.t)(n.detail.chainId,a.config.pool,i,a.config.symbolId);case 5:(c=e.sent)&&(s=u.isOption?c.deltaFunding1:c.fundingRate1,D(s));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),bt=function(){var e=Object(o.a)(r.a.mark((function e(){var t,i,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(rt()&&a.config&&a.volumeDisplay)){e.next=7;break}return t=dt(a.volumeDisplay),i="long"===O?t:-t,e.next=5,Object(l.w)(n.detail.chainId,a.config.pool,i,a.config.symbolId);case 5:(c=e.sent)&&E(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pt=function(){var e=Object(o.a)(r.a.mark((function e(){var t,i,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(rt()&&a.config&&a.volumeDisplay)){e.next=7;break}return t=dt(a.volumeDisplay),i="long"===O?t:-t,e.next=5,Object(l.u)(n.detail.chainId,a.config.pool,n.detail.account,i,a.config.symbolId);case 5:(c=e.sent)&&P(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){var e;return a.position&&a.position.volume&&(e=+a.position.volume,h(e>=0?"long":"short")),function(){}}),[a.position.volume]),Object(c.useEffect)((function(){return Re||""===a.volumeDisplay?n.detail.account&&a.resume():(a.pause(),ut(),bt(),jt(),lt(),pt()),function(){}}),[a.volumeDisplay,Re]),Object(c.useEffect)((function(){return at(),function(){}}),[n.detail.account,a.config,a.amount.dynBalance]),Object(c.useEffect)((function(){$e.current>a.index?K("fall"):K("rise"),$e.current=a.index}),[a.index,a.config]),Object(c.useEffect)((function(){if(a.position){var e=a.position;Xe(Object(l.g)(e.margin).plus(e.unrealizedPnl).minus(e.marginHeld).toString())}return function(){}}),[a.position.volume,a.position.margin,a.position.unrealizedPnl]),Object(c.useEffect)((function(){var e=a.markPrice||(a.position?a.position.markPrice:"");if(et.current>e?oe("fall"):oe("rise"),et.current=e,A(e),e){var t=(+e).toFixed(a.priceDecimals),n=a.config&&a.config.symbol.split("-")[0];document.querySelector("head title").innerText="$".concat(t," ").concat(n,"-MARK.deri")}return function(){document.querySelector("head title").innerText="deri"}}),[a.index,a.position,a.markPrice,a.config,a.priceDecimals]),Object(c.useEffect)((function(){return a.config&&C(a.config),function(){}}),[a.config]),Object(c.useEffect)((function(){return a.margin&&a.direction&&h(a.direction),function(){}}),[a.margin]),Object(c.useEffect)((function(){var e="0.000";a.contract.multiplier<=1?e=a.contract.multiplier.replace(/1/gi,"0"):e=a.contract.multiplier;ue(e)}),[a.contract]),Object(c.useEffect)((function(){return a.index&&n.isConnected()&&n.supportChain&&ge(!1),function(){}}),[n.detail.account,a.index]),Object(c.useEffect)((function(){return ye||(a.position.volume>0?a.volume<0?h("short"):h("long"):a.position.volume<0&&(a.volume>0?h("short"):h("long"))),function(){}}),[a.volume,ye]),Object(c.useEffect)((function(){if(a.fundingRate.funding0&&g){var e=Object(l.g)(a.fundingRate.funding0).div(Object(l.g)(g)).times(Object(l.g)(100)).toString();Se(e)}}),[a.fundingRate,g]),Object(c.useEffect)((function(){return a.setUserSelectedDirection(O),function(){}}),[O]),Object(w.jsx)("div",{className:"trade-info",children:Object(w.jsxs)("div",{className:"trade-peration",children:[Object(w.jsxs)("div",{className:"check-baseToken",children:[Object(w.jsx)($,{setSpec:C,spec:a.config,isOption:u.isOption}),Object(w.jsxs)("div",{className:u.isOption?"price-fundingRate pc options":"price-fundingRate pc",children:[u.isFuture&&!s.isOpen&&!s.isV1&&Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("div",{className:"mark-price",children:[d["mark-price"]," : ",Object(w.jsxs)("span",{className:re,children:["\xa0 ",Object(w.jsx)(m.a,{value:g,decimalScale:a.priceDecimals})]})]})}),u.isFuture&&Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("div",{className:"index-prcie",children:[d["index-price"],": ",Object(w.jsxs)("span",{className:Z,children:["\xa0 ",Object(w.jsx)(m.a,{value:a.index,decimalScale:a.priceDecimals})]})]})}),u.isOption&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:"mark-price",children:[d["eo-mark-price"]," : ",Object(w.jsxs)("span",{className:re,children:["\xa0 ",Object(w.jsx)(m.a,{value:g,decimalScale:4})]})]}),Object(w.jsxs)("div",{className:"index-prcie",children:[a.config&&u.isOption?a.config.symbol.split("-")[0]:""," : ",Object(w.jsxs)("span",{className:"option-vol",children:["\xa0 ",Object(w.jsxs)("span",{children:[" ",Object(w.jsx)(m.a,{value:a.index,decimalScale:2})]}),Object(w.jsx)("span",{className:"vol",children:" | "}),d.vol," : ",Object(w.jsx)(m.a,{value:a.volatility,decimalScale:2,suffix:"%"})]})]})]}),Object(w.jsxs)("div",{className:"funding-rate",children:[u.isOption&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("span",{children:[d["funding-rate"]," : \xa0"]}),Object(w.jsx)(N.a,{block:!1,tip:a.optionFundingRateTip,children:Object(w.jsx)("span",{className:"funding-per",tip:a.optionFundingRateTip||"",children:Object(w.jsx)(m.a,{value:a.fundingRate.premiumFunding0,decimalScale:4})})})]}),u.isFuture&&(s.isOpen||s.isV1)&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("span",{children:[d["funding-rate-annual"]," : \xa0"]}),Object(w.jsx)(N.a,{block:!1,tip:a.fundingRateTip,children:Object(w.jsx)("span",{className:"funding-per",tip:a.fundingRateTip||"",children:Object(w.jsx)(m.a,{value:a.fundingRate.fundingRate0,decimalScale:4,suffix:"%"})})})]}),u.isFuture&&!s.isOpen&&!s.isV1&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("span",{children:[d["funding-rate"]," : \xa0"]}),Object(w.jsx)(N.a,{block:!1,tip:a.dpmmFundingRateTip,children:Object(w.jsx)("span",{className:"funding-per",tip:a.dpmmFundingRateTip||"",children:Object(w.jsx)(m.a,{value:a.fundingRate.funding0,decimalScale:4})})}),Object(w.jsxs)(N.a,{block:!1,tip:a.rateTip,children:["\xa0  ",Object(w.jsxs)("span",{className:"funding-per",tip:a.rateTip||"",children:["(",Object(w.jsx)(m.a,{value:ke,decimalScale:4,suffix:"%"}),")"]})]})]})]})]}),Object(w.jsxs)("div",{className:u.isOption?"price-fundingRate mobile options":"price-fundingRate mobile",children:[u.isFuture&&!s.isOpen&&!s.isV1&&Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("div",{className:"index-prcie",children:[d["mark-price"],": ",Object(w.jsxs)("span",{className:re,children:["\xa0 ",Object(w.jsx)(m.a,{value:g,decimalScale:a.priceDecimals})]})]})}),u.isFuture&&Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("div",{className:"index-prcie",children:[d.index,": ",Object(w.jsxs)("span",{className:Z,children:["\xa0 ",Object(w.jsx)(m.a,{value:a.index,decimalScale:a.priceDecimals})]})]})}),u.isOption&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:"mark-price",children:[d["eo-mark-price"]," : ",Object(w.jsxs)("span",{className:re,children:["\xa0 ",Object(w.jsx)(m.a,{value:g,decimalScale:2})]})]}),Object(w.jsxs)("div",{className:"index-prcie",children:[a.config&&u.isOption?a.config.symbol.split("-")[0]:"",": ",Object(w.jsxs)("span",{className:Z,children:["\xa0 ",Object(w.jsx)(m.a,{value:a.index,decimalScale:2})]})]}),Object(w.jsxs)("div",{className:"index-prcie",children:[d.vol,": ",Object(w.jsx)(m.a,{value:a.volatility,decimalScale:2})]})]}),Object(w.jsxs)("div",{className:"funding-rate",children:[u.isOption&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("span",{children:[d["funding-rate"]," : \xa0"]}),Object(w.jsx)(N.a,{block:!1,children:Object(w.jsx)("span",{className:"funding-per",tip:a.optionFundingRateTip||"",children:Object(w.jsx)(m.a,{value:a.fundingRate.premiumFunding0,decimalScale:4})})})]}),u.isFuture&&(s.isOpen||s.isV1)&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("span",{children:[d["funding-rate-annual"]," : \xa0"]}),Object(w.jsx)(N.a,{block:!1,tip:a.fundingRateTip,children:Object(w.jsx)("span",{className:"funding-per",tip:a.fundingRateTip||"",children:Object(w.jsx)(m.a,{value:a.fundingRate.fundingRate0,decimalScale:4,suffix:"%"})})})]}),u.isFuture&&!s.isOpen&&!s.isV1&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("span",{children:[d["funding-rate"]," : \xa0"]}),Object(w.jsx)(N.a,{block:!1,tip:a.dpmmFundingRateTip,children:Object(w.jsx)("span",{className:"funding-per",tip:a.dpmmFundingRateTip||"",children:Object(w.jsx)(m.a,{value:a.fundingRate.funding0,decimalScale:4})})})]})]}),u.isFuture&&!s.isOpen&&!s.isV1&&Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("div",{className:"rate",children:Object(w.jsx)(N.a,{block:!1,tip:a.rateTip,children:Object(w.jsxs)("span",{className:"funding-per",tip:a.rateTip||"",children:["(",Object(w.jsx)(m.a,{value:ke,decimalScale:4,suffix:"%"}),")"]})})})})]})]}),Object(w.jsxs)("div",{className:tt,children:[Object(w.jsx)("div",{className:"check-long",onClick:function(){return ot("long")},children:d["long-buy"]}),Object(w.jsx)("div",{className:"check-short",onClick:function(){return ot("short")},children:d["short-sell"]})]}),Object(w.jsxs)("div",{className:"the-input",children:[Object(w.jsxs)("div",{className:"left",children:[Object(w.jsxs)("div",{className:"current-position",children:[Object(w.jsx)("span",{children:d["current-position"]}),Object(w.jsx)("span",{className:"position-text",children:Object(w.jsx)(m.a,{value:a.position.volume,allowZero:!0,thousandSeparator:!0})})]}),Object(w.jsx)("div",{className:"contrant option-input",children:Object(w.jsxs)("div",{className:"bg-input",children:[Object(w.jsx)("div",{children:Object(w.jsx)("input",{type:"number",step:a.contract.multiplier,onFocus:function(e){e.target.setAttribute("class","contrant-input inputFamliy")},onBlur:function(e){var t=e.target,n=t.value,i=a.contract.multiplier;if(i<=1){var c=i.indexOf("."),s=i.slice(c).length;-1!==t.value.indexOf(".")&&(n="0"===(n=t.value.substring(0,t.value.indexOf(".")+s))?"":n,a.setVolume(n))}else{var r=i.length-1,o=n.slice(-r);n=n.slice(0,-r),n+=o=o.replace(/\d/gi,"0"),a.setVolume(n)}""!==n&&Me(n<i),""===t.value&&t.setAttribute("class","contrant-input")},onKeyPress:function(e){46!==e.which&&(e.which<48||e.which>57)&&e.preventDefault()},disabled:!a.index||0===Math.abs(a.position.margin),onChange:function(e){return function(e){var t=e.target.value;a.setVolume(t),Ne(!0)}(e)},value:a.volumeDisplay,className:nt,placeholder:je})}),Object(w.jsx)("div",{className:"option-unit",children:a.config&&a.config.unit})]})}),Be&&Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("div",{className:"min-quantity",children:[d["option-input-min-quantity"],"\xa0 ",a.contract.multiplier," \xa0",a.config&&a.config.unit]})})]}),Object(w.jsx)("div",{className:"right-info",children:Object(w.jsxs)("div",{className:"contrant-info ".concat(s.current),children:[Object(w.jsxs)("div",{className:"balance-contract",children:[s.isV1&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("span",{className:"balance-contract-text pc v1",children:[d["balance-in-contract"],Object(w.jsx)("br",{}),"(",d["dynamic-balance"],")"]}),Object(w.jsxs)("span",{className:"balance-contract-text mobile v1",children:[d["balance-in-contract"],Object(w.jsx)("br",{}),"(",d["dynamic-balance"],")"]})]}),(s.isV2||s.isV2Lite||u.isOption||s.isOpen)&&Object(w.jsxs)(N.a,{block:!1,children:[Object(w.jsx)("span",{className:"balance-contract-text pc",tip:d["dynamic-effective-balance-title"],children:d["dynamic-effective-balance"]}),Object(w.jsx)("span",{className:"balance-contract-text mobile",tip:d["dynamic-effective-balance-title"],children:d["dynamic-effective-balance"]})]}),Object(w.jsxs)("span",{className:"balance-contract-num ".concat(s.current),children:[s.isV1||s.isV2Lite||u.isOption||s.isOpen?Object(w.jsx)(N.a,{block:!1,children:Object(w.jsx)("span",{className:"open-add",id:"openAddMargin",onClick:function(){return Ge(!0)},tip:d["remove-margin"],children:Object(w.jsx)("img",{src:ee.a,alt:"add margin"})})}):Object(w.jsx)(N.a,{block:!1,children:Object(w.jsx)("span",{className:"open-add",id:"openAddMargin",tip:d["remove-margin"],onClick:function(){return Ve(!0)},children:Object(w.jsx)("img",{src:ee.a,alt:"add margin"})})}),Object(w.jsx)(m.a,{value:a.amount.dynBalance,allowZero:!0,decimalScale:2}),s.isV1||s.isV2Lite||u.isOption||s.isOpen?Object(w.jsx)(N.a,{block:!1,children:Object(w.jsx)("span",{className:"open-remove",onClick:function(){return Le(!0)},tip:d["add-margin"],children:Object(w.jsx)("img",{src:te.a,alt:"add margin"})})}):Object(w.jsx)(N.a,{block:!1,children:Object(w.jsx)("span",{className:"open-remove",onClick:function(){return Ve(!0)},tip:d["add-margin"],children:Object(w.jsx)("img",{src:te.a,alt:"add margin"})})})]})]}),s.isV1&&Object(w.jsxs)("div",{className:"box-margin",children:[Object(w.jsx)("span",{children:d.margin}),Object(w.jsx)("span",{className:"margin",children:Object(w.jsx)(m.a,{value:a.amount.margin,allowZero:!0,decimalScale:2})})]}),(s.isV2||s.isV2Lite||u.isOption||s.isOpen)&&Object(w.jsxs)(N.a,{block:!1,children:[Object(w.jsx)("div",{className:"box-margin",children:d.margin}),Object(w.jsxs)("div",{className:"box-margin",children:[Object(w.jsxs)("span",{className:"total-held",tip:d["total-held-title"],children:["\xa0- ",d["total-held"]]}),Object(w.jsx)("span",{className:"margin",children:Object(w.jsx)(m.a,{value:a.amount.margin,allowZero:!0,decimalScale:2})})]}),Object(w.jsxs)("div",{className:"margin-held-pos",children:[Object(w.jsxs)("span",{className:"pos-held",tip:d["for-this-pos-title"],children:["\xa0- ",d["for-this-pos"]," "]}),Object(w.jsx)("span",{className:"margin",children:Object(w.jsx)(m.a,{value:a.amount.currentSymbolMarginHeld,allowZero:!0,decimalScale:2})})]})]}),Object(w.jsx)(N.a,{block:!0,children:Object(w.jsxs)("div",{className:"available-balance",children:[Object(w.jsxs)("span",{className:"pc",tip:d["available-balance-title"],children:[" ",d["available-balance"]," "]}),Object(w.jsx)("span",{className:"mobile",tip:d["available-balance-title"],children:d["available-balance"]}),Object(w.jsx)("span",{className:"available-balance-num",children:Object(w.jsx)(m.a,{value:a.amount.available,allowZero:!0,decimalScale:2})})]})})]})})]}),Object(w.jsx)("div",{className:"slider mt-13",children:Object(w.jsx)(U,{max:a.amount.dynBalance,onValueChange:function(e,t){a.setSlideMargin(e),Ne(!1),t&&h("long"===O?"short":"long")},start:a.amount.margin,freeze:xe,currentSymbolMarginHeld:a.position.marginHeldBySymbol,originMarginHeld:a.position.marginHeld,setStopCalculate:function(e){return Fe(e)}})}),Object(w.jsx)("div",{className:"title-margin",children:d.margin}),Object(w.jsx)("div",{className:"enterInfo",children:!!a.volumeDisplay&&Object(w.jsxs)(w.Fragment,{children:[u.isFuture&&Object(w.jsxs)(w.Fragment,{children:[!s.isOpen&&!s.isV1&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:"text-info",children:[Object(w.jsx)("div",{className:"title-enter pool",children:d["mark-price"]}),Object(w.jsx)("div",{className:"text-enter poolL",children:Object(w.jsx)(m.a,{value:g,decimalScale:a.priceDecimals})})]}),Object(w.jsxs)("div",{className:"text-info",children:[Object(w.jsx)("div",{className:"title-enter pool",children:d["trade-price"]}),Object(w.jsx)("div",{className:"text-enter poolL",children:Object(w.jsx)(m.a,{value:Q,decimalScale:a.priceDecimals})})]})]}),(s.isOpen||s.isV1)&&Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("div",{className:"text-info",children:[Object(w.jsx)("div",{className:"title-enter pool",children:d["trade-price"]}),Object(w.jsx)("div",{className:"text-enter poolL",children:Object(w.jsx)(m.a,{value:a.index,decimalScale:a.priceDecimals})})]})}),Object(w.jsxs)("div",{className:"text-info",children:[Object(w.jsx)("div",{className:"title-enter pool",children:d["pool-liquidity"]}),Object(w.jsx)("div",{className:"text-enter poolL",children:Object(w.jsx)(m.a,{value:a.fundingRate.liquidity,decimalScale:2,suffix:" ".concat(a.config.bTokenSymbol)})})]}),(s.isOpen||s.isV1)&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:"text-info",children:[Object(w.jsx)("div",{className:"title-enter",children:d["liquidity-used"]}),Object(w.jsxs)("div",{className:"text-enter",children:[Object(w.jsx)(m.a,{value:z.curLiqUsed,suffix:"%",decimalScale:2})," -> ",Object(w.jsx)(m.a,{value:z.afterLiqUsed,decimalScale:2,suffix:"%"})]})]}),Object(w.jsxs)("div",{className:"text-info",children:[Object(w.jsx)("div",{className:"title-enter",children:d["funding-rate-impact"]}),Object(w.jsxs)("div",{className:"text-enter",children:[Object(w.jsx)(m.a,{value:a.fundingRate.fundingRate0,suffix:"%",decimalScale:4})," -> ",Object(w.jsx)(m.a,{value:I,decimalScale:4,suffix:"%"})]})]})]})]}),u.isOption&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:"text-info",children:[Object(w.jsx)("div",{className:"title-enter pool",children:d["mark-price"]}),Object(w.jsx)("div",{className:"text-enter poolL",children:Object(w.jsx)(m.a,{value:g,decimalScale:4})})]}),Object(w.jsxs)("div",{className:"text-info",children:[Object(w.jsx)("div",{className:"title-enter pool",children:d["trade-price"]}),Object(w.jsx)("div",{className:"text-enter poolL",children:Object(w.jsx)(m.a,{value:Q,decimalScale:4})})]}),Object(w.jsxs)("div",{className:"text-info",children:[Object(w.jsx)("div",{className:"title-enter pool",children:d["pool-liquidity"]}),Object(w.jsx)("div",{className:"text-enter poolL",children:Object(w.jsx)(m.a,{value:a.fundingRate.liquidity,thousandSeparator:!0,decimalScale:2,suffix:" ".concat(a.config.bTokenSymbol)})})]})]}),Object(w.jsxs)("div",{className:"text-info",children:[Object(w.jsx)("div",{className:"title-enter",children:d["transaction-fee"]}),Object(w.jsx)("div",{className:"text-enter",children:Object(w.jsx)(m.a,{value:T,allowZero:!0,decimalScale:2,suffix:" ".concat(a.config.bTokenSymbol)})})]}),u.isFuture&&Object(w.jsxs)("div",{className:"text-info",children:[Object(w.jsx)("div",{className:"title-enter",children:d["liquidation-price"]}),Object(w.jsx)("div",{className:"text-enter",children:_>0?Object(w.jsx)(m.a,{value:_,decimalScale:2}):"--"})]})]})}),Object(w.jsx)(se,{hasConnectWallet:rt,transFee:T,wallet:n,spec:a.config,indexPrice:a.index,available:a.amount.available,volume:a.volumeDisplay,direction:O,leverage:a.amount.leverage,afterLeverage:a.amount.afterLeverage,afterTrade:function(){a.setVolume(""),a.refresh(),n.refresh()},position:a.position,trading:a,version:s,lang:d,type:u,markPriceAfter:Q,liquidationPrice:_}),Object(w.jsx)(ie,{wallet:n,modalIsOpen:Je,onClose:function(){return Le(!1)},spec:a.config,afterDeposit:st,balance:me,className:"trading-dialog",lang:d}),Object(w.jsx)(ce,{wallet:n,modalIsOpen:Ye,onClose:function(){return Ge(!1)},spec:a.config,afterWithdraw:it,availableBalance:Ke,position:a.position,className:"trading-dialog",lang:d}),Object(w.jsx)(ae,{wallet:n,modalIsOpen:We,onClose:function(){return Ve(!1)},spec:a.config,afterDepositAndWithdraw:function(){ct()},position:a.position,overlay:{background:"#1b1c22",top:80},className:"balance-list-dialog",lang:d})]})})})));t.a=Object(h.b)("wallet","trading","loading","version","type")(Object(h.c)((function(e){var t=e.wallet,n=e.trading,a=e.isPro,s=e.lang,r=e.loading,o=e.version,l=(e.type,Object(c.useState)("trade")),d=Object(i.a)(l,2),u=d[0],b=d[1],p=function(e){return b(e)},m=j()("trade-position",u);return Object(c.useEffect)((function(){return r.loading(),n.init(t,(function(){r.loaded()})),function(){n.clean()}}),[t.detail.account,o.current]),Object(w.jsxs)("div",{className:m,children:[Object(w.jsx)("div",{className:"header-top",children:Object(w.jsxs)("div",{className:"header",children:[Object(w.jsx)("span",{className:"trade",onClick:function(){return p("trade")},children:s.trade}),!a&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("span",{className:"pc position",onClick:function(){return p("position")},children:s["my-position"]}),Object(w.jsx)("span",{className:"mobile position",onClick:function(){return p("position")},children:s["my-position"]}),Object(w.jsx)("span",{className:"history",onClick:function(){return p("history")},children:s.history})]})]})}),Object(w.jsx)(re,{lang:s}),Object(w.jsx)(D,{lang:s}),Object(w.jsx)(P,{wallet:t,spec:n.config,specs:n.configs,lang:s}),Object(w.jsx)(L,{lang:s})]})})))},873:function(e,t,n){},874:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=874},875:function(e,t){},876:function(e,t,n){},877:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n(11);var i=n(43),c=n(695),a=n.n(c),s=n(37),r=n(748),o=n(32);function l(e){var t=e.lite,n=void 0!==t&&t,c=e.lang,l=Object(r.useLocation)().pathname.split("/")[3],d=Object(i.useHistory)(),j=a()("check-lite-pro",{lite:n,pro:!n}),u=function(e){d.push(e)};return Object(o.jsxs)("div",{className:j,children:[s.a.isFuture&&!l&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"lite",onClick:function(){return u("/futures/lite")},children:c.lite}),Object(o.jsxs)("div",{className:"pro",onClick:function(){return u("/futures/pro")},children:[" ",c.pro]})]}),s.a.isFuture&&l&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"lite",onClick:function(){return u("/futures/lite/v1")},children:c.lite}),Object(o.jsxs)("div",{className:"pro",onClick:function(){return u("/futures/pro/v1")},children:[" ",c.pro]})]}),s.a.isOption&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"lite",onClick:function(){return u("/options/lite")},children:c.lite}),Object(o.jsxs)("div",{className:"pro",onClick:function(){return u("/options/pro")},children:[" ",c.pro]})]})]})}},878:function(e,t,n){},879:function(e,t,n){},880:function(e,t,n){}}]);
//# sourceMappingURL=20.91002c44.chunk.js.map