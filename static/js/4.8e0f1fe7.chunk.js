(this["webpackJsonpapp.deri.finance"]=this["webpackJsonpapp.deri.finance"]||[]).push([[4],{623:function(e,t,c){"use strict";c.d(t,"a",(function(){return o}));var n=c(0),i=c.n(n),a=c(1),s=c(9),l=c(6),r=c(18);function o(e){var t=e.btnText,c=e.className,n=e.disabled,o=e.click,j=e.afterClick,d=e.checkApprove,b=e.wallet,u=e.spec,m=e.lang,O=Object(l.useState)(n?"disabled":"enabled"),A=Object(s.a)(O,2),p=A[0],x=A[1],f=Object(l.useState)(!0),g=Object(s.a)(f,2),h=g[0],v=g[1],N=Object(l.useState)(!1),w=Object(s.a)(N,2),y=w[0],k=w[1],S=Object(l.useState)(t),C=Object(s.a)(S,2),D=C[0],I=C[1],B=Object(l.useRef)(null),M=function(){var e=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("enabled"===p){e.next=2;break}return e.abrupt("return");case 2:return Q(),e.next=5,o();case 5:e.sent&&j&&j(),E();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){x("disabled"),k(!0),B.current&&(B.current.style.display="inline-block")},E=function(){B.current&&(B.current.style.display="none"),x("enabled"),k(!1)},T=function(){var e=Object(a.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(d&&b&&b.detail.account)){e.next=5;break}return e.next=3,b.isApproved(u.pool,u.bTokenId);case 3:t=e.sent,v(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(),e.next=3,b.approve(u.pool,u.bTokenId);case 3:e.sent.success?v(!0):(v(!1),alert(m["approve-failed"])),E();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){return T(),function(){}}),[b,u,d]),Object(l.useEffect)((function(){return t&&I(t),function(){}}),[t]),Object(r.jsxs)("button",{className:c,onClick:function(){h?M():F()},children:[Object(r.jsx)("span",{className:"btn-loading-wrap",children:Object(r.jsx)("span",{ref:B,className:"spinner spinner-border spinner-border-sm",style:{display:"none",marginRight:"2"}})}),y?m.pending:h?D:m.approve]})}},625:function(e,t,c){"use strict";c.d(t,"a",(function(){return j}));var n=c(55),i=c(35),a=c(629),s=c(9),l=c(6),r=c(626),o=c(18);function j(e){var t=Object(l.useState)(Object(o.jsx)("span",{className:"loading-line"})),c=Object(s.a)(t,2),j=c[0],d=c[1];return Object(l.useEffect)((function(){var t=e.allowZero,c=Object(a.a)(e,["allowZero"]);return("object"!==Object(i.a)(e.value)&&void 0!==e.value&&""!==e.value&&"NaN"!==e.value||0===(isNaN(e.value)&&Math.abs(e.value))&&!0===t)&&d(Object(o.jsx)(r.a,Object(n.a)(Object(n.a)({},c),{},{displayType:"text"}))),function(){}}),[e.value]),j}},628:function(e,t,c){"use strict";var n=c(6),i=c(18);t.a=function(e){var t=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e=t.current;e&&e.querySelectorAll("[tip]").forEach((function(t){var c=null;t.addEventListener("mouseover",(function(e){var t=e.currentTarget.getAttribute("tip");if(t){var n="hover-box-".concat((new Date).getTime());c=document.body.querySelector("#".concat(n)),(c=document.createElement("div")).style.cssText="z-index : 9;min-width : 100px;max-width : ".concat(window.screen.width,"px ;font-size : 12px ;position : absolute;background-color: #2c2d31;border: 1px solid #AAAAAA;color: #AAAAAA;border-radius: 10px;padding: 4px;"),document.body.appendChild(c),c.innerText=t,c.id=n,c.style.display="block";var i=e.currentTarget.getBoundingClientRect();if(c.style.top="".concat(i.y+i.height+window.document.documentElement.scrollTop,"px"),c.offsetWidth+e.pageX>window.screen.width)if(e.pageX-c.offsetWidth>=0)c.style.left="".concat(e.pageX-c.offsetWidth,"px");else{var a=e.pageX-c.offsetWidth/2>0?e.pageX-c.offsetWidth/2:0;c.style.left="".concat(a,"px")}else c.style.left="".concat(e.pageX,"px")}})),e.addEventListener("mouseout",(function(e){c&&c.remove()}))}));return function(){t.current=null}}),[e.title]),e.block?Object(i.jsx)("div",{ref:t,children:e.children}):Object(i.jsx)("span",{ref:t,children:e.children})}},651:function(e,t,c){"use strict";c.d(t,"a",(function(){return i}));var n=c(6);function i(e){return Object(n.useEffect)((function(){return document.querySelector("body").style.overflow="hidden",function(){e||(document.querySelector("body").style.overflow="auto")}}),[]),null}},655:function(e,t,c){"use strict";c.d(t,"a",(function(){return o}));var n=c(6),i=c(13),a=c(626),s=c(623),l=c(651),r=c(18);function o({wallet:e,spec:t={},onClose:c,balance:o,afterDeposit:j,nested:d,lang:b}){const[u,m]=Object(n.useState)(""),[O,A]=Object(n.useState)(""),[p,x]=Object(n.useState)(""),[f,g]=Object(n.useState)(!1);Object(l.a)(d);return Object(n.useEffect)((()=>((()=>{if(o){const e=(+o).toFixed(2),t=e.indexOf(".")>0?e.substring(e.indexOf(".")+1,e.length):"0";m(o),A(t)}})(),()=>{})),[o]),Object(r.jsx)("div",{className:"modal fade",children:Object(r.jsx)("div",{className:"modal-dialog",children:Object(r.jsxs)("div",{className:"modal-content",children:[Object(r.jsxs)("div",{className:"modal-header",children:[Object(r.jsx)("div",{className:"title",children:b["deposit-margin"]}),Object(r.jsx)("div",{className:"close","data-dismiss":"modal",onClick:()=>{f||c()},children:Object(r.jsx)("span",{children:"\xd7"})})]}),Object(r.jsx)("div",{className:"modal-body",children:Object(r.jsxs)("div",{className:"margin-box-info",children:[Object(r.jsx)("div",{children:b["wallet-balance"]}),Object(r.jsxs)("div",{className:"money",children:[Object(r.jsxs)("span",{children:[Object(r.jsxs)("span",{className:"bt-balance",children:[Object(r.jsx)(a.a,{value:u,displayType:"text",decimalScale:0}),".",Object(r.jsx)("span",{style:{fontSize:"12px"},children:O})]}),Object(r.jsx)("br",{}),Object(r.jsx)("span",{style:{fontSize:"14px",marginLeft:"10px",marginTop:"10px"},children:t.bTokenSymbol})]}),Object(r.jsx)("span",{className:"add"})]}),Object(r.jsxs)("div",{className:"enter-margin",children:[Object(r.jsx)("div",{className:"input-margin",children:Object(r.jsxs)("div",{className:"box",children:[Object(r.jsx)("div",{className:"amount",style:{display:""!==p?"block":"none"},children:b.amount}),Object(r.jsx)("input",{type:"number",className:"margin-value",placeholder:b.amount,value:p,onChange:e=>{const{value:t}=e.target;x(t)}})]})}),Object(r.jsx)("div",{children:t.bTokenSymbol})]}),Object(r.jsxs)("div",{className:"max",children:[b["max-add"],": ",Object(r.jsx)("span",{className:"max-num",children:o}),Object(r.jsx)("span",{className:"max-btn-left",onClick:()=>{x(o)},children:b["add-all"]})]}),Object(r.jsx)("div",{className:"add-margin-btn",children:Object(r.jsx)(s.a,{className:"margin-btn",btnText:b.deposit,checkApprove:!0,wallet:e,spec:t,lang:b,click:()=>(async n=>{const a=Object(i.g)(o);if(Object(i.g)(n).gt(a))return void alert(b["insufficient-balance-in-wallet"]);if(+n<=0||isNaN(n))return void alert(b["it-has-to-be-greater-than-zero-tip"]);g(!0),(await Object(i.l)(e.detail.chainId,t.pool,e.detail.account,n,t.bTokenId)).success?(j(),c()):alert(b["deposit-failed"]),g(!1)})(p)})})]})})]})})})}},669:function(e,t,c){"use strict";c.d(t,"a",(function(){return m}));var n=c(0),i=c.n(n),a=c(1),s=c(9),l=c(6),r=c(13),o=c(623),j=c(625),d=c(28),b=c(651),u=c(18);function m(e){var t=e.wallet,c=e.spec,n=void 0===c?{}:c,m=e.position,O=e.onClose,A=e.afterWithdraw,p=e.availableBalance,x=e.nested,f=e.lang,g=Object(l.useState)(""),h=Object(s.a)(g,2),v=h[0],N=h[1],w=Object(l.useState)(""),y=Object(s.a)(w,2),k=y[0],S=y[1],C=Object(l.useState)(""),D=Object(s.a)(C,2),I=D[0],B=D[1],M=Object(l.useState)(!1),Q=Object(s.a)(M,2),E=Q[0],T=Q[1];Object(b.a)(x);var F=function(){var e=Object(a.a)(i.a.mark((function e(){var c,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isConnected()&&p&&(N(c=p),n=c.indexOf("."),S(n>0?c.substring(n+1,n+3):"00"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(a.a)(i.a.mark((function e(){var c,a,s,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=Object(d.a)(v),!Object(d.a)(I).gt(c)){e.next=5;break}return alert(f["under-margin"]),e.abrupt("return");case 5:if(!(+I<=0||isNaN(I))){e.next=8;break}return alert(f["it-has-to-be-greater-than-zero-tip"]),e.abrupt("return");case 8:return T(!0),a=c.eq(I),e.next=12,Object(r.vb)(t.detail.chainId,n.pool,t.detail.account,I,n.bTokenId,a);case 12:(s=e.sent).success?(A(),O()):(l="string"===typeof s.error?s.error:s.error.errorMessage||s.error.message,alert(l)),T(!1);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){return F(),function(){}}),[t.detail.account,m.margin,m.unrealizedPnl]),Object(u.jsx)("div",{className:"modal fade",id:"removeMargin",children:Object(u.jsx)("div",{className:"modal-dialog",children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsxs)("div",{className:"modal-header",children:[Object(u.jsx)("div",{className:"title",children:f["withdraw-margin"]}),Object(u.jsx)("div",{className:"close",onClick:function(){E||O()},children:Object(u.jsx)("span",{children:"\xd7"})})]}),Object(u.jsx)("div",{className:"modal-body",children:Object(u.jsxs)("div",{className:"margin-box-info",children:[Object(u.jsx)("div",{children:f["available-balance"]}),Object(u.jsxs)("div",{className:"money",children:[Object(u.jsx)("span",{children:Object(u.jsxs)("span",{className:"bt-balance",children:[Object(u.jsx)(j.a,{value:v,thousandSeparator:!0,decimalScale:0}),".",Object(u.jsx)("span",{style:{fontSize:"12px"},children:k})]})}),Object(u.jsx)("span",{className:"remove"})]}),Object(u.jsxs)("div",{className:"enter-margin remv",children:[Object(u.jsx)("div",{className:"input-margin",children:Object(u.jsxs)("div",{className:"box",children:[Object(u.jsx)("div",{className:"amount",style:{display:""!==I?"block":"none"},children:f.amount}),Object(u.jsx)("input",{type:"number",className:"margin-value",value:I,onChange:function(e){var t=e.target.value;B(t)},placeholder:f.amount})]})}),Object(u.jsx)("div",{children:n.baseToken})]}),0===+m.marginHeld&&Object(u.jsxs)("div",{className:"max",children:[f.max,": ",Object(u.jsx)("span",{className:"max-num",children:v||m.margin}),Object(u.jsx)("span",{className:"max-btn-left",onClick:function(){B(p)},children:f["remove-all"]})]}),+m.volume>0&&Object(u.jsxs)("div",{className:"max",children:[Object(u.jsx)("span",{className:"max-num"}),Object(u.jsx)("span",{className:"max-btn-left",children:" "})]}),Object(u.jsx)("div",{className:"add-margin-btn",children:Object(u.jsx)(o.a,{className:"margin-btn",btnText:f.withdraw,lang:f,click:R,checkApprove:!0,wallet:t,spec:n})})]})})]})})})}},670:function(e,t,c){"use strict";c.d(t,"a",(function(){return g}));var n=c(55),i=c(0),a=c.n(i),s=c(1),l=c(9),r=c(6),o=c(155),j=c(655),d=c(669),b=c(671),u=c(672),m=c(625),O=c(13),A=c(651),p=c(18),x=Object(o.a)(j.a),f=Object(o.a)(d.a);function g(e){var t=e.wallet,c=e.spec,i=e.afterDepositAndWithdraw,o=e.position,j=e.onClose,d=e.lang,g=Object(r.useState)([]),h=Object(l.a)(g,2),v=h[0],N=h[1],w=parseInt((document.body.offsetHeight-140)/54),y=Object(r.useState)(Array.from({length:w})),k=Object(l.a)(y,2),S=k[0],C=k[1],D=Object(r.useState)(!1),I=Object(l.a)(D,2),B=I[0],M=I[1],Q=Object(r.useState)(!1),E=Object(l.a)(Q,2),T=E[0],F=E[1],R=Object(r.useState)(""),P=Object(l.a)(R,2),Y=P[0],J=P[1],G=Object(r.useState)(""),H=Object(l.a)(G,2),L=H[0],z=H[1],q=Object(r.useState)(""),Z=Object(l.a)(q,2),U=Z[0],V=Z[1],W=Object(r.useState)(""),K=Object(l.a)(W,2),X=K[0],_=K[1];Object(A.a)();var $=function(){var e=Object(s.a)(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.detail.account||!c){e.next=6;break}return e.next=3,Object(O.E)(t.detail.chainId,c.pool,t.detail.account,c.symbolId);case 3:n=e.sent,N(n),n.length<w&&C(Array.from({length:w-n.length}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){return $(),window.scrollTo(0,0),function(){}}),[t.detail.account,c]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"modal fade",children:Object(p.jsx)("div",{className:"modal-dialog",children:Object(p.jsxs)("div",{className:"modal-content",children:[Object(p.jsxs)("div",{className:"modal-header",children:[Object(p.jsx)("div",{className:"title",children:d["balance-in-contract-uppercase"]}),Object(p.jsx)("div",{className:"close","data-dismiss":"modal",onClick:function(){i(),j()},children:Object(p.jsx)("span",{children:"\xd7"})})]}),Object(p.jsx)("div",{className:"modal-body",children:Object(p.jsxs)("div",{className:"balance-list",children:[Object(p.jsxs)("div",{className:"row header",children:[Object(p.jsx)("span",{className:"btoken pc",children:d["base-token"]}),Object(p.jsx)("span",{className:"btoken mobile",children:d["base-token"]}),Object(p.jsx)("span",{className:"w-balance pc",children:d["wallet-balance"]}),Object(p.jsx)("span",{className:"w-balance mobile",children:d["wallet-balance"]}),Object(p.jsx)("span",{className:"avail-balance pc",children:d["available-balance"]}),Object(p.jsx)("span",{className:"avail-balance mobile",children:d["available-balance"]})]}),v.map((function(e,t){return Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("span",{className:"btoken",children:e.bTokenSymbol}),Object(p.jsx)("span",{className:"w-balance",children:Object(p.jsx)(m.a,{value:e.walletBalance,fixedDecimalScale:!0,decimalScale:2})}),Object(p.jsx)("span",{className:"avail-balance",children:Object(p.jsx)(m.a,{value:e.availableBalance,fixedDecimalScale:!0,decimalScale:2})}),Object(p.jsxs)("span",{className:"action",children:[Object(p.jsxs)("span",{className:"add-margin",id:"openAddMargin",onClick:function(){return function(e,t,c){J(e),V(t),_(c),M(!0)}(e.walletBalance,e.bTokenId,e.bTokenSymbol)},children:[Object(p.jsx)("img",{src:b.a,alt:d["add-margin"]})," ",d.add]}),Object(p.jsxs)("span",{className:"remove-margin",onClick:function(){return function(e,t,c){z(e),V(t),_(c),F(!0)}(e.availableBalance,e.bTokenId,e.bTokenSymbol)},children:[Object(p.jsx)("img",{src:u.a,alt:d["remove-margin"]})," ",d.remove]})]})]},t)})),S.map((function(e,t){return Object(p.jsx)("div",{className:"row"},t)}))]})})]})})}),Object(p.jsx)(x,{wallet:t,onClose:function(){return M(!1)},balance:Y,spec:Object(n.a)(Object(n.a)({},c),{},{bTokenId:U,bTokenSymbol:X}),position:o,modalIsOpen:B,afterDeposit:function(){M(!1),$()},className:"trading-dialog",nested:!0,lang:d}),Object(p.jsx)(f,{wallet:t,onClose:function(){return F(!1)},spec:Object(n.a)(Object(n.a)({},c),{},{bTokenId:U,bTokenSymbol:X}),position:o,modalIsOpen:T,afterWithdraw:function(){F(!1),$()},availableBalance:L,className:"trading-dialog",nested:!0,lang:d})]})}},671:function(e,t,c){"use strict";t.a=c.p+"static/media/remove-margin.1ccb58c4.svg"},672:function(e,t,c){"use strict";t.a=c.p+"static/media/add-margin.8b496dd1.svg"},673:function(e,t,c){"use strict";t.a="data:image/png;base64,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"},694:function(e,t,c){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAASCAYAAAC5DOVpAAAACXBIWXMAAAsSAAALEgHS3X78AAAArUlEQVQ4ja2UUQ0CMQxAHwQBOEACSDgJOMDCOWAoOAuggElAAjg5FJQ0lMuyDHIbfUmzj3Zv3ZoMEfkWQd4Ey/cisvtRz5L5rIFoa5EambIBbl4yZQucvWTKAei9ZMoA7P+VnYCFRUwTq6xQT7o29WmdBUBsjXZyDdP+0jU1eWntrIRO6uElG4EOeHrIUuE4V5ZPM+dugb1laO2sGldZes2jRTv2sX0+wlaCiPACF2WaE4qSlAwAAAAASUVORK5CYII="},695:function(e,t,c){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABO0lEQVQ4jaVV223DMAy8BvmvRvAG8QgeISN4lIyQDeoRMoK7gUfQBnUnYMH0LmAU2YETAoQhPs4niWd/mBkWLAE4AmiK9ATgstS0q8QcaADwA6Cv5E4AZj4fzRkG78xsNrOLmTVFrqyb6CnmYlFr/9avAJU+mFmOoCpIZLYFTO6gYwk4cJtbwUQmi4wC9uTMnnnP84QW4xtg8iupHedsrIxNCrG+GKGWsxhrvh1rT8AcwBz8wKaOw/3F/MzB9ppPPttysHNYq0GK0PqXnhnLoebO9oFZ3N7IbaupKwA61p2Lo7peylE39IZrUpJAZsrpVdCT5jgGXmXZREIxMVExW1Xifefax0ESGsovyAozB7uTbO2NrpqbNhdY+RH5Nm/MlgDl0qabv0CumLOqXuLaL8DNVVT7BfhwPxqAP4UiW3Wp1wTfAAAAAElFTkSuQmCC"},696:function(e,t,c){"use strict";var n=c(9),i=c(6),a=(c(864),c(624)),s=c.n(a),l=c(48),r=c(18);t.a=Object(l.b)("version","wallet","type")(Object(l.c)((function(e){var t=e.lang,c=e.version,a=e.wallet,l=e.type,o=Object(i.useState)("main"),j=Object(n.a)(o,2),d=j[0],b=j[1],u=s()("area-picker-wrapper",d),m=Object(i.useState)({}),O=Object(n.a)(m,2),A=O[0],p=O[1],x=function(e){b(e),"innovation"===e?c.setCurrent("v2_lite"):"main"===e?c.setCurrent("v2"):"open"===e&&c.setCurrent("v2_lite_open")};return Object(i.useEffect)((function(){return c.isV2Lite?x("innovation"):c.isV2?x("main"):c.isOpen&&a.supportOpen&&x("open"),a.supportOpen?p({width:"".concat(100/3,"%")}):p({width:"".concat(50,"%")}),function(){}}),[a.detail]),(c.isV2||c.isV2Lite||c.isOpen)&&a.supportInnovation&&!l.isOption?Object(r.jsx)("div",{className:"area-picker",children:Object(r.jsxs)("div",{className:u,children:[Object(r.jsx)("span",{className:"left",style:A,onClick:function(){return x("main")},children:t["main-zone"]}),Object(r.jsx)("span",{className:"middle",style:A,onClick:function(){return x("innovation")},children:t["innovation-zone"]}),a.supportOpen&&Object(r.jsx)("span",{className:"right",style:A,onClick:function(){return x("open")},children:t["open-zone"]})]})}):null})))},741:function(e,t,c){"use strict";var n=c(9),i=c(6),a=c(35),s=c(0),l=c.n(s),r=c(1),o=c(13),j=c(624),d=c.n(j),b=c(155),u=c(655),m=c(669),O=c(625),A=c(28),p=c(48),x=c(670),f=c(672),g=c(671),h=c(694),v=c(695),N=c.p+"static/media/close-position-icon.6e2b1ee2.svg",w=c(628),y=c(18),k=Object(b.a)(u.a),S=Object(b.a)(m.a),C=Object(b.a)(x.a);function D(e){var t=e.trading,c=e.wallet,a=e.lang,s=Object(i.useState)(Object(y.jsx)("span",{})),l=Object(n.a)(s,2),r=l[0],o=l[1];return Object(i.useEffect)((function(){var e="";c.isConnected()&&t.position.liquidationPrice&&(t.position.liquidationPrice.numPositions>1?t.position.liquidationPrice.price1&&t.position.liquidationPrice.price2?e=Object(y.jsxs)("span",{children:[Object(y.jsx)(O.a,{decimalScale:2,value:t.position.liquidationPrice.price1}),Object(y.jsx)("span",{children:" / "}),Object(y.jsx)(O.a,{decimalScale:2,value:t.position.liquidationPrice.price2})]}):t.position.liquidationPrice.price1||t.position.liquidationPrice.price2?!t.position.liquidationPrice.price1&&t.position.liquidationPrice.price2?e=Object(y.jsxs)("span",{children:[Object(y.jsx)(w.a,{block:!1,children:Object(y.jsx)("span",{className:"funding-fee",tip:a["liq-price-hover-three"],children:" ? "})}),Object(y.jsx)("span",{children:" / "}),Object(y.jsxs)("span",{children:[" ",Object(y.jsx)(O.a,{decimalScale:2,value:t.position.liquidationPrice.price2})," "]})]}):t.position.liquidationPrice.price1&&!t.position.liquidationPrice.price2&&(e=Object(y.jsxs)("span",{children:[Object(y.jsxs)("span",{children:[" ",Object(y.jsx)(O.a,{decimalScale:2,value:t.position.liquidationPrice.price1})," "]}),Object(y.jsx)("span",{children:" / "}),Object(y.jsx)(w.a,{block:!1,children:Object(y.jsx)("span",{className:"funding-fee",tip:a["liq-price-hover-three"],children:" ? "})})]})):e=Object(y.jsxs)("span",{children:[Object(y.jsx)(w.a,{block:!1,children:Object(y.jsx)("span",{className:"funding-fee",tip:a["liq-price-hover-three"],children:" ? "})}),Object(y.jsx)("span",{children:" / "}),Object(y.jsx)(w.a,{block:!1,children:Object(y.jsx)("span",{className:"funding-fee",tip:a["liq-price-hover-three"],children:" ? "})})]}):t.position.liquidationPrice.price1&&t.position.liquidationPrice.price2?e=Object(y.jsxs)("span",{children:[Object(y.jsx)(O.a,{decimalScale:2,value:t.position.liquidationPrice.price1}),Object(y.jsx)("span",{children:" / "}),Object(y.jsx)(O.a,{decimalScale:2,value:t.position.liquidationPrice.price2})]}):t.position.liquidationPrice.price1||t.position.liquidationPrice.price2?!t.position.liquidationPrice.price1&&t.position.liquidationPrice.price2?e=Object(y.jsxs)("span",{children:[Object(y.jsxs)(w.a,{block:!1,children:[" ",Object(y.jsx)("span",{className:"funding-fee",tip:a["liq-price-hover-two"],children:" -- "})]}),Object(y.jsx)("span",{children:" / "}),Object(y.jsxs)("span",{children:[" ",Object(y.jsx)(O.a,{decimalScale:2,value:t.position.liquidationPrice.price2})," "]})]}):t.position.liquidationPrice.price1&&!t.position.liquidationPrice.price2&&(e=Object(y.jsxs)("span",{children:[Object(y.jsxs)("span",{children:[" ",Object(y.jsx)(O.a,{decimalScale:2,value:t.position.liquidationPrice.price1})," "]}),Object(y.jsx)("span",{children:" / "}),Object(y.jsxs)(w.a,{block:!1,children:[" ",Object(y.jsx)("span",{className:"funding-fee",tip:a["liq-price-hover-two"],children:" -- "})]})]})):e=Object(y.jsxs)("span",{children:[Object(y.jsxs)(w.a,{block:!1,children:[" ",Object(y.jsx)("span",{className:"funding-fee",tip:a["liq-price-hover-two"],children:" -- "})]}),Object(y.jsx)("span",{children:" / "}),Object(y.jsxs)(w.a,{block:!1,children:[" ",Object(y.jsx)("span",{className:"funding-fee",tip:a["liq-price-hover-two"],children:" -- "})]})]}),o(e))}),[t.position,c.detail]),Object(y.jsx)("span",{children:r})}var I=Object(p.b)("wallet","trading","version","type")(Object(p.c)((function(e){var t=e.wallet,c=e.trading,s=e.version,j=e.lang,b=e.type,u=Object(i.useState)(!1),m=Object(n.a)(u,2),p=m[0],x=m[1],I=Object(i.useState)(""),B=Object(n.a)(I,2),M=B[0],Q=B[1],E=Object(i.useState)(""),T=Object(n.a)(E,2),F=T[0],R=T[1],P=Object(i.useState)(""),Y=Object(n.a)(P,2),J=Y[0],G=Y[1],H=Object(i.useState)(!1),L=Object(n.a)(H,2),z=L[0],q=L[1],Z=Object(i.useState)(!1),U=Object(n.a)(Z,2),V=U[0],W=U[1],K=Object(i.useState)(!1),X=Object(n.a)(K,2),_=X[0],$=X[1],ee=Object(i.useState)(""),te=Object(n.a)(ee,2),ce=te[0],ne=te[1],ie=function(){var e=Object(r.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isConnected()||!c.config){e.next=5;break}return e.next=3,Object(o.W)(t.detail.chainId,c.config.pool,t.detail.account,c.config.bTokenId).catch((function(e){return console.error("load balance error,maybe network is wrong")}));case 3:(n=e.sent)&&ne(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(r.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,Object(o.h)(t.detail.chainId,c.config.pool,t.detail.account,c.config.symbolId).finally((function(){return x(!1)}));case 3:(n=e.sent).success?se():"string"===typeof n.error?alert(n.error||j["close-position-failed"]):"object"===Object(a.a)(n.error)?alert(n.error.errorMessage||j["close-position-failed"]):alert(j["close-position-failed"]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){c.refresh(),ie()},le=d()("Direction","info-num",{LONG:+c.position.volume>0,SHORT:+c.position.volume<0});return Object(i.useEffect)((function(){return ie(),function(){}}),[t.detail.account,c.config]),Object(i.useEffect)((function(){if(c.position){var e=c.position,t=+e.volume>0?j.long:Object(A.e)(e.volume,0)||!e.volume?"--":j.short;Q(t),R(Object(o.g)(e.margin).plus(e.unrealizedPnl).toString()),G(Object(o.g)(e.margin).plus(e.unrealizedPnl).minus(e.marginHeld).toString())}return function(){}}),[c.position.volume,c.position.margin,c.position.unrealizedPnl]),Object(y.jsxs)("div",{className:"position-info",children:[Object(y.jsxs)("div",{className:"info",children:[Object(y.jsxs)("div",{className:"info-left",children:[Object(y.jsx)("div",{className:"title-text",children:j.position}),Object(y.jsx)("div",{className:"info-num",children:Object(y.jsx)(O.a,{value:c.position.volume,allowZero:!0})})]}),Object(y.jsx)("div",{className:"info-right",children:Object(y.jsxs)("div",{className:"close-position",id:"close-p",onClick:ae,children:[Object(y.jsx)("span",{className:"spinner spinner-border spinner-border-sm",role:"status","aria-hidden":"true",style:{display:p?"block":"none"}}),Object(y.jsx)("img",{src:N})," ",j.close]})})]}),Object(y.jsxs)("div",{className:"info",children:[Object(y.jsxs)("div",{className:"info-left",children:[Object(y.jsx)("div",{className:"title-text",children:j["average-entry-price"]}),Object(y.jsx)("div",{className:"info-num",children:Object(y.jsx)(O.a,{value:c.position.averageEntryPrice,decimalScale:2})})]}),Object(y.jsx)("div",{className:"info-right"})]}),Object(y.jsxs)("div",{className:"info",children:[Object(y.jsxs)("div",{className:"info-left",children:[Object(y.jsx)("div",{className:"title-text balance-con",children:s.isV1||s.isV2Lite||b.isOption?Object(y.jsxs)(y.Fragment,{children:[j["balance-in-contract"],Object(y.jsx)("br",{})," (",j["dynamic-balance"],")"]}):j["dynamic-effective-balance"]}),Object(y.jsx)("div",{className:"info-num",children:Object(y.jsx)(O.a,{decimalScale:2,allowZero:!0,value:F})})]}),Object(y.jsx)("div",{className:"info-right action ".concat(s.current),children:s.isV1||s.isV2Lite||b.isOption||s.isOpen?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"add-margin",id:"openAddMargin",onClick:function(){return W(!0)},children:[Object(y.jsx)("img",{src:g.a,alt:"add margin"})," ",j.add]}),Object(y.jsxs)("div",{className:"remove-margin",onClick:function(){return $(!0)},children:[Object(y.jsx)("img",{src:f.a,alt:"add margin"})," ",j.remove]})]}):Object(y.jsxs)("div",{onClick:function(){return q(!0)},children:[Object(y.jsx)("img",{src:h.a,alt:"Remove margin"})," ",j.detail]})})]}),Object(y.jsxs)("div",{className:"info",children:[Object(y.jsxs)("div",{className:"info-left",children:[Object(y.jsx)("div",{className:"title-text",children:j.direction}),Object(y.jsx)("div",{className:le,children:M})]}),Object(y.jsx)("div",{className:"info-right"})]}),Object(y.jsxs)("div",{className:"info",children:[Object(y.jsxs)("div",{className:"info-left",children:[Object(y.jsx)("div",{className:"title-text",children:j.margin}),Object(y.jsx)("div",{className:"info-num",children:Object(y.jsx)(O.a,{value:c.position.marginHeld,decimalScale:2})})]}),Object(y.jsx)("div",{className:"info-right"})]}),Object(y.jsxs)("div",{className:"info",children:[Object(y.jsxs)("div",{className:"info-left",children:[Object(y.jsx)("div",{className:"title-text",children:j["unrealized-pnl"]}),Object(y.jsx)("div",{className:"info-num",children:Object(y.jsxs)("span",{className:"pnl-list",children:[Object(y.jsx)(O.a,{value:c.position.unrealizedPnl,decimalScale:8}),(c.position.unrealizedPnlList?(s.isV2||s.isV2Lite||s.isOption)&&c.position.unrealizedPnlList.length:s.isV2||s.isV2Lite)&&Object(y.jsx)("img",{src:v.a,alt:"unrealizePnl"}),(s.isV2||s.isV2Lite||s.isOption)&&Object(y.jsx)("div",{className:"pnl-box",children:c.position.unrealizedPnlList&&c.position.unrealizedPnlList.map((function(e,t){return Object(y.jsxs)("div",{className:"unrealizePnl-item",children:[Object(y.jsx)("span",{children:e[0]}),Object(y.jsx)("span",{children:Object(y.jsx)(O.a,{value:e[1],decimalScale:8})})]},t)}))})]})})]}),Object(y.jsx)("div",{className:"info-right"})]}),Object(y.jsxs)("div",{className:"info",children:[b.isFuture&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"info-left",children:[Object(y.jsx)(w.a,{children:Object(y.jsx)("div",{className:"title-text  funding-fee",tip:j["funding-fee-tip"],children:j["funding-fee"]})}),Object(y.jsx)("div",{className:"info-num",children:Object(y.jsx)(O.a,{value:-c.position.fundingFee,decimalScale:8})})]}),Object(y.jsx)("div",{className:"info-right"})]}),b.isOption&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"info-left",children:[Object(y.jsx)(w.a,{children:Object(y.jsx)("div",{className:"title-text  funding-fee",tip:j["funding-fee-tip"],children:j["funding-fee"]})}),Object(y.jsx)("div",{className:"info-num",children:Object(y.jsx)(O.a,{value:-c.position.premiumFundingAccrued,decimalScale:8})})]}),Object(y.jsx)("div",{className:"info-right"})]})]}),Object(y.jsxs)("div",{className:"info",children:[Object(y.jsxs)("div",{className:"info-left",children:[Object(y.jsxs)("div",{className:"title-text",children:[Object(y.jsx)("span",{}),b.isOption?Object(y.jsx)(w.a,{block:!1,children:Object(y.jsx)("span",{className:"funding-fee",tip:j["liq-price-hover-one"],children:j["liquidation-price"]})}):Object(y.jsx)("span",{children:j["liquidation-price"]})]}),Object(y.jsx)("div",{className:"info-num",children:b.isOption?Object(y.jsx)(D,{trading:c,wallet:t,lang:j}):Object(y.jsx)(O.a,{decimalScale:4,value:c.position.liquidationPrice})})]}),Object(y.jsx)("div",{className:"info-right"})]}),Object(y.jsx)(k,{wallet:t,modalIsOpen:V,onClose:function(){W(!1)},spec:c.config,afterDeposit:function(){W(!1),se()},balance:ce,className:"trading-dialog",lang:j}),Object(y.jsx)(S,{wallet:t,modalIsOpen:_,onClose:function(){$(!1)},spec:c.config,afterWithdraw:function(){$(!1),se()},position:c.position,availableBalance:J,className:"trading-dialog",lang:j}),Object(y.jsx)(C,{wallet:t,modalIsOpen:z,onClose:function(){q(!1)},spec:c.config,afterDepositAndWithdraw:function(){se()},position:c.position,overlay:{background:"#1b1c22",top:80},className:"balance-list-dialog",lang:j})]})}))),B=c(637),M=c.n(B),Q=c(626);var E=c(65),T=c(673),F=E[o.a.get()].chainInfo;function R(e){var t=e.wallet,c=e.his,a=Object(i.useState)(!1),s=Object(n.a)(a,2),l=s[0],r=s[1],o=function(){r(!0)},j=function(){r(!1)},b=d()("view",{hover:l});return Object(y.jsxs)("span",{className:b,onMouseOut:j,children:[Object(y.jsx)("span",{className:"view-space",onMouseOver:o,children:Object(y.jsxs)("a",{target:"_blank",rel:"noreferrer",href:"".concat(F[t.detail.chainId].viewUrl,"tx/").concat(c.transactionHash),children:["View at ",F[t.detail.chainId].viewUrl]})}),Object(y.jsx)("span",{className:"right-arrow",onMouseOver:o,children:Object(y.jsx)("img",{alt:"",src:T.a})}),Object(y.jsx)("span",{className:"view-arrow",onMouseOver:o,onMouseOut:j,children:Object(y.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat(F[t.detail.chainId].viewUrl,"tx/").concat(c.transactionHash),children:Object(y.jsx)("img",{rel:"noreferrer",alt:"",src:"data:image/svg+xml;base64,DQo8c3ZnIGZpbGw9Im5vbmUiIGhlaWdodD0iMTAiIHdpZHRoPSIxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCiAgICA8cGF0aCBkPSJNOC42NzYuNjQyYS42NS42NSAwIDAwLS4wNzIuMDA2SDQuNzkzYS42NS42NSAwIDAwLS41Ny45NzUuNjUuNjUgMCAwMC41Ny4zMjJINy4xMkwuNDM4IDguNjE0YS42NDcuNjQ3IDAgMDAuMjg2IDEuMDk2LjY1LjY1IDAgMDAuNjMyLS4xNzlMOC4wNCAyLjg2MXYyLjMyNGEuNjQ4LjY0OCAwIDAwLjk3Ny41Ny42NDguNjQ4IDAgMDAuMzIyLS41N1YxLjM4YS42NDcuNjQ3IDAgMDAtLjY2Mi0uNzM3eiIgZmlsbD0iI0FBQUFBQSIvPg0KPC9zdmc+DQoNCg=="})})})]})}var P=Object(p.b)("wallet","trading","type")(Object(p.c)((function(e){var t=e.wallet,c=e.trading,a=e.lang,s=e.type,o=Object(i.useState)([]),j=Object(n.a)(o,2),d=j[0],b=j[1];function u(){return(u=Object(r.a)(l.a.mark((function e(){var n,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isConnected()&&c.configs&&c.config&&c.contract&&(n=c.history,i=n.map((function(e){e.directionText=a["long-buy"],"SHORT"===e.direction?e.directionText=a["short-sell"]:"liquidation"===e.direction.toLowerCase()&&(e.directionText=a.liquidation);var t=c.config;return t&&(e.symbol=e.symbol?e.symbol:t.symbol,e.baseTokenText=e.baseToken?" ".concat(e.symbol," / ").concat(e.baseToken):e.symbol),e})),b(i));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(i.useEffect)((function(){return function(){u.apply(this,arguments)}(),function(){}}),[t.detail,c.configs,c.config,c.history]),Object(y.jsxs)("div",{className:"history-info","v-show":"historyShow",children:[d.map((function(e,c){return Object(y.jsxs)("div",{className:"history-box",children:[Object(y.jsxs)("div",{className:"direction-bToken-price",children:[Object(y.jsxs)("span",{className:"direction",children:[Object(y.jsxs)("span",{className:"".concat(e.direction),children:[" ",e.directionText]}),Object(y.jsx)("span",{className:"basetoken",children:e.baseTokenText}),Object(y.jsx)(R,{wallet:t,his:e})]}),Object(y.jsx)("span",{className:"history-text time",children:M.a.asString("yyyy-MM-dd hh:mm:ss",new Date(parseInt(e.time)))})]}),Object(y.jsxs)("div",{className:"time-price-volume",children:[Object(y.jsxs)("div",{className:"history-price",children:[Object(y.jsxs)("div",{className:"history-title",children:[" ",s.isOption?a["volume-notional-price"]:a["volume-price"]]}),Object(y.jsxs)("div",{className:"history-text",children:[e.volume," @ ",Object(y.jsx)(O.a,{value:e.price,decimalScale:4,displayType:"text"})]})]}),Object(y.jsxs)("div",{className:"notional",children:[Object(y.jsxs)("div",{className:"history-title",children:[" ",s.isOption?a["contract-value"]:a.notional]}),Object(y.jsx)("div",{className:"history-text",children:Object(y.jsx)(O.a,{value:e.notional,decimalScale:4})})]}),Object(y.jsxs)("div",{className:"history-fee",children:[Object(y.jsx)("div",{className:"history-title pc",children:a["transaction-fee"]}),Object(y.jsx)("div",{className:"history-title mobile",children:a["transaction-fee"]}),Object(y.jsx)("div",{className:"history-text",children:Object(y.jsx)(O.a,{value:e.transactionFee,decimalScale:4})})]})]})]},c)})),0==d.length?Object(y.jsx)("div",{className:"no-data",children:a["no-data"]}):""]})}))),Y=c(25);var J=Object(p.b)("wallet","trading","type")(Object(p.c)((function(e){e.wallet;var t=e.trading,c=e.lang,n=e.type;return Object(y.jsxs)("div",{className:"contract-box",children:[Object(y.jsx)("div",{className:"contract-header"}),Object(y.jsxs)("div",{className:"contract-info",children:[Object(y.jsx)("div",{className:"conntract-header",children:c["contract-info"]}),Object(y.jsxs)("div",{className:"info",children:[Object(y.jsx)("div",{className:"title",children:c["base-token"]}),Object(y.jsx)("div",{className:"text",children:t.contract.bTokenSymbol&&t.contract.bTokenSymbol.map((function(e,i){return Y.a.isV2&&n.isFuture?Object(y.jsx)(w.a,{children:Object(y.jsxs)("span",{className:"btoken-symbol",children:[e,"(",Object(y.jsxs)("span",{className:"multiplier",tip:c["multiplier-tip"],children:[t.contract.bTokenMultiplier&&t.contract.bTokenMultiplier[i],"x"]}),")"]})},i):Object(y.jsx)("span",{className:"btoken-symbol",children:e},i)}))})]}),Object(y.jsxs)("div",{className:"info",children:[Object(y.jsxs)("div",{className:"title",children:[n.isOption&&c["symbol-option"],n.isFuture&&c.symbol]}),Object(y.jsx)("div",{className:"text",children:t.contract.symbol})]}),n.isFuture&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"info",children:[Object(y.jsx)("div",{className:"title",children:c.multiplier}),Object(y.jsx)("div",{className:"text",children:t.contract.multiplier})]}),Object(y.jsxs)("div",{className:"info",children:[Object(y.jsx)("div",{className:"title",children:c["funding-rate-coefficient"]}),Object(y.jsx)("div",{className:"text",children:t.contract.fundingRateCoefficient})]}),Object(y.jsxs)("div",{className:"info",children:[Object(y.jsx)("div",{className:"title",children:c["min-initial-margin-ratio"]}),Object(y.jsx)("div",{className:"text",children:Object(y.jsx)(Q.a,{displayType:"text",value:100*t.contract.minInitialMarginRatio,decimalScale:2,suffix:"%"})})]}),Object(y.jsxs)("div",{className:"info",children:[Object(y.jsx)("div",{className:"title",children:c["min-maintenance-margin-ratio"]}),Object(y.jsx)("div",{className:"text",children:Object(y.jsx)(Q.a,{displayType:"text",value:100*t.contract.minMaintenanceMarginRatio,decimalScale:2,suffix:"%"})})]})]}),n.isOption&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"info",children:[Object(y.jsx)("div",{className:"title",children:c.underlier}),Object(y.jsx)("div",{className:"text",children:t.contract.underlier})]}),Object(y.jsxs)("div",{className:"info",children:[Object(y.jsx)("div",{className:"title",children:c.strike}),Object(y.jsx)("div",{className:"text",children:t.contract.strike})]}),Object(y.jsxs)("div",{className:"info",children:[Object(y.jsx)("div",{className:"title",children:c["option-type"]}),Object(y.jsx)("div",{className:"text",children:"C"===t.contract.optionType?"".concat(c.call):"".concat(c.put)})]}),Object(y.jsxs)("div",{className:"info",children:[Object(y.jsxs)("div",{className:"title",children:[" ",Object(y.jsxs)("span",{children:[c["min-trade-volume"]," ( ",c.notional," )"]})," "]}),Object(y.jsxs)("div",{className:"text",children:[t.contract.multiplier," ",t.config?t.config.unit:""]})]}),Object(y.jsxs)("div",{className:"info",children:[Object(y.jsx)("div",{className:"title",children:Object(y.jsx)(w.a,{block:!1,children:Object(y.jsx)("span",{tip:t.initialMarginRatioTip,className:"margin-per",children:c["initial-margin-ratio"]})})}),Object(y.jsx)("div",{className:"text",children:Object(y.jsx)(Q.a,{displayType:"text",value:100*t.contract.initialMarginRatio,decimalScale:2,suffix:"%"})})]}),Object(y.jsxs)("div",{className:"info",children:[Object(y.jsxs)("div",{className:"title",children:[" ",Object(y.jsx)(w.a,{block:!1,children:Object(y.jsxs)("span",{tip:t.maintenanceMarginRatioTip,className:"margin-per",children:[" ",c["maintenance-margin-ratio"]]})})," "]}),Object(y.jsx)("div",{className:"text",children:Object(y.jsx)(Q.a,{displayType:"text",value:100*t.contract.maintenanceMarginRatio,decimalScale:2,suffix:"%"})})]})]}),Object(y.jsxs)("div",{className:"info",children:[n.isFuture&&Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{className:"title",children:c["transaction-fee"]})}),n.isOption&&Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{className:"title",children:Object(y.jsx)(w.a,{block:!1,children:Object(y.jsx)("span",{className:"margin-per",tip:t.TransactionFeeTip,children:c["transaction-fee"]})})})}),Object(y.jsxs)("div",{className:"text",children:[n.isOption&&Object(y.jsxs)(y.Fragment,{children:["C"===t.contract.optionType&&Object(y.jsxs)(y.Fragment,{children:[t.contract.strike>=t.index&&Object(y.jsxs)(y.Fragment,{children:[c["eo-mark-price"]," * ",Object(y.jsx)(Q.a,{displayType:"text",value:100*t.contract.feeRatioOTM,decimalScale:3,suffix:"%"})]}),t.contract.strike<t.index&&Object(y.jsxs)(y.Fragment,{children:[t.contract.underlier," ",c.price," * ",Object(y.jsx)(Q.a,{displayType:"text",value:100*t.contract.feeRatioITM,decimalScale:3,suffix:"%"})]})]}),"C"!==t.contract.optionType&&Object(y.jsxs)(y.Fragment,{children:[t.contract.strike<t.index&&Object(y.jsxs)(y.Fragment,{children:[c["eo-mark-price"]," * ",Object(y.jsx)(Q.a,{displayType:"text",value:100*t.contract.feeRatioOTM,decimalScale:3,suffix:"%"})]}),t.contract.strike>=t.index&&Object(y.jsxs)(y.Fragment,{children:[t.contract.underlier," ",c.price," * ",Object(y.jsx)(Q.a,{displayType:"text",value:100*t.contract.feeRatioITM,decimalScale:3,suffix:"%"})]})]})]}),n.isFuture&&Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Q.a,{displayType:"text",value:100*t.contract.feeRatio,decimalScale:3,suffix:"%"})})]})]}),t.contract.indexConstituents&&t.contract.indexConstituents.tokens.length>0&&Object(y.jsxs)("div",{className:"info",children:[Object(y.jsx)("div",{className:"title",children:c["index-constituent"]}),Object(y.jsx)("div",{className:"text",children:t.contract.indexConstituents.tokens.join(" | ")})]})]})]})}))),G=c(55),H=c(629),L=c(1207),z=(c(862),c(863),L.b.Handle);function q(e){var t=e.value,c=(e.dragging,e.index),n=Object(H.a)(e,["value","dragging","index"]);return Object(y.jsx)(L.a,{prefixCls:"rc-slider-tooltip",overlay:t||"",placement:"top",visible:!!t,overlayStyle:{display:"block"},overlayInnerStyle:{color:"#569BDA",background:"none",display:"block",fontSize:"10px",boxShadow:"none"},children:Object(y.jsx)(z,Object(G.a)({value:t},n))},c)}function Z(e){var t=e.max,c=void 0===t?"--":t,a=e.start,s=e.onValueChange,l=e.freeze,r=e.currentSymbolMarginHeld,j=e.originMarginHeld,b=e.setStopCalculate,u=Object(i.useState)(0),m=Object(n.a)(u,2),O=m[0],A=m[1],p=Object(i.useState)(0),x=Object(n.a)(p,2),f=x[0],g=x[1],h=Object(i.useState)(!1),v=Object(n.a)(h,2),N=v[0],w=v[1],k=Object(i.useState)({}),S=Object(n.a)(k,2),C=S[0],D=S[1],I=Object(i.useState)(!1),B=Object(n.a)(I,2),M=B[0],Q=B[1],E=Object(i.useState)(!1),T=Object(n.a)(E,2),F=T[0],R=T[1];Object(i.useEffect)((function(){return w(l),0===Math.abs(c)&&w(!0),function(){}}),[l,c]),Object(i.useEffect)((function(){var e=c;return 0!==Math.abs(c)&&"--"!==c||(c=100),isNaN(e)&&A(""),c&&D(function(e){for(var t={},c=+e/10,n=0;n<=10;n++)if(0===n||10===n){var i={top:"-16px",position:"relative"};10===n&&(i.width=100,i.left="-10px",i.paddingRight="10px"),t[n*c]=Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{style:i,children:10===n?(n*c).toFixed(2):n*c}),Object(y.jsx)("div",{style:{top:"-16px",position:"relative"},children:"l"})]})}else t[n*c]="l";return t}(c)),A(+c),"--"!==e&&Q(!0),0!==Math.abs(c)&&0!==Math.abs(e)||Q(!1),function(){}}),[c]),Object(i.useEffect)((function(){return F||(isNaN(a)?g(0):g(a)),function(){}}),[a]);var P=d()("deri-slider",{controlled:M});return Object(y.jsx)(L.b,{handle:q,className:P,start:a,min:0,max:O,value:f,onChange:function(e){R(!0),b(!0),g(e),s(e,!1)},onAfterChange:function(e){if(r){var t=Object(o.g)(j).minus(r);Object(o.g)(e).lt(t)&&(g(t),s(t))}R(!1),b(!1)},disabled:N,overlay:f,step:.01,marks:C})}var U=c(623),V=c(21);var W=c.p+"static/media/arrow-down.5e5e4213.svg",K=c.p+"static/media/arrow-up.d36fae6d.svg";function X(e){var t=e.symbol,c=e.trading,a=e.onSelect,s=e.index,l=e.version,r=e.type,o=Object(i.useState)(0),j=Object(n.a)(o,2),b=j[0],u=j[1],m=d()("sub-menu",{show:s===b});return Object(y.jsxs)("div",{className:"dropdown-item-wrapper",children:[Object(y.jsxs)("div",{className:"catalog",onClick:function(){return function(e){u(b===e?-1:e)}(s)},children:[t,Object(y.jsx)("span",{className:"sub-memu-icon",children:b===s?Object(y.jsx)("img",{src:K,alt:""}):Object(y.jsx)("img",{src:W,alt:""})})]}),Object(y.jsx)("div",{className:m,children:Array.isArray(c.optionsConfigs[t])&&c.optionsConfigs[t].map((function(e,t){return Object(y.jsx)("div",{className:"dropdown-item",onClick:function(){return a(e)},children:Object(y.jsx)(_,{spec:e,version:l,type:r})},t)}))},s)]},s)}function _(e){var t=e.version,c=e.spec;return e.type.isOption?"".concat(c&&c.symbol||"BTCUSD-60000-C"):t.isV1||t.isV2Lite||t.isOpen?"".concat(c&&c.symbol||"BTCUSD"," / ").concat(c&&c.bTokenSymbol||"BUSD"," (10X)"):"".concat(c&&c.symbol||"BTCUSD"," (10X)")}var $=Object(p.b)("trading","version","loading","type")(Object(p.c)((function(e){var t=e.trading,c=e.version,a=e.loading,s=e.type,l=Object(i.useState)(!1),r=Object(n.a)(l,2),o=r[0],j=r[1],b=d()("dropdown-menu",{show:o}),u=function(e){e&&(a.loading(),t.pause(),t.onSymbolChange(e,(function(){return a.loaded()}),s.isOption),j(!1))};return Object(i.useEffect)((function(){var e=function(e){document.querySelector(".btn-group")&&!document.querySelector(".btn-group").contains(e.target)&&j(!1)};return document.body.addEventListener("click",e),function(){document.body.removeEventListener("click",e)}}),[]),Object(y.jsxs)("div",{className:"btn-group check-baseToken-btn",children:[Object(y.jsxs)("button",{type:"button",onClick:function(e){e.preventDefault(),j(!o)},className:"btn chec",children:[Object(y.jsx)(_,{spec:t.config,version:c,type:s}),Object(y.jsx)("span",{className:"check-base-down",children:o?Object(y.jsx)("img",{src:K,alt:""}):Object(y.jsx)("img",{src:W,alt:""})})]}),Object(y.jsx)("div",{className:b,children:s.isFuture?t.configs.map((function(e,t){return Object(y.jsx)("div",{className:"dropdown-item",onClick:function(t){return u(e)},children:Object(y.jsx)(_,{spec:e,version:c,type:s})},t)})):Object.keys(t.optionsConfigs).map((function(e,n){return Object(y.jsx)(X,{index:n,symbol:e,trading:t,onSelect:u,version:c,type:s},n)}))})]})}))),ee=Object(b.a)((function(e){var t=e.wallet,c=e.spec,a=e.onClose,s=e.direction,j=e.volume,d=e.position,b=void 0===d?0:d,u=e.indexPrice,m=e.leverage,O=e.transFee,A=e.afterTrade,p=e.lang,x=e.markPriceAfter,f=e.trading,g=Object(i.useState)(!1),h=Object(n.a)(g,2),v=h[0],N=h[1],w=function(){var e=Object(r.a)(l.a.mark((function e(){var n,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),j=V.a.isOption?Object(o.g)(j).div(Object(o.g)(f.contract.multiplier)).toString():j,j="long"===s?j:-+j,e.next=5,Object(o.qb)(t.detail.chainId,c.pool,t.detail.account,j,c.symbolId);case 5:(n=e.sent).success?(A(),a()):(i="string"===typeof n.error?n.error:n.error.errorMessage||n.error.message,alert(i)),N(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){v||a()},S="long"===s?Object(o.g)(j).plus(Object(o.g)(b)).toString():Object(o.g)(b).minus(Object(o.g)(j)).toString();return Object(y.jsx)("div",{className:"modal-dialog",children:Object(y.jsxs)("div",{className:"modal-content",children:[Object(y.jsxs)("div",{className:"modal-header",children:[Object(y.jsx)("div",{className:"title",children:p.confirm}),Object(y.jsx)("div",{className:"close","data-dismiss":"modal",onClick:k,children:Object(y.jsx)("span",{children:"\xd7"})})]}),Object(y.jsx)("div",{className:"modal-body",children:Object(y.jsxs)("div",{className:"contract-box-info",children:[Object(y.jsxs)("div",{className:"top",children:[Object(y.jsxs)("div",{className:"text",children:[Object(y.jsxs)("div",{className:"text-title",children:["# ",p["of-contracts"]]}),Object(y.jsx)("div",{className:"text-num",children:"long"===s?j:"-".concat(j)})]}),Object(y.jsxs)("div",{className:"text",children:[Object(y.jsx)("div",{className:"text-title",children:p["position-after-execution"]}),Object(y.jsx)("div",{className:"text-num",children:S})]}),Object(y.jsxs)("div",{className:"text",children:[Object(y.jsx)("div",{className:"text-title",children:p.direction}),Object(y.jsx)("div",{className:"text-num",children:Object(y.jsx)("span",{className:s,children:p[s.toLowerCase()]})})]}),V.a.isFuture&&Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"text",children:[Object(y.jsx)("div",{className:"text-title",children:p["trade-price-estimated"]}),Object(y.jsx)("div",{className:"text-num",children:Object(y.jsx)(Q.a,{value:u,decimalScale:2,displayType:"text"})})]})}),V.a.isOption&&Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"text",children:[Object(y.jsx)("div",{className:"text-title",children:p["trade-price"]}),Object(y.jsx)("div",{className:"text-num",children:Object(y.jsx)(Q.a,{value:x,decimalScale:2,displayType:"text"})})]})}),V.a.isFuture&&Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"text",children:[Object(y.jsx)("div",{className:"text-title",children:p["leverage-after-execution"]}),Object(y.jsxs)("div",{className:"text-num",children:[m,"X"]})]})}),Object(y.jsxs)("div",{className:"text",children:[Object(y.jsx)("div",{className:"text-title",children:p["transaction-fee"]}),Object(y.jsx)("div",{className:"text-num",children:Object(y.jsx)(Q.a,{value:O,decimalScale:2,suffix:" ".concat(c.bTokenSymbol),displayType:"text"})})]})]}),Object(y.jsx)("div",{className:"modal-footer",children:Object(y.jsxs)("div",{className:"long-btn","v-if":"confirm",children:[Object(y.jsx)("button",{className:"cancel",onClick:k,children:p.cancel}),Object(y.jsx)(U.a,{className:"confirm",btnText:p.ok,click:w,lang:p})]})})]})})]})})})),te=Object(b.a)(u.a),ce=Object(b.a)(x.a);function ne(e){var t=e.hasConnectWallet,c=e.wallet,a=e.spec,s=e.volume,j=e.available,d=e.baseToken,b=e.leverage,u=e.indexPrice,m=e.position,O=e.transFee,A=e.afterTrade,p=e.direction,x=e.trading,f=e.version,g=e.lang,h=e.type,v=e.markPriceAfter,N=Object(i.useState)(!0),w=Object(n.a)(N,2),k=w[0],S=w[1],C=Object(i.useState)(!0),D=Object(n.a)(C,2),I=D[0],B=D[1],M=Object(i.useState)(!1),Q=Object(n.a)(M,2),E=Q[0],T=Q[1],F=Object(i.useState)(!1),R=Object(n.a)(F,2),P=R[0],Y=R[1],J=Object(i.useState)(""),G=Object(n.a)(J,2),H=G[0],L=G[1],z=function(){var e=Object(r.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.approve(a.pool,a.bTokenId);case 2:e.sent.success?(S(!0),V()):(S(!1),alert(g["approve-failed"]));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(r.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x.refresh(),Y(!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){x.refresh(),Y(!1)},V=function(){var e=Object(r.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t()||!a){e.next=5;break}return e.next=3,c.isApproved(a.pool,a.bTokenId);case 3:n=e.sent,S(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(r.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.isConnected()||!a){e.next=5;break}return e.next=3,Object(o.W)(c.detail.chainId,a.pool,c.detail.account,a.bTokenId).catch((function(e){return console.error("getWalletBalance was error,maybe network is Wrong")}));case 3:(t=e.sent)&&L(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){return t()&&a&&W(),function(){}}),[c.detail.account,a,j]),Object(i.useEffect)((function(){return B(!s),function(){}}),[s]),Object(i.useEffect)((function(){return a&&V(),function(){}}),[c.detail.isApproved,a]);var K=Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(ee,{wallet:c,className:"trading-dialog",spec:a,modalIsOpen:E,onClose:function(){return T(!1)},leverage:b,baseToken:d,volume:s,position:m.volume,indexPrice:u,transFee:O,afterTrade:A,direction:p,lang:g,markPriceAfter:v,trading:x}),Object(y.jsx)("button",{className:"short-submit",onClick:function(){return T(!0)},children:g.trade})]});return t()?k?!j||+j<=0?K=Object(y.jsxs)(y.Fragment,{children:[f.isV2&&!h.isOption?Object(y.jsx)(ce,{wallet:c,modalIsOpen:P,onClose:Z,spec:a,afterDepositAndWithdraw:Z,position:x.position,overlay:{background:"#1b1c22",top:80},className:"balance-list-dialog",lang:g}):Object(y.jsx)(te,{wallet:c,modalIsOpen:P,onClose:function(){return Y(!1)},spec:a,balance:H,afterDeposit:q,className:"trading-dialog",lang:g}),Object(y.jsx)("div",{className:"noMargin-text",children:0!==+x.position.margin&&x.position.margin?g["not-enough-margin-tip"]:g["no-margin-tip"]}),Object(y.jsx)("button",{className:"short-submit",onClick:function(){return Y(!0)},children:g.deposit})]}):I&&(K=Object(y.jsx)("button",{className:"btn btn-danger short-submit",children:g["enter-volume"]})):K=Object(y.jsx)(U.a,{className:"approve",btnText:g.approve,click:z,lang:g}):K=Object(y.jsx)(U.a,{className:"btn btn-danger connect",btnText:g["connect-wallet"],click:function(){c.connect()},lang:g}),Object(y.jsx)("div",{className:"submit-btn",children:K})}var ie=Object(p.b)("wallet","trading","version","type")(Object(p.c)((function(e){var t=e.wallet,c=void 0===t?{}:t,a=e.trading,s=e.version,j=e.lang,b=e.type,u=Object(i.useState)("long"),m=Object(n.a)(u,2),A=m[0],p=m[1],x=Object(i.useState)(),f=Object(n.a)(x,2),g=f[0],h=f[1],v=Object(i.useState)({}),N=Object(n.a)(v,2),k=N[0],S=N[1],C=Object(i.useState)(""),D=Object(n.a)(C,2),I=D[0],B=D[1],M=Object(i.useState)(""),Q=Object(n.a)(M,2),E=Q[0],T=Q[1],F=Object(i.useState)(""),R=Object(n.a)(F,2),P=R[0],Y=R[1],J=Object(i.useState)(""),G=Object(n.a)(J,2),H=G[0],L=G[1],z=Object(i.useState)({}),q=Object(n.a)(z,2),U=q[0],V=q[1],W=Object(i.useState)("rise"),K=Object(n.a)(W,2),X=K[0],_=K[1],ee=Object(i.useState)("rise"),te=Object(n.a)(ee,2),ce=te[0],ie=te[1],ae=Object(i.useState)("0.000"),se=Object(n.a)(ae,2),le=se[0],re=se[1],oe=Object(i.useState)(!0),je=Object(n.a)(oe,2),de=je[0],be=je[1],ue=Object(i.useState)(!1),me=Object(n.a)(ue,2),Oe=me[0],Ae=me[1],pe=Object(i.useState)(!1),xe=Object(n.a)(pe,2),fe=xe[0],ge=xe[1],he=Object(i.useState)(!1),ve=Object(n.a)(he,2),Ne=ve[0],we=ve[1],ye=Object(i.useRef)(),ke=Object(i.useRef)(),Se=d()("checked-long","check-long-short"," long-short",{"checked-short":"short"===A}),Ce=d()("contrant-input",{inputFamliy:""!==a.volume}),De=function(){return c&&c.detail&&c.detail.account},Ie=function(e){a.setVolume(""),p(e)},Be=function(){var e=Object(r.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(De()&&a.config&&a.volumeDisplay)){e.next=6;break}return t=Me(a.volumeDisplay),e.next=4,Object(o.r)(c.detail.chainId,a.config.pool,Math.abs(t),a.config.symbolId);case 4:n=e.sent,isNaN(n)||L((+n).toFixed(2));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Me=function(e){return b.isOption?Object(o.g)(e).div(Object(o.g)(a.contract.multiplier)).toString():e},Qe=function(){var e=Object(r.a)(l.a.mark((function e(){var t,n,i,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(De()&&a.config&&a.volumeDisplay&&b.isFuture)){e.next=10;break}return t=c.detail,n="long"===A?a.volumeDisplay:-a.volumeDisplay,e.next=5,Object(o.y)(t.chainId,a.config.pool,a.config.symbolId);case 5:return i=e.sent,e.next=8,Object(o.u)(t.chainId,a.config.pool,n,a.config.symbolId);case 8:s=e.sent,i&&s&&V({curLiqUsed:i.liquidityUsed0,afterLiqUsed:s.liquidityUsed1});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(r.a)(l.a.mark((function e(){var t,n,i,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(De()&&a.config&&a.volumeDisplay)){e.next=7;break}return t=Me(a.volumeDisplay),n="long"===A?t:-t,e.next=5,Object(o.s)(c.detail.chainId,a.config.pool,n,a.config.symbolId);case 5:(i=e.sent)&&(s=b.isOption?i.deltaFunding1:i.fundingRate1,B(s));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Te=function(){var e=Object(r.a)(l.a.mark((function e(){var t,n,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(De()&&a.config&&a.volumeDisplay)){e.next=7;break}return t=Me(a.volumeDisplay),n="long"===A?t:-t,e.next=5,Object(o.v)(c.detail.chainId,a.config.pool,n,a.config.symbolId);case 5:(i=e.sent)&&T(i);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(r.a)(l.a.mark((function e(){var t,n,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(De()&&a.config&&a.volumeDisplay)){e.next=7;break}return t=Me(a.volumeDisplay),n="long"===A?t:-t,e.next=5,Object(o.t)(c.detail.chainId,a.config.pool,c.detail.account,n,a.config.symbolId);case 5:(i=e.sent)&&Y(i);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Re=function(e){e.target.setAttribute("class","contrant-input inputFamliy")},Pe=function(e){b.isOption?46!==e.which&&(e.which<48||e.which>57)&&e.preventDefault():b.isFuture&&(e.which<48||e.which>57)&&e.preventDefault()},Ye=function(e){var t=e.target.value;"0"===t&&b.isFuture&&(t=""),a.setVolume(t),Ae(!0)},Je=function(e){var t=e.target;if(b.isOption){var c=a.contract.multiplier.indexOf("."),n=a.contract.multiplier.slice(c).length,i=t.value;-1!==t.value.indexOf(".")&&(i=t.value.substring(0,t.value.indexOf(".")+n),ge(0===+(i="0"===i?"":i))),a.setVolume(i)}""===t.value&&t.setAttribute("class","contrant-input")};return Object(i.useEffect)((function(){var e;return a.position&&a.position.volume&&(e=+a.position.volume,p(e>=0?"long":"short")),function(){}}),[a.position.volume]),Object(i.useEffect)((function(){return Ne||""===a.volumeDisplay?c.detail.account&&a.resume():(a.pause(),Ee(),b.isOption&&Te(),Qe(),Be(),Fe()),function(){}}),[a.volumeDisplay,Ne]),Object(i.useEffect)((function(){if(ye.current>a.index?_("fall"):_("rise"),ye.current=a.index,a.index){var e=a.index.toLocaleString(void 0,{minimumFractionDigits:2}),t=a.config&&a.config.symbol.split("-")[0];document.querySelector("head title").innerText="$".concat(e," ").concat(t,".deri")}return function(){document.querySelector("head title").innerText="deri"}}),[a.index,a.config]),Object(i.useEffect)((function(){if(b.isOption){var e=a.position.markPrice;ke.current>e?ie("fall"):ie("rise"),ke.current=e,h(e)}}),[a.index,a.position]),Object(i.useEffect)((function(){return a.config&&S(a.config),function(){}}),[a.config]),Object(i.useEffect)((function(){return a.margin&&a.direction&&p(a.direction),function(){}}),[a.margin]),Object(i.useEffect)((function(){var e="0.000";"0.0001"===a.contract.multiplier?e="0.0000":"0.001"===a.contract.multiplier?e="0.000":"0.01"===a.contract.multiplier?e="0.00":"0.1"===a.contract.multiplier?e="0.0":"1"===a.contract.multiplier&&(e="0"),re(e)}),[a.contract]),Object(i.useEffect)((function(){return a.index&&c.isConnected()&&c.supportChain&&be(!1),function(){}}),[c.detail.account,a.index]),Object(i.useEffect)((function(){return Oe||(a.position.volume>0?a.volume<0?p("short"):p("long"):a.position.volume<0&&(a.volume>0?p("short"):p("long"))),function(){}}),[a.volume,Oe]),Object(i.useEffect)((function(){return a.setUserSelectedDirection(A),function(){}}),[A]),Object(y.jsx)("div",{className:"trade-info",children:Object(y.jsxs)("div",{className:"trade-peration",children:[Object(y.jsxs)("div",{className:"check-baseToken",children:[Object(y.jsx)($,{setSpec:S,spec:a.config,isOption:b.isOption}),Object(y.jsxs)("div",{className:b.isOption?"price-fundingRate pc options":"price-fundingRate pc",children:[b.isFuture&&Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"index-prcie",children:[j["index-price"],": ",Object(y.jsxs)("span",{className:X,children:["\xa0 ",Object(y.jsx)(O.a,{value:a.index,decimalScale:2})]})]})}),b.isOption&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"mark-price",children:[j["eo-mark-price"]," : ",Object(y.jsxs)("span",{className:ce,children:["\xa0 ",Object(y.jsx)(O.a,{value:g,decimalScale:4})]})]}),Object(y.jsxs)("div",{className:"index-prcie",children:[a.config&&b.isOption?a.config.symbol.split("-")[0]:""," : ",Object(y.jsxs)("span",{className:"option-vol",children:["\xa0 ",Object(y.jsxs)("span",{children:[" ",Object(y.jsx)(O.a,{value:a.index,decimalScale:2})]}),Object(y.jsx)("span",{className:"vol",children:" | "}),j.vol," : ",Object(y.jsx)(O.a,{value:a.position.volatility,decimalScale:2,suffix:"%"})]})]})]}),Object(y.jsxs)("div",{className:"funding-rate",children:[b.isOption&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("span",{children:[j["funding-rate"]," : \xa0"]}),Object(y.jsx)(w.a,{block:!1,tip:a.optionFundingRateTip,children:Object(y.jsx)("span",{className:"funding-per",tip:a.optionFundingRateTip||"",children:Object(y.jsx)(O.a,{value:a.fundingRate.premiumFunding0,decimalScale:4})})})]}),b.isFuture&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("span",{children:[j["funding-rate-annual"]," : \xa0"]}),Object(y.jsx)(w.a,{block:!1,tip:a.fundingRateTip,children:Object(y.jsx)("span",{className:"funding-per",tip:a.fundingRateTip||"",children:Object(y.jsx)(O.a,{value:a.fundingRate.fundingRate0,decimalScale:4,suffix:"%"})})})]})]})]}),Object(y.jsxs)("div",{className:b.isOption?"price-fundingRate mobile options":"price-fundingRate mobile",children:[b.isFuture&&Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"index-prcie",children:[j.index,": ",Object(y.jsxs)("span",{className:X,children:["\xa0 ",Object(y.jsx)(O.a,{value:a.index,decimalScale:2})]})]})}),b.isOption&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"mark-price",children:[j["eo-mark-price"]," : ",Object(y.jsxs)("span",{className:ce,children:["\xa0 ",Object(y.jsx)(O.a,{value:g,decimalScale:2})]})]}),Object(y.jsxs)("div",{className:"index-prcie",children:[a.config&&b.isOption?a.config.symbol.split("-")[0]:"",": ",Object(y.jsxs)("span",{className:X,children:["\xa0 ",Object(y.jsx)(O.a,{value:a.index,decimalScale:2})]})]}),Object(y.jsxs)("div",{className:"index-prcie",children:[j.vol,": ",Object(y.jsx)(O.a,{value:a.position.volatility,decimalScale:2})]})]}),Object(y.jsxs)("div",{className:"funding-rate",children:[b.isOption&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("span",{children:[j["funding-rate"]," : \xa0"]}),Object(y.jsx)(w.a,{block:!1,children:Object(y.jsx)("span",{className:"funding-per",tip:a.optionFundingRateTip||"",children:Object(y.jsx)(O.a,{value:a.fundingRate.premiumFunding0,decimalScale:4})})})]}),b.isFuture&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("span",{children:[j["funding-rate-annual"]," : \xa0"]}),Object(y.jsx)(w.a,{block:!1,children:Object(y.jsx)("span",{className:"funding-per",tip:a.fundingRateTip||"",children:Object(y.jsx)(O.a,{value:a.fundingRate.fundingRate0,decimalScale:4,suffix:"%"})})})]})]})]})]}),Object(y.jsxs)("div",{className:Se,children:[Object(y.jsx)("div",{className:"check-long",onClick:function(){return Ie("long")},children:j["long-buy"]}),Object(y.jsx)("div",{className:"check-short",onClick:function(){return Ie("short")},children:j["short-sell"]})]}),Object(y.jsxs)("div",{className:"the-input",children:[Object(y.jsxs)("div",{className:"left",children:[Object(y.jsxs)("div",{className:"current-position",children:[Object(y.jsx)("span",{children:j["current-position"]}),Object(y.jsx)("span",{className:"position-text",children:Object(y.jsx)(O.a,{value:a.position.volume,allowZero:!0})})]}),b.isFuture&&Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"contrant",children:[Object(y.jsx)("input",{type:"number",onFocus:Re,onBlur:Je,onKeyPress:Pe,disabled:!a.index||0===Math.abs(a.position.margin),onChange:function(e){return Ye(e)},value:a.volumeDisplay,className:Ce,placeholder:j["contract-volume"]}),Object(y.jsx)("div",{className:"title-volume",children:j["contract-volume"]})]})}),b.isOption&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"contrant option-input",children:[Object(y.jsx)("input",{type:"number",step:a.contract.multiplier,onFocus:Re,onBlur:Je,onKeyPress:Pe,disabled:!a.index||0===Math.abs(a.position.margin),onChange:function(e){return Ye(e)},value:a.volumeDisplay,className:Ce,placeholder:le}),Object(y.jsx)("div",{className:"option-unit",children:a.config&&a.config.unit})]}),fe&&Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"min-quantity",children:[j["option-input-min-quantity"],"\xa0 ",a.contract.multiplier," \xa0",a.config&&a.config.unit]})})]}),!!a.volumeDisplay&&b.isFuture&&Object(y.jsx)("div",{className:"btc",children:Object(y.jsx)(O.a,{value:a.amount.exchanged,allowNegative:!1,decimalScale:4,prefix:"= ",suffix:" ".concat(k.unit)})})]}),Object(y.jsx)("div",{className:"right-info",children:Object(y.jsxs)("div",{className:"contrant-info ".concat(s.current),children:[Object(y.jsxs)("div",{className:"balance-contract",children:[s.isV1&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("span",{className:"balance-contract-text pc v1",children:[j["balance-in-contract"],Object(y.jsx)("br",{}),"(",j["dynamic-balance"],")"]}),Object(y.jsxs)("span",{className:"balance-contract-text mobile v1",children:[j["balance-in-contract"],Object(y.jsx)("br",{}),"(",j["dynamic-balance"],")"]})]}),(s.isV2||s.isV2Lite||b.isOption||s.isOpen)&&Object(y.jsxs)(w.a,{block:!1,children:[Object(y.jsx)("span",{className:"balance-contract-text pc",tip:j["dynamic-effective-balance-title"],children:j["dynamic-effective-balance"]}),Object(y.jsx)("span",{className:"balance-contract-text mobile",tip:j["dynamic-effective-balance-title"],children:j["dynamic-effective-balance"]})]}),Object(y.jsx)("span",{className:"balance-contract-num ".concat(s.current),children:Object(y.jsx)(O.a,{value:a.amount.dynBalance,allowZero:!0,decimalScale:2})})]}),s.isV1&&Object(y.jsxs)("div",{className:"box-margin",children:[Object(y.jsx)("span",{children:j.margin}),Object(y.jsx)("span",{className:"margin",children:Object(y.jsx)(O.a,{value:a.amount.margin,allowZero:!0,decimalScale:2})})]}),(s.isV2||s.isV2Lite||b.isOption||s.isOpen)&&Object(y.jsxs)(w.a,{block:!1,children:[Object(y.jsx)("div",{className:"box-margin",children:j.margin}),Object(y.jsxs)("div",{className:"box-margin",children:[Object(y.jsxs)("span",{className:"total-held",tip:j["total-held-title"],children:["\xa0- ",j["total-held"]]}),Object(y.jsx)("span",{className:"margin",children:Object(y.jsx)(O.a,{value:a.amount.margin,allowZero:!0,decimalScale:2})})]}),Object(y.jsxs)("div",{className:"margin-held-pos",children:[Object(y.jsxs)("span",{className:"pos-held",tip:j["for-this-pos-title"],children:["\xa0- ",j["for-this-pos"]," "]}),Object(y.jsx)("span",{className:"margin",children:Object(y.jsx)(O.a,{value:a.amount.currentSymbolMarginHeld,allowZero:!0,decimalScale:2})})]})]}),Object(y.jsx)(w.a,{block:!0,children:Object(y.jsxs)("div",{className:"available-balance",children:[Object(y.jsxs)("span",{className:"pc",tip:j["available-balance-title"],children:[" ",j["available-balance"]," "]}),Object(y.jsx)("span",{className:"mobile",tip:j["available-balance-title"],children:j["available-balance"]}),Object(y.jsx)("span",{className:"available-balance-num",children:Object(y.jsx)(O.a,{value:a.amount.available,allowZero:!0,decimalScale:2})})]})})]})})]}),Object(y.jsx)("div",{className:"slider mt-13",children:Object(y.jsx)(Z,{max:a.amount.dynBalance,onValueChange:function(e,t){a.setSlideMargin(e),Ae(!1),t&&p("long"===A?"short":"long")},start:a.amount.margin,freeze:de,currentSymbolMarginHeld:a.position.marginHeldBySymbol,originMarginHeld:a.position.marginHeld,setStopCalculate:function(e){return we(e)}})}),Object(y.jsx)("div",{className:"title-margin",children:j.margin}),Object(y.jsx)("div",{className:"enterInfo",children:!!a.volumeDisplay&&Object(y.jsxs)(y.Fragment,{children:[b.isFuture&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"text-info",children:[Object(y.jsx)("div",{className:"title-enter pool",children:j["trade-price"]}),Object(y.jsx)("div",{className:"text-enter poolL",children:Object(y.jsx)(O.a,{value:a.index,decimalScale:4})})]}),Object(y.jsxs)("div",{className:"text-info",children:[Object(y.jsx)("div",{className:"title-enter pool",children:j["pool-liquidity"]}),Object(y.jsx)("div",{className:"text-enter poolL",children:Object(y.jsx)(O.a,{value:a.fundingRate.liquidity,decimalScale:2,suffix:" ".concat(k.bTokenSymbol)})})]}),Object(y.jsxs)("div",{className:"text-info",children:[Object(y.jsx)("div",{className:"title-enter",children:j["liquidity-used"]}),Object(y.jsxs)("div",{className:"text-enter",children:[Object(y.jsx)(O.a,{value:U.curLiqUsed,suffix:"%",decimalScale:2})," -> ",Object(y.jsx)(O.a,{value:U.afterLiqUsed,decimalScale:2,suffix:"%"})]})]}),Object(y.jsxs)("div",{className:"text-info",children:[Object(y.jsx)("div",{className:"title-enter",children:j["funding-rate-impact"]}),Object(y.jsxs)("div",{className:"text-enter",children:[Object(y.jsx)(O.a,{value:a.fundingRate.fundingRate0,suffix:"%",decimalScale:4})," -> ",Object(y.jsx)(O.a,{value:I,decimalScale:4,suffix:"%"})]})]})]}),b.isOption&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"text-info",children:[Object(y.jsx)("div",{className:"title-enter pool",children:j["mark-price"]}),Object(y.jsx)("div",{className:"text-enter poolL",children:Object(y.jsx)(O.a,{value:g,decimalScale:4})})]}),Object(y.jsxs)("div",{className:"text-info",children:[Object(y.jsx)("div",{className:"title-enter pool",children:j["trade-price"]}),Object(y.jsx)("div",{className:"text-enter poolL",children:Object(y.jsx)(O.a,{value:E,decimalScale:4})})]}),Object(y.jsxs)("div",{className:"text-info",children:[Object(y.jsx)("div",{className:"title-enter pool",children:j["pool-liquidity"]}),Object(y.jsx)("div",{className:"text-enter poolL",children:Object(y.jsx)(O.a,{value:a.fundingRate.liquidity,thousandSeparator:!0,decimalScale:2,suffix:" ".concat(a.config.bTokenSymbol)})})]})]}),Object(y.jsxs)("div",{className:"text-info",children:[Object(y.jsx)("div",{className:"title-enter",children:j["transaction-fee"]}),Object(y.jsx)("div",{className:"text-enter",children:Object(y.jsx)(O.a,{value:H,allowZero:!0,decimalScale:2,suffix:" ".concat(a.config.bTokenSymbol)})})]}),b.isFuture&&Object(y.jsxs)("div",{className:"text-info",children:[Object(y.jsx)("div",{className:"title-enter",children:j["liquidation-price"]}),Object(y.jsx)("div",{className:"text-enter",children:P>0?Object(y.jsx)(O.a,{value:P,decimalScale:2}):"--"})]})]})}),Object(y.jsx)(ne,{hasConnectWallet:De,transFee:H,wallet:c,spec:a.config,indexPrice:a.index,available:a.amount.available,volume:a.volumeDisplay,direction:A,leverage:a.amount.leverage,afterTrade:function(){a.setVolume(""),a.refresh(),c.refresh()},position:a.position,trading:a,version:s,lang:j,type:b,markPriceAfter:E})]})})})));t.a=Object(p.b)("wallet","trading","loading","version","type")(Object(p.c)((function(e){var t=e.wallet,c=e.trading,a=e.isPro,s=e.lang,l=e.loading,r=e.version,o=(e.type,Object(i.useState)("trade")),j=Object(n.a)(o,2),b=j[0],u=j[1],m=function(e){return u(e)},O=d()("trade-position",b);return Object(i.useEffect)((function(){return t.detail.account&&(l.loading(),c.init(t,(function(){l.loaded()}))),function(){c.clean()}}),[t.detail.account,r.current]),Object(y.jsxs)("div",{className:O,children:[Object(y.jsx)("div",{className:"header-top",children:Object(y.jsxs)("div",{className:"header",children:[Object(y.jsx)("span",{className:"trade",onClick:function(){return m("trade")},children:s.trade}),!a&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:"pc position",onClick:function(){return m("position")},children:s["my-position"]}),Object(y.jsx)("span",{className:"mobile position",onClick:function(){return m("position")},children:s["my-position"]}),Object(y.jsx)("span",{className:"history",onClick:function(){return m("history")},children:s.history})]})]})}),Object(y.jsx)(ie,{lang:s}),Object(y.jsx)(I,{lang:s}),Object(y.jsx)(P,{wallet:t,spec:c.config,specs:c.configs,lang:s}),Object(y.jsx)(J,{lang:s})]})})))},863:function(e,t,c){},864:function(e,t,c){}}]);
//# sourceMappingURL=4.8e0f1fe7.chunk.js.map