{"version":3,"sources":["components/Broker/Broker.js","components/Button/Button.js","utils/DeriNumberFormat.js","../node_modules/date-format/lib/index.js","assets/img/play-button.png","hooks/useClaimInfo.js"],"names":["config","DeriEnv","get","inject","observer","wallet","lang","loading","useClaimInfo","claimInfo","claimInfoInterval","useConfig","chainId","useState","firstDeri","setFirstDeri","secondDeri","setSecondDeri","thirdDeri","setThirdDeri","yourDeri","setYourDeri","yourRank","setYourRank","sumPage","setSumPage","currentPage","setCurrentPage","totList","setTotList","claimed","setClaimed","list","setList","remainingTime","setRemainingTime","rewardList","a","path","detail","account","fetchRestApi","res","data","map","item","obj","address","trader_address","trader_volume","deri_reward","trader_invite_timestamp","slice","length","useEffect","loaded","brokerEpoch","topList","rank","totalReward","hasOwnProperty","mintDeri","unclaimed","alert","eqInNumber","text","parseInt","Date","now","mintDToken","success","clearInterval","click","isConnected","sum_page","Math","ceil","intervalEpoch","window","setInterval","interval","period","current","dis","h","m","s","className","value","displayType","thousandSeparator","decimalScale","target","href","tip","toFixed","btnText","index","dateFormat","asString","onClick","page","xmlns","width","height","viewBox","id","data-name","d","transform","fill","Button","disabled","afterClick","checkApprove","spec","status","setStatus","isApproved","setIsApproved","pending","setPending","buttonText","setbuttonText","loadRef","useRef","beforeAction","afterAction","style","display","loadApproveStatus","pool","bTokenId","approve","ref","marginRight","props","renderablity","setRenderablity","isValidate","allowZero","undefined","isNaN","abs","defaultValue","others","fixedDecimalScale","timeout","setTimeout","clearTimeout","padWithZeros","vNumber","numAsString","toString","addZero","format","date","module","exports","ISO8601_FORMAT","vDay","getDate","vMonth","getMonth","vYearLong","getFullYear","vYearShort","substring","vYear","indexOf","vHour","getHours","vMinute","getMinutes","vSecond","getSeconds","vMillisecond","getMilliseconds","vTimeZone","timezoneOffset","os","String","floor","offset","getTimezoneOffset","replace","setDatePart","part","local","parse","pattern","str","missingValuesDate","Error","matchers","regexp","fn","setUTCMinutes","getUTCMinutes","parsedPattern","reduce","p","test","match","dateFns","filter","sort","b","matches","RegExp","exec","forEach","f","i","extractDateParts","ISO8601_WITH_TZ_OFFSET_FORMAT","DATETIME_FORMAT","ABSOLUTETIME_FORMAT","setClaimInfo","loadClaimInfo","getUserInfoAll","total","valid","amount","harvestDeriLp","lp","harvestDeriTrade","trade"],"mappings":"wRAgBoBA,EAAOC,IAAQC,OAAf,UA6WLC,gBAAO,SAAS,UAAhBA,CAA2BC,aA5W1C,YAAgD,IAAD,IAA7BC,cAA6B,MAApB,GAAoB,EAAhBC,EAAgB,EAAhBA,KAAMC,EAAU,EAAVA,QAAU,EACNC,YAAaH,GADP,mBACtCI,EADsC,KAC3BC,EAD2B,KAEvCV,EAASW,YAAUF,EAAUG,SAFU,EAGXC,mBAAS,MAHE,mBAGtCC,EAHsC,KAG3BC,EAH2B,OAITF,mBAAS,MAJA,mBAItCG,EAJsC,KAI1BC,EAJ0B,OAKXJ,mBAAS,MALE,mBAKtCK,EALsC,KAK3BC,EAL2B,OAMbN,mBAAS,MANI,mBAMtCO,EANsC,KAM5BC,EAN4B,OAObR,mBAAS,MAPI,mBAOtCS,EAPsC,KAO5BC,EAP4B,OAQfV,mBAAS,GARM,mBAQtCW,EARsC,KAQ7BC,EAR6B,OASPZ,mBAAS,GATF,mBAStCa,EATsC,KASzBC,EATyB,OAUfd,mBAAS,IAVM,mBAUtCe,EAVsC,KAU7BC,EAV6B,QAWfhB,oBAAS,GAXM,qBAWtCiB,GAXsC,MAW7BC,GAX6B,SAYrBlB,mBAAS,IAZY,qBAYtCmB,GAZsC,MAYhCC,GAZgC,SAaHpB,mBAAS,IAbN,qBAatCqB,GAbsC,MAavBC,GAbuB,SAcZtB,oBAAS,GAdG,qBAiBvCuB,IAjBuC,YAiB7B,uCAAG,gCAAAC,EAAA,6DACbC,EADa,kBACKjC,EAAOkC,OAAOC,QADnB,yBAEDC,YAAaH,GAFZ,QAEbI,EAFa,QAGTC,OACFA,EAAOD,EAAIC,KAAKC,KAAI,SAAAC,GACtB,IAAIC,EAAM,GAQV,OAPAA,EAAIC,QAAUF,EAAKG,eACnBF,EAAIG,cAAgBJ,EAAKI,cACzBH,EAAII,YAAcL,EAAKK,YACvBJ,EAAIK,wBAAyD,IAA/BN,EAAKM,wBACnCL,EAAIE,eAAiBH,EAAKG,eAAeI,MAAM,EAAG,GAChD,MACAP,EAAKG,eAAeI,MAAMP,EAAKG,eAAeK,OAAS,EAAGR,EAAKG,eAAeK,QACzEP,KAETjB,EAAWc,IAfI,2CAAH,sDAmBhBW,qBAAU,WACR/C,EAAQA,UAOM,MAAXO,GAA+B,MAAZE,GAA+B,MAAXE,GAA6B,MAAVE,GAA4B,MAAVE,GAAkBU,GAAKqB,OAAO,GAAI5C,EAAUqB,SACzHvB,EAAQgD,WAEV,CAACzC,EAAUE,EAAWE,EAAUE,EAASE,EAASU,GAAKvB,IAEzD,IAAM+C,GAAW,uCAAG,8BAAAnB,EAAA,6DACdC,EADc,kBACIjC,EAAOkC,OAAOC,QADlB,8BAEFC,YAAaH,GAFX,QAEdI,EAFc,QAGXC,MACLtB,EAAYqB,EAAIC,KAAKO,aAJL,2CAAH,qDAUXO,GAAO,uCAAG,4BAAApB,EAAA,4DACH,2BADG,SAEEI,YADL,4BADG,QAEVC,EAFU,QAGNC,OACHD,EAAIC,KAAKU,OACVX,EAAIC,KAAKC,KAAI,SAAAC,GACO,IAAdA,EAAKa,KACP3C,EAAa8B,EAAKK,aACK,IAAdL,EAAKa,KACdzC,EAAc4B,EAAKK,aACI,IAAdL,EAAKa,MACdvC,EAAa0B,EAAKK,iBAItBnC,EAAa,GACbE,EAAc,GACdE,EAAa,KAjBH,2CAAH,qDAsBPwC,GAAW,uCAAG,8BAAAtB,EAAA,6DACdC,EADc,kBACIjC,EAAOkC,OAAOC,QADlB,0BAEFC,YAAaH,GAFX,QAEdI,EAFc,QAGVC,OACFD,EAAIC,KAAKiB,eAAe,eAC1BrC,EAAYmB,EAAIC,KAAKe,MAErBnC,EAAY,SAPE,2CAAH,qDAYXsC,GAAQ,uCAAG,sBAAAxB,EAAA,yDACgB,KAAzB5B,EAAUqD,UADD,uBAEbC,MAAMzD,EAAK,qBAFE,6BAKV0D,YAAW3D,EAAOkC,OAAO3B,QAASH,EAAUG,SALlC,uBAMbmD,MAAM,GAAD,OAAIzD,EAAK,mBAAT,YAA+BN,EAAOiE,KAAtC,aAA+C3D,EAAK,cAApD,YAAqEN,EAAOiE,KAA5E,YAAoF3D,EAAK,YAAzF,MANQ,+BASL4D,SAASC,KAAKC,MAAQ,KAAtB,MACA,MAVK,wBAWbL,MAAMzD,EAAK,oEAXE,4CAcG+D,aAAWhE,EAAOkC,OAAO3B,QAASP,EAAOkC,OAAOC,SAdnD,mBAeP8B,QAfO,wBAgBbC,cAAc7D,GAhBD,mBAiBN,GAjBM,eAmBbqD,MAAMzD,EAAK,iBAnBE,mBAoBN,GApBM,4CAAH,qDAwBRkE,GAAK,uCAAG,sBAAAnC,EAAA,0DACXhC,EAAOoE,cADI,gCAEKZ,KAFL,eAIZ9B,IAAW,GAJC,2CAAH,qDAsEX,OA7CAuB,qBAAU,WACR,GAAI1B,EAAQyB,OAAQ,CAClB,IAAIqB,EAAW9C,EAAQyB,OAAS,GAChCqB,EAAWC,KAAKC,KAAKF,GACrB,IAAI/B,EAAOf,EAAQwB,MAA0B,IAAnB1B,EAAc,GAAuB,GAAdA,GACjDD,EAAWiD,GACXzC,GAAQU,MAGT,CAACtC,EAAOkC,OAAQX,EAASF,IAC5B4B,qBAAU,WAxIqBjD,GAAUA,EAAOkC,QAAUlC,EAAOkC,OAAOC,UA2IpEJ,KACAqB,KACAE,QAED,CAACtD,EAAOkC,SACXe,qBAAU,WACR,IAAIuB,EAEJ,OADAA,EAAgBC,OAAOC,YAAYvB,KAAc,MAC1C,WACLqB,GAAiBN,cAAcM,MAEjC,CAACxE,EAAOkC,OAAOC,UAEjBc,qBAAU,WACV,IAAI0B,EAYF,OAVDA,EAAWF,OAAOC,aAAY,WAC7B,IAAIE,EAAS,MACTC,EAAUhB,SAASC,KAAKC,MAAM,KAE9Be,EADajB,SAASgB,EAAUD,GAAQA,EACpBA,EAASC,EAC7BE,EAAIlB,SAASiB,EAAM,MACnBE,EAAInB,SAAUiB,EAAM,KAAM,IAC1BG,EAAIpB,SAASiB,EAAM,IACvBhD,GAAiB,GAAD,OAAIiD,EAAJ,YAAS9E,EAAI,EAAb,YAAsB+E,EAAtB,YAA2B/E,EAAI,EAA/B,YAAwCgF,EAAxC,YAA6ChF,EAAI,MAChE,KACM,WACL0E,GAAYT,cAAcS,MAG3B,CAAC3E,EAAOkC,OAAOC,UAGhB,sBAAK+C,UAAU,SAAf,UACE,sBAAKA,UAAU,QAAf,UACGjF,EAAK,aACN,uBACCA,EAAK,gBAER,sBAAKiF,UAAU,UAAf,UACE,sBAAKA,UAAU,aAAf,UACE,sBAAKA,UAAU,eAAf,UACE,sBAAKA,UAAU,cAAf,UACE,sBAAKA,UAAU,MAAf,UACE,+BACE,cAAC,IAAD,CAAkBC,MAAO1E,EAAW2E,YAAY,OAAOC,mBAAmB,EAAMC,aAAa,QAFjG,WAKA,sBAAKJ,UAAU,MAAf,iBACOjF,EAAI,cAGb,sBAAKiF,UAAU,gBAAf,UACE,sBAAKA,UAAU,MAAf,UACE,+BACE,cAAC,IAAD,CAAkBC,MAAOtE,EAAWuE,YAAY,OAAOC,mBAAmB,EAAMC,aAAa,QAFjG,YAKA,sBAAKJ,UAAU,MAAf,iBACOjF,EAAI,iBAIf,sBAAKiF,UAAU,gBAAf,UACE,sBAAKA,UAAU,cAAf,UACE,sBAAKA,UAAU,MAAf,UACE,+BACE,cAAC,IAAD,CAAkBC,MAAOxE,EAAYyE,YAAY,OAAOC,mBAAmB,EAAMC,aAAa,QAFlG,WAKA,sBAAKJ,UAAU,MAAf,iBACOjF,EAAI,cAGb,sBAAKiF,UAAU,eAAf,UACE,qBAAKA,UAAU,MAAf,SACE,+BACGjE,MAGL,qBAAKiE,UAAU,MAAf,SACGjF,EAAK,2BAKd,qBAAKiF,UAAU,cAEjB,sBAAKA,UAAU,UAAf,UACE,qBAAKA,UAAU,SAAf,SACGjF,EAAK,oBAER,qBAAKiF,UAAU,UACf,qBAAKA,UAAU,OAAf,SACGjF,EAAK,kBAER,qBAAKiF,UAAU,UACf,qBAAKA,UAAU,OAAf,SACGjF,EAAK,kBAGV,sBAAKiF,UAAU,QAAf,UACE,wBAGA,8BACE,oBAAGK,OAAO,SAASC,KAAK,gKAAxB,UAAyLvF,EAAK,kBAA9L,cAGJ,sBAAKiF,UAAU,aAAf,UACE,qBAAKA,UAAU,SAAf,SACGjF,EAAK,gBAER,sBAAKiF,UAAU,OAAf,UACE,sBAAKA,UAAU,UAAf,UACE,qBAAKA,UAAU,aAAf,SACE,sBAAKA,UAAU,eAAf,UACE,sBAAKA,UAAU,kBAAf,UACE,sBAAOO,IAAKxF,EAAK,mCAAjB,SACGA,EAAK,kCAER,sBAAMiF,UAAU,YAAhB,SACCrD,QAGH,sBAAKqD,UAAU,kBAAf,UACE,sBAAOO,IAAKxF,EAAK,mCAAjB,SACGA,EAAK,uCAER,uBAAMiF,UAAU,YAAhB,UACE,cAAC,IAAD,CAAkBC,QAASpE,GAAU2E,QAAQ,GAAIN,YAAY,OAAOC,mBAAmB,EAAMC,aAAa,MAD5G,eAIF,sBAAKJ,UAAU,gBAAf,UACE,sBAAMA,UAAU,cAAcO,IAAKxF,EAAK,iCAAxC,SACCA,EAAK,kBAEN,sBAAMiF,UAAU,YAAhB,SACGzD,KAAarB,EAAUqB,UAAarB,EAAUqD,WAAYiC,QAAQ,GAAKtF,EAAUqB,aAGtF,sBAAKyD,UAAU,kBAAf,UACE,sBAAMA,UAAU,cAAcO,IAAKxF,EAAK,mCAAxC,SACGA,EAAK,oBAER,sBAAMiF,UAAU,YAAhB,SACEzD,GAAU,IAAMrB,EAAUqD,WAAWiC,QAAQ,aAKrD,qBAAKR,UAAU,SAAf,SACE,cAAC,IAAD,CAAQA,UAAU,MAAMS,QAAS1F,EAAI,MAAWA,KAAMA,EAAMkE,MAAOA,UAGvE,sBAAKe,UAAU,eAAf,UACE,sBAAKA,UAAU,aAAf,UACE,qBAAKA,UAAU,eAAf,SAA+BjF,EAAK,kBACpC,qBAAKiF,UAAU,cAAf,SACGjF,EAAK,iBAER,qBAAKiF,UAAU,eAAf,SAA+BjF,EAAK,kBACpC,qBAAKiF,UAAU,cAAf,SAA8BjF,EAAK,oBAEpC0B,GAAKY,KAAI,SAACZ,EAAMiE,GAAP,OAAiB,sBAAKV,UAAU,WAAf,UACzB,qBAAKA,UAAU,OAAf,SACGW,IAAWC,SAAS,mBAAoB,IAAIhC,KAAKD,SAASlC,EAAKmB,6BAElE,qBAAKoC,UAAU,UAAf,SACCvD,EAAKgB,iBAiBN,qBAAKuC,UAAU,SAAf,SAAyBvD,EAAKiB,gBAC9B,qBAAKsC,UAAU,OAAf,SACE,cAAC,IAAD,CAAkBC,MAAOxD,EAAKkB,YAAauC,YAAY,OAAOC,mBAAmB,EAAMC,aAAa,UAxB9CM,SA4B5D,sBAAKV,UAAU,UAAf,UACE,qBAAKa,QA9NA,WACb,IAAIC,EAAO3E,EACC,GAAR2E,IACFA,GAAQ,GAEV1E,EAAe0E,IAyNP,SAAsB,qBAAKC,MAAM,6BAA6BC,MAAM,MAAMC,OAAO,IAAIC,QAAQ,YAAvE,SACpB,sBAAMC,GAAG,iBAAOC,YAAU,iBAAOC,EAAE,gJAAgJC,UAAU,8BAA8BC,KAAK,aAGlO,sBAAKvB,UAAU,OAAf,UAAuBjF,EAAI,KAA3B,IAAsCoB,EAAtC,IAAoDpB,EAAI,GAAxD,IAAiEkB,KACjE,qBAAK4E,QA3NE,WACf,IAAIC,EAAO3E,EACP2E,EAAO7E,IACT6E,GAAQ,GAEV1E,EAAe0E,IAsNP,SAAwB,qBAAKC,MAAM,6BAA6BC,MAAM,MAAMC,OAAO,IAAIC,QAAQ,YAAvE,SACtB,sBAAMC,GAAG,iBAAOC,YAAU,iBAAOC,EAAE,+IAA+IC,UAAU,8BAA8BC,KAAK,8B,qHClX9N,SAASC,EAAT,GAA6F,IAA5Ef,EAA2E,EAA3EA,QAAQT,EAAmE,EAAnEA,UAAUyB,EAAyD,EAAzDA,SAASxC,EAAgD,EAAhDA,MAAMyC,EAA0C,EAA1CA,WAAWC,EAA+B,EAA/BA,aAAa7G,EAAkB,EAAlBA,OAAO8G,EAAW,EAAXA,KAAK7G,EAAM,EAANA,KAAM,EAC7EO,mBAASmG,EAAW,WAAa,WAD4C,mBAClGI,EADkG,KAC1FC,EAD0F,OAErExG,oBAAS,GAF4D,mBAElGyG,EAFkG,KAEtFC,EAFsF,OAG3E1G,oBAAS,GAHkE,mBAGlG2G,EAHkG,KAGzFC,EAHyF,OAIrE5G,mBAASmF,GAJ4D,mBAIlG0B,EAJkG,KAItFC,EAJsF,KAKnGC,EAAUC,iBAAO,MAEjBzB,EAAO,uCAAG,sBAAA/D,EAAA,yDACA,YAAX+E,EADW,wDAIdU,IAJc,SAKOtD,IALP,eAOZyC,GAAcA,IAEhBc,IATc,2CAAH,qDAYPD,EAAe,WACnBT,EAAU,YACVI,GAAW,GACXG,EAAQ1C,UAAY0C,EAAQ1C,QAAQ8C,MAAMC,QAAU,iBAGhDF,EAAc,WAClBH,EAAQ1C,UAAY0C,EAAQ1C,QAAQ8C,MAAMC,QAAU,QACpDZ,EAAU,WACVI,GAAW,IAGPS,EAAiB,uCAAG,4BAAA7F,EAAA,2DACrB6E,GAAgB7G,GAAUA,EAAOkC,OAAOC,SADnB,gCAEJnC,EAAOiH,WAAWH,EAAKgB,KAAKhB,EAAKiB,UAF7B,OAEhB1F,EAFgB,OAGtB6E,EAAc7E,GAHQ,2CAAH,qDAMjB2F,EAAO,uCAAG,sBAAAhG,EAAA,6DACdyF,IADc,SAEIzH,EAAOgI,QAAQlB,EAAKgB,KAAKhB,EAAKiB,UAFlC,cAGP9D,QACLiD,GAAc,IAEdA,GAAc,GACdxD,MAAMzD,EAAK,oBAEbyH,IATc,2CAAH,qDAiCb,OAbAzE,qBAAU,WAER,OADA4E,IACO,eACN,CAAC7H,EAAO8G,EAAKD,IAEhB5D,qBAAU,WAIR,OAHG0C,GACD2B,EAAc3B,GAET,eAEN,CAACA,IAGF,yBAAQT,UAAWA,EAAWa,QAtBjB,WACVkB,EACDlB,IAEAiC,KAkBF,UACI,sBAAM9C,UAAU,mBAAhB,SACE,sBAAM+C,IAAKV,EACTrC,UAAU,2CACVyC,MAAO,CAACC,QAAU,OAAQM,YAAc,SAGzCf,EAAUlH,EAAI,QAAegH,EAAaI,EAAapH,EAAI,a,sGC9CvDH,gBAAO,SAAS,UAAhBA,CAA2BC,aA7B1C,SAA0BoI,GAAO,IAAD,EACU3H,mBAAS,sBAAM0E,UAAU,kBADnC,mBACvBkD,EADuB,KACTC,EADS,KAGxBC,EAAa,WAAO,IACjBC,EAAaJ,EAAbI,UACP,MAA+B,WAAvB,YAAOJ,EAAMhD,aAAsCqD,IAAhBL,EAAMhD,OAAuC,KAAhBgD,EAAMhD,OAAgC,QAAhBgD,EAAMhD,OACxC,KAAjDsD,MAAMN,EAAMhD,QAAUb,KAAKoE,IAAIP,EAAMhD,UAA+B,IAAdoD,GAoBnE,OAjBAtF,qBAAU,WACiDkF,EAAlDI,UADQ,IACEvI,EAAwCmI,EAAxCnI,OADH,EAC2CmI,EAAjCQ,oBADV,MACyB,KADzB,EACiCC,EADjC,YAC2CT,EAD3C,uCAEXG,IACDD,EAAgB,cAAC,IAAD,2BAAkBO,GAAlB,IAA2BxD,YAAc,OAAQyD,mBAAmB,MAEpFR,EAAgB,sBAAMnD,UAAU,kBAElC,IAAM4D,EAAUrE,OAAOsE,YAAW,WAC5BT,MAAgBtI,GAAWA,EAAOoE,eACpCiE,EAAgBM,KAElB,KACF,OAAO,WACLK,aAAaF,MAEd,CAACX,EAAMhD,QAEHiD,O,iCC5BT,SAASa,EAAaC,EAAShD,GAE7B,IADA,IAAIiD,EAAcD,EAAQE,WACnBD,EAAYnG,OAASkD,GAC1BiD,EAAc,IAAMA,EAEtB,OAAOA,EAGT,SAASE,EAAQH,GACf,OAAOD,EAAaC,EAAS,GAqB/B,SAASpD,EAASwD,EAAQC,GACF,kBAAXD,IACTC,EAAOD,EACPA,EAASE,EAAOC,QAAQC,gBAErBH,IACHA,EAAOC,EAAOC,QAAQ1F,OAOxB,IAAI4F,EAAON,EAAQE,EAAKK,WACpBC,EAASR,EAAQE,EAAKO,WAAa,GACnCC,EAAYV,EAAQE,EAAKS,eACzBC,EAAaZ,EAAQU,EAAUG,UAAU,EAAG,IAC5CC,EAAQb,EAAOc,QAAQ,SAAW,EAAIL,EAAYE,EAClDI,EAAQhB,EAAQE,EAAKe,YACrBC,EAAUlB,EAAQE,EAAKiB,cACvBC,EAAUpB,EAAQE,EAAKmB,cACvBC,EAAe1B,EAAaM,EAAKqB,kBAAmB,GACpDC,EAnCN,SAAgBC,GACd,IAAIC,EAAKzG,KAAKoE,IAAIoC,GACd/F,EAAIiG,OAAO1G,KAAK2G,MAAMF,EAAK,KAC3B/F,EAAIgG,OAAOD,EAAK,IAOpB,OANiB,IAAbhG,EAAE/B,SACJ+B,EAAI,IAAMA,GAEK,IAAbC,EAAEhC,SACJgC,EAAI,IAAMA,GAEL8F,EAAiB,EAAI,IAAM/F,EAAIC,EAAI,IAAMD,EAAIC,EAyBpCkG,CAAO3B,EAAK4B,qBAU5B,OATgB7B,EACb8B,QAAQ,MAAOzB,GACfyB,QAAQ,MAAOvB,GACfuB,QAAQ,UAAWjB,GACnBiB,QAAQ,MAAOf,GACfe,QAAQ,MAAOb,GACfa,QAAQ,MAAOX,GACfW,QAAQ,OAAQT,GAChBS,QAAQ,KAAMP,GAInB,SAASQ,EAAY9B,EAAM+B,EAAMnG,EAAOoG,GACtChC,EAAK,OAASgC,EAAQ,GAAK,OAASD,GAAMnG,GA+I5CqE,EAAOC,QAAU3D,EACjB0D,EAAOC,QAAQ3D,SAAWA,EAC1B0D,EAAOC,QAAQ+B,MAjBf,SAAeC,EAASC,EAAKC,GAC3B,IAAKF,EACH,MAAM,IAAIG,MAAM,4BAGlB,OAlIF,SAA0BH,EAASC,EAAKC,GAItC,IAAIJ,EAAQE,EAAQrB,QAAQ,KAAO,EAC/ByB,EAAW,CACb,CACEJ,QAAS,SACTK,OAAQ,WACRC,GAAI,SAASxC,EAAMpE,GACjBkG,EAAY9B,EAAM,WAAYpE,EAAOoG,KAGzC,CACEE,QAAS,KACTK,OAAQ,WACRC,GAAI,SAASxC,EAAMpE,GACjBkG,EAAY9B,EAAM,QAAUpE,EAAQ,EAAIoG,KAG5C,CACEE,QAAS,KACTK,OAAQ,WACRC,GAAI,SAASxC,EAAMpE,GACjBkG,EAAY9B,EAAM,OAAQpE,EAAOoG,KAGrC,CACEE,QAAS,KACTK,OAAQ,WACRC,GAAI,SAASxC,EAAMpE,GACjBkG,EAAY9B,EAAM,QAASpE,EAAOoG,KAGtC,CACEE,QAAS,KACTK,OAAQ,SACRC,GAAI,SAASxC,EAAMpE,GACjBkG,EAAY9B,EAAM,UAAWpE,EAAOoG,KAGxC,CACEE,QAAS,KACTK,OAAQ,SACRC,GAAI,SAASxC,EAAMpE,GACjBkG,EAAY9B,EAAM,UAAWpE,EAAOoG,KAGxC,CACEE,QAAS,MACTK,OAAQ,YACRC,GAAI,SAASxC,EAAMpE,GACjBkG,EAAY9B,EAAM,eAAgBpE,EAAOoG,KAG7C,CACEE,QAAS,IACTK,OAAQ,iBACRC,GAAI,SAASxC,EAAMpE,GACH,MAAVA,IACFA,EAAQ,GAEV,IAAI+F,EAAS5G,KAAKoE,IAAIvD,GAClB2F,GAAkB3F,EAAQ,GAAK,EAAK,IAAQ+F,EAAS,IAAkC,GAA3B5G,KAAK2G,MAAMC,EAAS,MAqBpF3B,EAAKyC,cAAczC,EAAK0C,gBAAkBnB,MAK5CoB,EAAgBL,EAASM,QAC3B,SAASC,EAAGpH,GAOV,OANIA,EAAEyG,QAAQY,KAAKD,EAAEN,SACnB9G,EAAEY,MAAQwG,EAAEN,OAAOQ,MAAMtH,EAAEyG,SAAS7F,MACpCwG,EAAEN,OAASM,EAAEN,OAAOV,QAAQpG,EAAEyG,QAAS,IAAMzG,EAAE8G,OAAS,MAExD9G,EAAEY,OAAS,EAENwG,IAET,CAAEN,OAAQL,EAAS7F,MAAO,KAGxB2G,EAAUV,EAASW,QAAO,SAASxH,GACrC,OAAOA,EAAEY,OAAS,KAEpB2G,EAAQE,MAAK,SAASzK,EAAG0K,GACvB,OAAO1K,EAAE4D,MAAQ8G,EAAE9G,SAGrB,IACI+G,EADU,IAAIC,OAAOV,EAAcJ,QACjBe,KAAKnB,GAC3B,GAAIiB,EAAS,CACX,IAAIpD,EAAOoC,GAAqBnC,EAAOC,QAAQ1F,MAK/C,OAJAwI,EAAQO,SAAQ,SAASC,EAAGC,GAC1BD,EAAEhB,GAAGxC,EAAMoD,EAAQK,EAAI,OAGlBzD,EAGT,MAAM,IAAIqC,MACR,WAAaF,EAAM,6BAA+BD,EAAU,KASvDwB,CAAiBxB,EAASC,EAAKC,IAaxCnC,EAAOC,QAAQ1F,IAPf,WACE,OAAO,IAAID,MAOb0F,EAAOC,QAAQC,eAAiB,0BAChCF,EAAOC,QAAQyD,8BAAgC,2BAC/C1D,EAAOC,QAAQ0D,gBAAkB,0BACjC3D,EAAOC,QAAQ2D,oBAAsB,gB,iCC1NtB,8pL,qHCIA,SAASjN,EAAaH,GAAQ,IAAD,EACRQ,mBAAS,IADD,mBACnCJ,EADmC,KACxBiN,EADwB,KAEtC1I,EAAW,KAET2I,EAAa,uCAAI,sCAAAtL,EAAA,0DAClBhC,EAAOoE,cADW,iCAEMmJ,YAAevN,EAAOkC,OAAOC,SAFnC,OAEb/B,EAFa,OAGbqB,IAAYrB,EAAUoN,OAAO9H,QAAQ,GACrCjC,EAAYrD,EAAUqN,QAAUrN,EAAUsN,QAAQhI,QAAQ,GAAK,EAC/DiI,IAAkBvN,EAAUwN,IAAIlI,QAAQ,GACxCmI,IAAqBzN,EAAU0N,OAAOpI,QAAQ,GAC9CnF,EAAUH,EAAUG,QAC1B8M,EAAa,CAAC5L,UAAQgC,YAAUkK,gBAAcE,mBAAiBtN,YAR5C,4CAAJ,qDAiBnB,OALA0C,qBAAU,WAGR,OAFA0B,EAAWF,OAAOC,YAAY4I,EAAc,MAC1CA,IACK,kBAAMpJ,cAAcS,MAC1B,CAAC3E,EAAOkC,OAAOC,UACX,CAAC/B,EAAUuE","file":"static/js/13.f6e80376.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { inject, observer } from 'mobx-react'\nimport rightArrow from '../../assets/img/play-button.png'\nimport dateFormat from 'date-format'\nimport config from '../../config.json'\nimport {\n  mintDToken,\n  fetchRestApi,\n  DeriEnv\n} from \"../../lib/web3js/indexV2\";\nimport classNames from 'classnames';\nimport useClaimInfo from \"../../hooks/useClaimInfo\";\nimport DeriNumberFormat from '../../utils/DeriNumberFormat'\nimport Button from '../Button/Button';\nimport { eqInNumber } from '../../utils/utils';\nimport useConfig from \"../../hooks/useConfig\";\nconst chainConfig = config[DeriEnv.get()]['chainInfo'];\nfunction Broker({ wallet = {}, lang ,loading}) {\n  const [claimInfo, claimInfoInterval] = useClaimInfo(wallet);\n  const config = useConfig(claimInfo.chainId)\n  const [firstDeri, setFirstDeri] = useState('--');\n  const [secondDeri, setSecondDeri] = useState('--');\n  const [thirdDeri, setThirdDeri] = useState('--');\n  const [yourDeri, setYourDeri] = useState('--');\n  const [yourRank, setYourRank] = useState('--');\n  const [sumPage, setSumPage] = useState(1);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totList, setTotList] = useState([])\n  const [claimed, setClaimed] = useState(false);\n  const [list, setList] = useState([]);\n  const [remainingTime, setRemainingTime] = useState('')\n  const [isLoading,setIsLoading] = useState(false)\n\n  const hasConnectWallet = () => wallet && wallet.detail && wallet.detail.account\n  const rewardList = async () => {\n    let path = `/broker/${wallet.detail.account}/reward_list`\n    let res = await fetchRestApi(path)\n    if (res.data) {\n      let data = res.data.map(item => {\n        let obj = {}\n        obj.address = item.trader_address\n        obj.trader_volume = item.trader_volume\n        obj.deri_reward = item.deri_reward;\n        obj.trader_invite_timestamp = item.trader_invite_timestamp * 1000\n        obj.trader_address = item.trader_address.slice(0, 6) +\n          \"...\" +\n          item.trader_address.slice(item.trader_address.length - 4, item.trader_address.length)\n        return obj\n      })\n      setTotList(data)\n    }\n  }\n\n  useEffect(()=>{\n    loading.loading();\n    // Promise.all([\n    //   brokerEpoch(),topList(),totalReward(),rewardList()\n    // ]).then(results => {\n    //   loading.loaded()\n    // })\n    \n    if(firstDeri!='--' && secondDeri!='--' && thirdDeri!='--' && yourDeri!='--' && yourRank!='--' && list.length>0 &&claimInfo.claimed){\n      loading.loaded()\n    }\n  },[firstDeri,secondDeri,thirdDeri,yourDeri,yourRank,list,claimInfo])\n\n  const brokerEpoch = async ()=>{\n    let path = `/broker/${wallet.detail.account}/get_harvest_deri`\n    let res = await fetchRestApi(path)\n    if(res.data){\n      setYourDeri(res.data.deri_reward)\n    }\n  }\n\n  \n\n  const topList = async () => {\n    let path = '/broker/top3_reward_list'\n    let res = await fetchRestApi(path)\n    if (res.data) {\n      if(res.data.length){\n        res.data.map(item => {\n          if (item.rank === 1) {\n            setFirstDeri(item.deri_reward)\n          } else if (item.rank === 2) {\n            setSecondDeri(item.deri_reward)\n          } else if (item.rank === 3) {\n            setThirdDeri(item.deri_reward)\n          }\n        })\n      }else{\n        setFirstDeri(0)\n        setSecondDeri(0)\n        setThirdDeri(0)\n      }\n    }\n  }\n\n  const totalReward = async () => {\n    let path = `/broker/${wallet.detail.account}/total_reward`\n    let res = await fetchRestApi(path)\n    if (res.data) {\n      if (res.data.hasOwnProperty('deri_reward')) {\n        setYourRank(res.data.rank)\n      } else {\n        setYourRank('>999')\n      }\n    }\n  }\n\n  const mintDeri = async () => {\n    if ((+claimInfo.unclaimed) === 0) {\n      alert(lang['no-deri-to-claim']);\n      return;\n    }\n    if (!eqInNumber(wallet.detail.chainId, claimInfo.chainId)) {\n      alert(`${lang['your-deri-is-on']} ${config.text}  ${lang['connect-to']} ${config.text} ${lang['to-claim']}.`)\n      return;\n    }\n    let now = parseInt(Date.now() / 1000) % (3600 * 8);\n    if (now < 1800) {\n      alert(lang['claiming-DERI-is-disabled-during-first-30-minutes-of-each-epoch']);\n      return;\n    }\n    const res = await mintDToken(wallet.detail.chainId, wallet.detail.account)\n    if (res.success) {\n      clearInterval(claimInfoInterval);\n      return true;\n    } else {\n      alert(lang['claim-failed'])\n      return false;\n    }\n  }\n\n  const click = async () => {\n\t\tif(wallet.isConnected()){\n\t\t\tconst res = await mintDeri();\n\t\t\tif(res){\n\t\t\t\tsetClaimed(true)\n\t\t\t}\n\t\t} \n\t}\n  \n  const upPage = () => {\n    let page = currentPage\n    if (page != 1) {\n      page -= 1;\n    }\n    setCurrentPage(page)\n  }\n\n  const downPage = () => {\n    let page = currentPage\n    if (page < sumPage) {\n      page += 1;\n    }\n    setCurrentPage(page)\n  }\n\n  useEffect(() => {\n    if (totList.length) {\n      let sum_page = totList.length / 10;\n      sum_page = Math.ceil(sum_page)\n      let data = totList.slice((currentPage - 1) * 10, currentPage * 10)\n      setSumPage(sum_page);\n      setList(data);\n    }\n\n  }, [wallet.detail, totList, currentPage])\n  useEffect(() => {\n    // loading.loading()\n    if(hasConnectWallet()){\n      rewardList();\n      topList();\n      totalReward();\n    }\n  }, [wallet.detail])\n  useEffect(() => {\n    let intervalEpoch = null;\n    intervalEpoch = window.setInterval(brokerEpoch(),1000 * 60 *3);\n    return () => {\n      intervalEpoch && clearInterval(intervalEpoch);\n\t\t}\n  },[wallet.detail.account])\n\n  useEffect(() => {\n\t\tlet interval = null;\n\t\t\t//计数器\n\t\t\tinterval = window.setInterval(() => {\n\t\t\t\tlet period = 3600 * 8;\n\t\t\t\tlet current = parseInt(Date.now()/1000);\n\t\t\t\tlet epochBegin = parseInt(current / period)*period;\n\t\t\t\tlet dis = (epochBegin + period - current);\n\t\t\t\tlet h = parseInt(dis / 3600);\n\t\t\t\tlet m = parseInt((dis % 3600)/60);\n\t\t\t\tlet s = parseInt(dis % 60);\n\t\t\t\tsetRemainingTime(`${h} ${lang['h']} ${m} ${lang['m']} ${s} ${lang['s']}`);\n\t\t\t},1000);\n    return () => {\n      interval && clearInterval(interval);\n\t\t};\n\t\t\n  }, [wallet.detail.account]);\n\n  return (\n    <div className='broker'>\n      <div className='title'>\n        {lang['title-one']}\n        <br />\n        {lang['title-two']}\n      </div>\n      <div className='rewards'>\n        <div className='reward-box'>\n          <div className='rewards-left'>\n            <div className='rewards-one'>\n              <div className='num'>\n                <span>\n                  <DeriNumberFormat value={firstDeri} displayType='text' thousandSeparator={true} decimalScale='2' />\n                </span> DERI\n              </div>\n              <div className='one'>\n                # 1 {lang['rewards']}\n              </div>\n            </div>\n            <div className='rewards-three'>\n              <div className='num'>\n                <span>\n                  <DeriNumberFormat value={thirdDeri} displayType='text' thousandSeparator={true} decimalScale='2' />\n                </span>  DERI\n              </div>\n              <div className='one'>\n                # 3 {lang['rewards']}\n              </div>\n            </div>\n          </div>\n          <div className='rewards-right'>\n            <div className='rewards-two'>\n              <div className='num'>\n                <span>\n                  <DeriNumberFormat value={secondDeri} displayType='text' thousandSeparator={true} decimalScale='2' />\n                </span> DERI\n              </div>\n              <div className='one'>\n                # 2 {lang['rewards']}\n              </div>\n            </div>\n            <div className='rewards-frou'>\n              <div className='num'>\n                <span>\n                  {yourRank}\n                </span>\n              </div>\n              <div className='one'>\n                {lang['your-rewards']}\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"bg-box\"></div>\n      </div>\n      <div className='process'>\n        <div className='invite'>\n          {lang['invute-friends']}\n        </div>\n        <div className='proce'></div>\n        <div className='bind'>\n          {lang['bind-address']}\n        </div>\n        <div className='proce'></div>\n        <div className='earn'>\n          {lang['earn-deri']}\n        </div>\n      </div>\n      <div className='rules'>\n        <div>\n\n        </div>\n        <div>\n          <a target='_blank' href='https://docs.deri.finance/guides/mining#mining-by-brokerage-mining-0-01deri-per-contract-or-distributed-per-volume-weight-if-breaching-the-hourly-upper-limit'>{lang['detailed-rules']} >></a>\n        </div>\n      </div>\n      <div className='my-harvest'>\n        <div className='header'>\n          {lang['my-harvest']}\n        </div>\n        <div className='list'>\n          <div className='my-deri'>\n            <div className='claim-deri'>\n              <div className='claimed-deri'>\n                <div className='unclaimed-title'>\n                  <span  tip={lang['your-total-unclaimed-deri-title']}>\n                    {lang['current-epoch-remaining-time']}\n                  </span>\n                  <span className='deri-text'>\n                  {remainingTime}\n                  </span>\n                </div>\n                <div className='unclaimed-title'>\n                  <span  tip={lang['your-total-unclaimed-deri-title']}>\n                    {lang['my-trading-volume-in-current-hour']} \n                  </span>\n                  <span className='deri-text'>\n                    <DeriNumberFormat value={(+yourDeri).toFixed(2)} displayType='text' thousandSeparator={true} decimalScale='2' />  DERI\n                  </span>\n                </div>\n                <div className='claimed-title'>\n                  <span className='hover-title' tip={lang['your-total-claimed-deri-title']}>\n                  {lang['claimed-deri']}\n                  </span>\n                  <span className='deri-text'>\n                    {claimed ? ((+claimInfo.claimed) + (+claimInfo.unclaimed)).toFixed(2) : claimInfo.claimed }\n                  </span>\n                </div>\n                <div className='unclaimed-title'>\n                  <span className='hover-title' tip={lang['your-total-unclaimed-deri-title']}>\n                    {lang['unclaimed-deri']}\n                  </span>\n                  <span className='deri-text'>\n                  { claimed ? 0 : (+claimInfo.unclaimed).toFixed(2) }\n                  </span>\n                </div>\n              </div>\n            </div>\n            <div className='button'>\n              <Button className='btn' btnText={lang['claim']} lang={lang} click={click}></Button>\n            </div>\n          </div>\n          <div className='address-list'>\n            <div className='list-title'>\n              <div className='time-invited'>{lang['time-invited']}</div>\n              <div className='friends-add'>\n                {lang['friends-add']}\n              </div>\n              <div className='contract-vol'>{lang['contract-vol']}</div>\n              <div className='deri-minted'>{lang['deri-minted']}</div>\n            </div>\n            {list.map((list, index) => <div className='list-box' key={index} >\n              <div className='time'>\n                {dateFormat.asString('yyyy-MM-dd hh:mm', new Date(parseInt(list.trader_invite_timestamp)))}\n              </div>\n              <div className='address'>\n              {list.trader_address}\n              {/* <span className='view'>\n                  <span className='view-space'>\n                    <a target='_blank' rel='noreferrer' href={chainConfig[wallet.detail.chainId].hasOwnProperty('viewUrl')?`${chainConfig[wallet.detail.chainId]['viewUrl']}address/${list.address}`:''}>\n                    View at {chainConfig[wallet.detail.chainId].hasOwnProperty('viewUrl')?chainConfig[wallet.detail.chainId]['viewUrl']:''}\n                    </a>\n                  </span>\n                  <span className='right-arrow'>\n                    <img alt='' src={rightArrow}/>\n                  </span>\n                  <span className='view-arrow'>\n                    <a target='_blank' rel='noreferrer' href={chainConfig[wallet.detail.chainId].hasOwnProperty('viewUrl')?`${chainConfig[wallet.detail.chainId]['viewUrl']}address/${list.address}`:''}>\n                      <img rel='noreferrer' alt='' src=\"data:image/svg+xml;base64,DQo8c3ZnIGZpbGw9Im5vbmUiIGhlaWdodD0iMTAiIHdpZHRoPSIxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCiAgICA8cGF0aCBkPSJNOC42NzYuNjQyYS42NS42NSAwIDAwLS4wNzIuMDA2SDQuNzkzYS42NS42NSAwIDAwLS41Ny45NzUuNjUuNjUgMCAwMC41Ny4zMjJINy4xMkwuNDM4IDguNjE0YS42NDcuNjQ3IDAgMDAuMjg2IDEuMDk2LjY1LjY1IDAgMDAuNjMyLS4xNzlMOC4wNCAyLjg2MXYyLjMyNGEuNjQ4LjY0OCAwIDAwLjk3Ny41Ny42NDguNjQ4IDAgMDAuMzIyLS41N1YxLjM4YS42NDcuNjQ3IDAgMDAtLjY2Mi0uNzM3eiIgZmlsbD0iI0FBQUFBQSIvPg0KPC9zdmc+DQoNCg==\"/>\n                    </a>\n                  </span>\n                </span> */}\n              </div>\n              <div className='volume'>{list.trader_volume}</div>\n              <div className='deri'>\n                <DeriNumberFormat value={list.deri_reward} displayType='text' thousandSeparator={true} decimalScale='2' />\n              </div>\n            </div>)}\n          </div>\n          <div className='page-of'>\n            <div onClick={upPage}><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"9.6\" height=\"8\" viewBox=\"0 0 9.6 8\">\n              <path id=\"路径_3\" data-name=\"路径 3\" d=\"M3186.224,481.353a.4.4,0,1,1,.552.58l-3.069,2.91h7.993a.4.4,0,1,1,0,.8h-7.98l3.056,2.91a.4.4,0,0,1-.552.58l-3.49-3.324a.8.8,0,0,1,.007-1.138Z\" transform=\"translate(-3182.5 -481.243)\" fill=\"#aaa\" />\n            </svg>\n            </div>\n            <div className='page'>{lang['page']} {currentPage} {lang['of']} {sumPage}</div>\n            <div onClick={downPage}><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"9.6\" height=\"8\" viewBox=\"0 0 9.6 8\">\n              <path id=\"路径_4\" data-name=\"路径 4\" d=\"M3268.376,481.353a.4.4,0,0,0-.552.58l3.069,2.91H3262.9a.4.4,0,0,0,0,.8h7.98l-3.056,2.91a.4.4,0,0,0,.552.58l3.49-3.324a.8.8,0,0,0-.007-1.138Z\" transform=\"translate(-3262.5 -481.243)\" fill=\"#aaa\" />\n            </svg>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default inject('wallet','loading')(observer(Broker))\n","import {useState,useRef,useEffect} from 'react';\nexport default function Button({btnText,className,disabled,click,afterClick,checkApprove,wallet,spec,lang}){\n  const [status, setStatus] = useState(disabled ? 'disabled' : 'enabled');\n  const [isApproved, setIsApproved] = useState(true);\n  const [pending, setPending] = useState(false);\n  const [buttonText, setbuttonText] = useState(btnText)\n  const loadRef = useRef(null)\n\n  const onClick = async () => {\n    if(status !== 'enabled') {\n      return ;\n    }\n    beforeAction()\n    const result = await click();    \n    if(result){\n      afterClick && afterClick()\n    } \n    afterAction()\n  }\n\n  const beforeAction = ()  => {\n    setStatus('disabled')\n    setPending(true);\n    loadRef.current && (loadRef.current.style.display = 'inline-block')\n  }\n\n  const afterAction = () => {\n    loadRef.current && (loadRef.current.style.display = 'none')\n    setStatus('enabled')\n    setPending(false);\n  }\n\n  const loadApproveStatus = async () => {\n    if(checkApprove && wallet && wallet.detail.account){\n      const res = await wallet.isApproved(spec.pool,spec.bTokenId)\n      setIsApproved(res);\n    }\n  }\n  const approve = async () => {\n    beforeAction();\n    const res = await wallet.approve(spec.pool,spec.bTokenId);\n    if(res.success){\n      setIsApproved(true);\n    } else {\n      setIsApproved(false)\n      alert(lang['approve-failed'])\n    }\n    afterAction();\n  }\n\n  const action = () => {\n    if(isApproved){\n      onClick();\n    } else {\n      approve();\n    }\n  }\n\n  useEffect(() => {\n    loadApproveStatus();\n    return () => {};\n  }, [wallet,spec,checkApprove]);\n\n  useEffect(() => {\n    if(btnText){\n      setbuttonText(btnText)\n    }\n    return () => {\n    }\n  }, [btnText])\n\n  return(\n    <button className={className} onClick={action} >\n        <span className='btn-loading-wrap'>\n          <span ref={loadRef}\n            className='spinner spinner-border spinner-border-sm'\n            style={{display : 'none' ,marginRight : '2'}}>\n          </span>\n        </span>\n          {pending ? lang['pending'] : (isApproved ? buttonText : lang['approve'])  }\n        </button>\n  )\n}","import React,{useState,useEffect} from 'react'\nimport NumberFormat from 'react-number-format'\nimport { inject, observer } from 'mobx-react';\n\nfunction DeriNumberFormat(props){\n  const [renderablity, setRenderablity] = useState(<span className='loading-line'></span>);\n\n  const isValidate = () => {\n    const {allowZero} = props \n    return (typeof props.value !== 'object' && props.value !== undefined && props.value !== '' && props.value !== 'NaN') \n          || ((isNaN(props.value) && Math.abs(props.value)) === 0 && allowZero === true )\n  }\n\n  useEffect(() => {\n    const {allowZero,wallet,defaultValue = '--',...others} = props \n    if(isValidate()) {\n      setRenderablity(<NumberFormat {...others}  displayType = 'text'  fixedDecimalScale={true} />)\n    } else {\n      setRenderablity(<span className='loading-line'></span>)\n    } \n    const timeout = window.setTimeout(() => {\n      if(!isValidate() && wallet && !wallet.isConnected()){\n        setRenderablity(defaultValue)\n      }\n    },30000)\n    return () => {\n      clearTimeout(timeout)\n    };\n  }, [props.value]);\n\n  return renderablity;\n}\n\nexport default inject('wallet','trading')(observer(DeriNumberFormat))","\"use strict\";\n\nfunction padWithZeros(vNumber, width) {\n  var numAsString = vNumber.toString();\n  while (numAsString.length < width) {\n    numAsString = \"0\" + numAsString;\n  }\n  return numAsString;\n}\n\nfunction addZero(vNumber) {\n  return padWithZeros(vNumber, 2);\n}\n\n/**\n * Formats the TimeOffset\n * Thanks to http://www.svendtofte.com/code/date_format/\n * @private\n */\nfunction offset(timezoneOffset) {\n  var os = Math.abs(timezoneOffset);\n  var h = String(Math.floor(os / 60));\n  var m = String(os % 60);\n  if (h.length === 1) {\n    h = \"0\" + h;\n  }\n  if (m.length === 1) {\n    m = \"0\" + m;\n  }\n  return timezoneOffset < 0 ? \"+\" + h + m : \"-\" + h + m;\n}\n\nfunction asString(format, date) {\n  if (typeof format !== \"string\") {\n    date = format;\n    format = module.exports.ISO8601_FORMAT;\n  }\n  if (!date) {\n    date = module.exports.now();\n  }\n\n  // Issue # 14 - Per ISO8601 standard, the time string should be local time\n  // with timezone info.\n  // See https://en.wikipedia.org/wiki/ISO_8601 section \"Time offsets from UTC\"\n\n  var vDay = addZero(date.getDate());\n  var vMonth = addZero(date.getMonth() + 1);\n  var vYearLong = addZero(date.getFullYear());\n  var vYearShort = addZero(vYearLong.substring(2, 4));\n  var vYear = format.indexOf(\"yyyy\") > -1 ? vYearLong : vYearShort;\n  var vHour = addZero(date.getHours());\n  var vMinute = addZero(date.getMinutes());\n  var vSecond = addZero(date.getSeconds());\n  var vMillisecond = padWithZeros(date.getMilliseconds(), 3);\n  var vTimeZone = offset(date.getTimezoneOffset());\n  var formatted = format\n    .replace(/dd/g, vDay)\n    .replace(/MM/g, vMonth)\n    .replace(/y{1,4}/g, vYear)\n    .replace(/hh/g, vHour)\n    .replace(/mm/g, vMinute)\n    .replace(/ss/g, vSecond)\n    .replace(/SSS/g, vMillisecond)\n    .replace(/O/g, vTimeZone);\n  return formatted;\n}\n\nfunction setDatePart(date, part, value, local) {\n  date['set' + (local ? '' : 'UTC') + part](value);\n}\n\nfunction extractDateParts(pattern, str, missingValuesDate) {\n  // Javascript Date object doesn't support custom timezone.  Sets all felds as\n  // GMT based to begin with.  If the timezone offset is provided, then adjust\n  // it using provided timezone, otherwise, adjust it with the system timezone.\n  var local = pattern.indexOf('O') < 0;\n  var matchers = [\n    {\n      pattern: /y{1,4}/,\n      regexp: \"\\\\d{1,4}\",\n      fn: function(date, value) {\n        setDatePart(date, 'FullYear', value, local);\n      }\n    },\n    {\n      pattern: /MM/,\n      regexp: \"\\\\d{1,2}\",\n      fn: function(date, value) {\n        setDatePart(date, 'Month', (value - 1), local);\n      }\n    },\n    {\n      pattern: /dd/,\n      regexp: \"\\\\d{1,2}\",\n      fn: function(date, value) {\n        setDatePart(date, 'Date', value, local);\n      }\n    },\n    {\n      pattern: /hh/,\n      regexp: \"\\\\d{1,2}\",\n      fn: function(date, value) {\n        setDatePart(date, 'Hours', value, local);\n      }\n    },\n    {\n      pattern: /mm/,\n      regexp: \"\\\\d\\\\d\",\n      fn: function(date, value) {\n        setDatePart(date, 'Minutes', value, local);\n      }\n    },\n    {\n      pattern: /ss/,\n      regexp: \"\\\\d\\\\d\",\n      fn: function(date, value) {\n        setDatePart(date, 'Seconds', value, local);\n      }\n    },\n    {\n      pattern: /SSS/,\n      regexp: \"\\\\d\\\\d\\\\d\",\n      fn: function(date, value) {\n        setDatePart(date, 'Milliseconds', value, local);\n      }\n    },\n    {\n      pattern: /O/,\n      regexp: \"[+-]\\\\d{3,4}|Z\",\n      fn: function(date, value) {\n        if (value === \"Z\") {\n          value = 0;\n        }\n        var offset = Math.abs(value);\n        var timezoneOffset = (value > 0 ? -1 :  1 ) * ((offset % 100) + Math.floor(offset / 100) * 60);\n        // Per ISO8601 standard: UTC = local time - offset\n        //\n        // For example, 2000-01-01T01:00:00-0700\n        //   local time: 2000-01-01T01:00:00\n        //   ==> UTC   : 2000-01-01T08:00:00 ( 01 - (-7) = 8 )\n        //\n        // To make it even more confusing, the date.getTimezoneOffset() is\n        // opposite sign of offset string in the ISO8601 standard.  So if offset\n        // is '-0700' the getTimezoneOffset() would be (+)420. The line above\n        // calculates timezoneOffset to matche Javascript's behavior.\n        //\n        // The date/time of the input is actually the local time, so the date\n        // object that was constructed is actually local time even thought the\n        // UTC setters are used.  This means the date object's internal UTC\n        // representation was wrong.  It needs to be fixed by substracting the\n        // offset (or adding the offset minutes as they are opposite sign).\n        //\n        // Note: the time zone has to be processed after all other fileds are\n        // set.  The result would be incorrect if the offset was calculated\n        // first then overriden by the other filed setters.\n        date.setUTCMinutes(date.getUTCMinutes() + timezoneOffset);\n      }\n    }\n  ];\n\n  var parsedPattern = matchers.reduce(\n    function(p, m) {\n      if (m.pattern.test(p.regexp)) {\n        m.index = p.regexp.match(m.pattern).index;\n        p.regexp = p.regexp.replace(m.pattern, \"(\" + m.regexp + \")\");\n      } else {\n        m.index = -1;\n      }\n      return p;\n    },\n    { regexp: pattern, index: [] }\n  );\n\n  var dateFns = matchers.filter(function(m) {\n    return m.index > -1;\n  });\n  dateFns.sort(function(a, b) {\n    return a.index - b.index;\n  });\n\n  var matcher = new RegExp(parsedPattern.regexp);\n  var matches = matcher.exec(str);\n  if (matches) {\n    var date = missingValuesDate || module.exports.now();\n    dateFns.forEach(function(f, i) {\n      f.fn(date, matches[i + 1]);\n    });\n\n    return date;\n  }\n\n  throw new Error(\n    \"String '\" + str + \"' could not be parsed as '\" + pattern + \"'\"\n  );\n}\n\nfunction parse(pattern, str, missingValuesDate) {\n  if (!pattern) {\n    throw new Error(\"pattern must be supplied\");\n  }\n\n  return extractDateParts(pattern, str, missingValuesDate);\n}\n\n/**\n * Used for testing - replace this function with a fixed date.\n */\nfunction now() {\n  return new Date();\n}\n\nmodule.exports = asString;\nmodule.exports.asString = asString;\nmodule.exports.parse = parse;\nmodule.exports.now = now;\nmodule.exports.ISO8601_FORMAT = \"yyyy-MM-ddThh:mm:ss.SSS\";\nmodule.exports.ISO8601_WITH_TZ_OFFSET_FORMAT = \"yyyy-MM-ddThh:mm:ss.SSSO\";\nmodule.exports.DATETIME_FORMAT = \"dd MM yyyy hh:mm:ss.SSS\";\nmodule.exports.ABSOLUTETIME_FORMAT = \"hh:mm:ss.SSS\";\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAABBdSURBVHic7d0tj2xZFcfhBeFFkAwCLA6HJEGgwYHEkyBwgwJHwGEQjOILoPgKIAmCQDAEEiZoSHAkCEAMom/PdPet6qrzuvda63mS9mfudFf/797nNxMxn+9ExI8j4tODnwMAONG7EfFBRLwfEd8a/CwAwEkeB8Dj168i4ktDnwgAivn46Ae4w9ci4o8R8V5EvDP4WQCAg7w8AXj69c+I+F7kGC4AwAKvDYDHr99HxFdHPSAAZJf1b9JfjojfRMQvI+ILg58FANLJOgAiIj4WD5XAX0I2CADp3XMFcOlLNggAd8p8AvDSF+PhSkA2CAA3VBoAj2SDAJDQ2isA2SAAJLbnAJANAsAFXf5mLBsEgCe6DIAI2SAATO2IKwDZIAA80ekE4CXZIABtdR4Aj2SDALRjADz4ZDxcPfwtZIMANOAX3XOfj4ifRcTvQjYIQGEGwGWyQQBKMwCukw0CUJYBcNtnIuJHEfGnkA0CUIQBcD/ZIABlGADLyQYBSM8AWEc2CEBqfnFtIxsEICUDYB+yQQBSMQD2IxsEIA0DYH+yQQCmZwAcRzYIwLQMgOM9zQY/O/hZACAiDICzyAYBmIpfROf6XMgGAZiAATCGbBCAoQyAcWSDAAxjAIwnGwTgdAbAPGSDAJzGAJiPbBCAwxkAc5INAnAov1jmJhsE4BAGQA6yQQB2ZQDkIRsEYDcGQD6yQQA2MwDykg0CsJoBkJ9sEIDFDIAaZIMALOIXRS2yQQDuYgDUJBsE4FUGQF2yQQCuMgDqkw0C8BYDoA/ZIAAfMgD6kQ0CYAA0JRsEaM4Hf2+yQYCmDAAiZIMA7RgAPJINAjRiAPCSbBCgAQOAa2SDAIUZANwiGwQoyADgHrJBgGJ8kLOEbBCgCAOANWSDAMkZAKwlGwRIzABgK9kgQEIGAHuRDQIkYgCwN9kgQAIGAEeQDQJMzgczR5INAkzKAOAMskGAyRgAnEU2CDARA4CzyQYBJmAAMIpsEGAgA4DRZIMAAxgAzEA2CHAyH7TMRDYIcBIDgBnJBgEOZgAwK9kgwIEMAGYnGwQ4gAFAFrJBgB0ZAGQjGwTYgQFARrJBgI18cJKZbBBgJQOACmSDAAsZAFQhGwRYwACgGtkgwB0MAKqSDQK8wgCgOtkgwAUGAB3IBgFe8EFIJ7JBgDcMADqSDQLtGQB0JRsEWjMA6E42CLRkAMAD2SDQigEAz8kGgRYMAHibbBAozwcbXCcbBMoyAOA22SBQjgEA95ENAqUYALCMbBAowQCAdWSDQGoGAGwjGwRSMgBgO9kgkI4PKtiPbBBIwwCA/ckGgekZAHAM2SAwNQMAjiUbBKZkAMA5ZIPAVAwAOJdsEJiCAQDnkw0Cw/nggXFkg8AwBgCMJxsETmcAwBxkg8CpDACYi2wQOIUBAHOSDQKHMgBgbrJB4BAGAMxPNgjszgcJ5CEbBHZjAEA+skFgMwMAcpINApsYAJCbbBBYxQCAGmSDwCIGANQiGwTuYgBAPbJB4CYfDFCXbBC4ygCA+mSDwFsMAOhBNgg8YwBAL7JBICIMAOhKNgjNGQDQm2wQmjIAANkgNOQHHXgkG4RGDADgJdkgNGAAAJfIBqE4AwB4jWwQijIAgHvIBqEYAwBYQjYIRRgAwFKyQSjADy6wlmwQEjMAgK1kg5CQAQDsQTYIyRgAwJ5kg5CEAQAcQTYIkzMAgCPJBmFSBgBwNNkgTMgPInAW2SBMxAAAziYbhAkYAMAIskEYzAAARpINwiAGADAD2SCczAAAZiIbhJMYAMBsZINwAj9YwKxkg3AgAwCYnWwQDmAAABnIBmFnBgCQiWwQdmIAABnJBmEjAwDITDYIKxkAQHayQVjBDwpQhWwQFjAAgGpkg3AHAwCoSDYINxgAQGWyQbjCAAA6kA3CCwYA0IlsEN4wAIBuZIMQvvGBvmSDtGYAAN3JBmnJAACQDdKQAQDwEdkgbRgAAG+TDVKeAQBwnWyQsgwAgNfJBinJNzLAfWSDlGIAACwjG6QEAwBgOdkg6RkAAOvJBknLAADYTjZIOgYAwH5kg6RhAADsSzZICr4xAY4hG2RqBgDAsWSDTMkAADiebJDpGAAA55ENMg0DAOB8skGGMwAAxpENMowBADCWbJAhfKMBzEE2yKkMAIC5yAY5hQEAMB/ZIIczAADmJRvkMAYAwPxkg+zOAADIQzbIbgwAgFxkg+zCNw5ATrJBNjEAAHKTDbKKAQCQn2yQxQwAgDpkg9zNAACoRzbITQYAQF2yQa4yAABqkw1ykW8EgB5kgzxjAAD0IhskIgwAgI5kgxgAAI3JBhszAACQDTZkAADwSDbYiAEAwFOywSb8iwXgEtlgcQYAAK+RDRZlAABwi2ywIAMAgHvJBgsxAABYSjZYgAEAwFqywcQMAAC2kA0m5V8UAHuQDSZjAACwJ9lgEgYAAHuTDSZgAABwFNngxAwAAI4mG5yQAQDAWWSDEzEAADiTbHAS/uABGEE2OJgBAMBIssFBDAAARpMNDmAAADAL2eCJDAAAZiMbPIEBAMCsZIMHMgAAmJls8CD+IAHIQDa4MwMAgExkgzsxAADIRja4AwMAgKxkgxsYAABkJxtcwQAAoArZ4AIGAACVyAbv5A8GgIpkgzcYAABUJhu8wgAAoDrZ4AUGAABdyAafMAAA6EY2GAYAAH21zgYNAAA6a5sNtvkHBYBXtMsGDQAA+EibbNAAAIDnWmSDBgAAXFY6GzQAAOB1JbNBAwAA7lMqGzQAAOB+ZbLBtA8OAAOlzwYNAABYL202aAAAwDYps0EDAAD2kSobNAAAYF8pskEDAACOMXU2aAAAwPE+GP0AL31i9AMAQFG/jof/VsCfRz/IJU4AAGBf70fENyPi6zHpL/8IJwAAsJd/R8RPI+InEfGfwc9ykwEAANt8EBG/iIgfRMQ/Bj/L3QwAAFjvD/Hw/wb47egHWco7AACw3D8i4rsR8ZVI+Ms/wgkAACzxv4j4eUT8MCL+NfhZNjEAAOA+U2d9S7kCAIDXpcj6lnICAACXpcr6ljIAAOC5lFnfUgYAAHwkbda3lHcAAKBA1reUEwAAOiuT9S1lAADQVamsbylXAAB0UzLrW8oJAABdlM76ljIAAKiuRda3lAEAQGVtsr6lvAMAQEXtsr6lnAAAUEnbrG8pAwCAKlpnfUu5AgAgO1nfCk4AAMhK1reBAQBANrK+HRgAAGQi69uJdwAAyEDWtzMnAADMTNZ3EAMAgFnJ+g7kCgCA2cj6TuAEAIBZyPpOZAAAMJqsbwADAICRZH2DeAcAgBFkfYM5AQDgTLK+SRgAAJxF1jcRVwAAHE3WNyEnAAAcRdY3MQMAgL3J+hIwAADYk6wvCe8AALAHWV8yTgAA2ELWl5QBAMBasr7EXAEAsJSsrwAnAADcS9ZXiAEAwC2yvoIMAABeI+sryjsAAFwi6yvOCQAAT8n6mjAAAHgk62vEFQAAsr6GnAAA9CXra8wAAOhH1ocBANCMrI+I8A4AQBeyPp5xAgBQm6yPiwwAgLpkfVzlCgCgHlkfNzkBAKhD1sfdDACA/GR9LGYAAOQm62MV7wAA5CTrYxMnAAC5yPrYhQEAkIesj924AgCYn6yP3TkBAJiXrI/DGAAA85H1cTgDAGAusj5O4R0AgDnI+jiVEwCAsWR9DGEAAIwj62MYVwAA55P1MZwTAIDzyPqYhgEAcDxZH9MxAACOJetjSt4BADiGrI+pOQEA2JesjxQMAID9yPpIwxUAwHayPtJxAgCwnqyPtAwAgOVkfaRnAAAsI+ujBO8AANxH1kcpTgAAXifroyQDAOA6WR9luQIAeJusj/KcAAB8RNZHGwYAgKyPhgwAoDtZHy15BwDoStZHa04AgG5kfRAGANCLrA/ecAUAdCDrgxecAACVyfrgCgMAqEjWBzcYAEA1sj64g3cAgCpkfbCAEwAgO1kfrGAAAJnJ+mAlVwBARrI+2MgJAJCJrA92YgAAGcj6YGcGADA7WR8cwDsAwKxkfXAgJwDAbGR9cAIDAJiJrA9O4goAmIGsD07mBAAYSdYHgxgAwAiyPhjMAADOJuuDCXgHADiLrA8m4gQAOJqsDyZkAABHkvXBpFwBAEeQ9cHknAAAe5L1QRIGALAHWR8kYwAAW8n6ICHvAABryfogMScAwFKyPijAAACWkPVBEa4AgHvI+qAYJwDAa2R9UJQBAFwi64PiDADgJVkfNOAdAOCRrA8acQIAyPqgIQMAepP1QVOuAKAnWR805wQAepH1ARFhAEAXsj7gGQMA6pP1AW/xDgDUJesDrnICAPXI+oCbDACoRdYH3MUVANQg6wMWcQIAucn6gFUMAMhJ1gdsYgBAPrI+YDPvAEAesj5gN04AYH6yPmB3BgDMTdYHHMIVAMxJ1gccygkAzEXWB5zCAIA5yPqAUxkAMJ6sDziddwBgHFkfMIwTADifrA8YzgCAc8n6gCm4AoBzyPqAqTgBgGPJ+oApGQBwDFkfMDUDAPYn6wOm5x0A2I+sD0jDCQBsJ+sD0jEAYBtZH5CSKwBYR9YHpOYEAJaR9QElGABwH1kfUIoBALfJ+oByvAMA18n6gLKcAMDbZH1AeQYAPCfrA1pwBQAPZH1AK04A6E7WB7RkANCVrA9ozQCgI1kf0J53AOhE1gfwhhMAOpD1AbxgAFCdrA/gAlcAVCXrA3iFEwCqkfUB3MEAoApZH8ACBgAVyPoAFvIOAJnJ+gBWcgJARrI+gI0MALKR9QHswBUAWcj6AHbkBIDZyfoADmAAMCtZH8CBDABmJOsDOJh3AJiJrA/gJE4AmIGsD+BkBgCjyfoABnAFwCiyPoCBnABwNlkfwAQMAM4i6wOYiAHAGWR9AJPxDgBHkvUBTMoJAEeQ9QFMzgBgb7I+gARcAbAXWR9AIk4A2ErWB5CQAcBasj6AxAwA1pD1ASTnHQCWkPUBFOEEgHvI+gCKMQC4RdYHUJArAK6R9QEU5gSAl2R9AA0YADyS9QE0YgAQIesDaMc7AL3J+gCacgLQk6wPoDkDoB9ZHwCuABqR9QHwIScA9cn6AHiLAVCXrA+AqwyAmmR9ALzKOwC1yPoAuIsTgBpkfQAsYgDkJ+sDYDFXAHnJ+gBYzQlAPrI+ADYzAPKQ9QGwGwMgB1kfALvyDsDcZH0AHMIJwJxkfQAcygCYj6wPgMO5ApiHrA+A0zgBGE/WB8DpDIBxZH0ADGMAjCHrA2Ao7wCcS9YHwBScAJxD1gfAVAyA48n6AJiOK4DjyPoAmJYTgP3J+gCYngGwH1kfAGkYAPuQ9QGQincAtvl7yPoASMgJwDqyPgBSMwCWk/UBkJ4rgPvJ+gAowwnAbbI+AMoxAK6T9QFQlgFwmawPgNK8A/CcrA+AFpwAPJD1AdCKASDrA6ChzlcAsj4A2up4AiDrA6C9TgNA1gcAb3QZALI+AHii+jsAsj4AuKDqCYCsDwBeUXEAyPoA4IZKVwCyPgC4U4UTAFkfACyUeQDI+gBgpawDQNYHABtkewdA1gcARb0bD8f7T7/+GxHvRcQ7A58LAMrIcAUg6wOABh5PAP4aEd8Y/CwAwEm+HRHfj4hPDX4OACjr/+F/mKZgNNwOAAAAAElFTkSuQmCC\"","import { useState, useEffect } from 'react'\nimport { getUserInfoAll ,deriToNatural} from '../lib/web3js/indexV2';\n\n\nexport default function useClaimInfo(wallet){\n  const [claimInfo, setClaimInfo] = useState({});\n  let interval = null;\n\n  const loadClaimInfo =  async () => {\n    if(wallet.isConnected()){\n      const claimInfo  = await getUserInfoAll(wallet.detail.account);\n      const claimed = (+claimInfo.total).toFixed(2);\n      const unclaimed = claimInfo.valid ? (+claimInfo.amount).toFixed(2) : 0;\n      const harvestDeriLp = (+claimInfo.lp).toFixed(2);\n      const harvestDeriTrade = (+claimInfo.trade).toFixed(2);\n      const chainId = claimInfo.chainId\n      setClaimInfo({claimed,unclaimed,harvestDeriLp,harvestDeriTrade,chainId})\n    }\n  }\n\n  useEffect(() => {\n    interval = window.setInterval(loadClaimInfo,1000 * 60 *3);\n      loadClaimInfo();\n    return () => clearInterval(interval);\n  }, [wallet.detail.account])\n  return [claimInfo,interval];\n}"],"sourceRoot":""}