{"version":3,"sources":["components/Claim/Claim.js","components/Mining/Liquidity/Liquidity.js","components/Mining/Liquidity/Dialog/AddLiquidity.js","hooks/useSpecification.js","components/Mining/Liquidity/Dialog/RemoveLiquidity.js","components/Mining/Liquidity/LiquidityMining.js","components/Mining/Trade/Liquidity.js","../node_modules/react-modal/lib/index.js","components/Button/Button.js","utils/DeriNumberFormat.js","hooks/useDisableScroll.js","hooks/useClaimInfo.js"],"names":["Claim","wallet","miningClaim","tradingClaim","lang","useState","btnText","setBtnText","claimed","setClaimed","useClaimInfo","claimInfo","claimInfoInterval","remainingTime","setRemainingTime","config","useConfig","chainId","claim","a","undefined","name","alert","eqInNumber","detail","unclaimed","parseInt","Date","now","mintDToken","account","success","clearInterval","click","isConnected","connect","result","useEffect","interval","window","setInterval","period","current","dis","h","m","s","className","harvestDeriLp","harvestDeriTrade","toFixed","value","decimalScale","AddDialog","withModal","address","baseToken","onClose","afterAdd","balance","isLpPool","baseTokenId","symbolId","amount","setAmount","decimal","setDecimal","addValue","setAddValue","spec","setSpec","loadSpec","getSpecification","useSpecification","useDisableScroll","addLiq","max","bg","gt","minAddLiquidity","isNaN","res","addLpLiquidity","addLiquidity","substring","indexOf","length","onClick","displayType","thousandSeparator","allowZero","style","display","type","placeholder","onChange","e","target","DeriNumberFormat","Button","afterClick","RemoveDialog","liqInfo","afterRemove","unit","version","setBalance","remove","totalShares","cur","removeLpLiquidity","removeLiquidity","eq","formatShares","data-dismiss","Operator","loadLiqidityInfo","isApproved","setIsApproved","btnType","setBtnType","isOpen","setIsOpen","buttonElment","setButtonElment","loadBalance","total","openConfigListCache","update","getLpWalletBalance","getWalletBalance","isApprove","isLpUnlocked","isUnlocked","approve","unlockLp","unlock","error","message","refresh","el","switchNetwork","id","modalIsOpen","inject","observer","loading","liquidity","setLiquidity","bToken","setBToken","loadLiquidityInfo","getPoolInfoApy","apyPool","getPoolLiquidity","pooLiquidity","info","getLpLiquidityInfo","getLiquidityInfo","isLP","getLpPoolInfoApy","lapy","lpApy","apy2","shares","multipliedBy","shareValue","poolLiquidity","apy","percent","dividedBy","toString","values","sharesTitle","pnl","swappedPnl","pnlToken","bToken0Symbol","multiplier","loaded","isCakeLP","href","test","rel","suffix","tip","isSushiLP","prefix","LiquidityMining","props","configInfo","Config","userInfoInPool","setUserInfoInPool","tradeSummary","setTradeSummary","history","useHistory","loadUserInfoInPool","getUserInfoAll","userInfo","getUserInfoInPool","userInfoPool","trade","myTradingVolumeCurrent","volume1h","getTradeInfo","poolInfo","totalTradingVolumeCurrent","configs","load","isV1","find","c","pool","storeConfig","push","Object","defineProperty","exports","obj","_Modal","require","_Modal2","__esModule","default","module","disabled","checkApprove","status","setStatus","pending","setPending","buttonText","setbuttonText","loadRef","useRef","beforeAction","afterAction","loadApproveStatus","bTokenId","ref","marginRight","renderablity","setRenderablity","isValidate","Math","abs","defaultValue","others","fixedDecimalScale","timeout","setTimeout","clearTimeout","nested","document","querySelector","overflow","setClaimInfo","loadClaimInfo","valid","lp"],"mappings":"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","file":"static/js/12.81d7ba27.chunk.js","sourcesContent":["import { useState, useEffect} from 'react'\r\nimport useClaimInfo from \"../../hooks/useClaimInfo\";\r\nimport useConfig from \"../../hooks/useConfig\";\r\nimport { mintDToken } from \"../../lib/web3js/indexV2\";\r\nimport Button from '../Button/Button';\r\nimport { eqInNumber } from '../../utils/utils';\r\nimport DeriNumberFormat from '../../utils/DeriNumberFormat';\r\n\r\nexport default function Claim({wallet,miningClaim,tradingClaim,lang}){\r\n\tconst [btnText, setBtnText] = useState(lang['connect-wallet'])\r\n\tconst [claimed, setClaimed] = useState(false);\r\n\tconst [claimInfo,claimInfoInterval] = useClaimInfo(wallet);\r\n\tconst [remainingTime, setRemainingTime] = useState('')\r\n\tconst config = useConfig(claimInfo.chainId) \r\n\r\n  //claim deri\r\n\tconst claim = async () => {\r\n\t\tif(config.name === undefined) {\r\n\t\t\talert(`${lang['wrong-network']}`);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(!eqInNumber(wallet.detail.chainId,claimInfo.chainId)) {\r\n\t\t\talert(`${lang['your-deri-is-on']} ${ config.name } ${lang['connect-to']} ${ config.name } ${lang['to-claim']}`)\r\n\t\t\treturn ;\r\n\t\t}\r\n\t\tif ((+claimInfo.unclaimed) === 0) {\r\n\t\t\talert(lang['no-deri-to-claim-yet']);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet now = parseInt(Date.now() / 1000) % (3600 * 8);\r\n\t\tif (now < 1800) {\r\n\t\t\talert(lang['claiming-DERI-is-disabled-during-first-30-minutes-of-each-epoch']);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst res = await mintDToken(wallet.detail.chainId,wallet.detail.account)\r\n\t\tif(res.success){\r\n\t\t\tclearInterval(claimInfoInterval);\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\talert(lang['claim-failed'])\r\n\t\t\treturn false;\r\n\t\t}\r\n  }\r\n\r\n\tconst click = async () => {\r\n\t\tif(wallet.isConnected()){\r\n\t\t\tconst res = await claim();\r\n\t\t\tif(res){\r\n\t\t\t\tsetClaimed(true)\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ttry{\r\n\t\t\t\tconst result =await wallet.connect();\r\n\t\t\t\treturn result ? true : false\r\n\t\t\t} catch (e){\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t} \r\n\t}\r\n\r\n\r\n\t\r\n\t//初始化按钮文案和事件\r\n\tconst initButton = () => {\r\n\t\tif(wallet.isConnected()){\r\n\t\t\tsetBtnText(lang['claim'])\r\n\t\t} else {\r\n\t\t\tsetBtnText(lang['collect-wallet'])\r\n\t\t}\r\n\t}\r\n  \r\n  useEffect(() => {\r\n\t\tlet interval = null;\r\n\t\tif(miningClaim){\r\n\t\t\t//计数器\r\n\t\t\tinterval = window.setInterval(() => {\r\n\t\t\t\tlet period = 3600 * 8;\r\n\t\t\t\tlet current = parseInt(Date.now()/1000);\r\n\t\t\t\tlet epochBegin = parseInt(current / period)*period;\r\n\t\t\t\tlet dis = (epochBegin + period - current);\r\n\t\t\t\tlet h = parseInt(dis / 3600);\r\n\t\t\t\tlet m = parseInt((dis % 3600)/60)\r\n\t\t\t\tlet s = parseInt(dis % 60) \r\n\t\t\t\tsetRemainingTime(`${h} ${lang['h']} ${m} ${lang['m']} ${s} ${lang['s']}`);\r\n\t\t\t},1000);\r\n\t\t}    \r\n\r\n\t\tinitButton();\t\t\r\n    return () => {\r\n      interval && clearInterval(interval);\r\n\t\t};\r\n\t\t\r\n  }, [wallet.detail.account]);\r\n\r\n\r\n  return (\r\n    <div className='claim-box'>\r\n\t\t\t\t<div className='odd title'>{miningClaim ?  lang['my-liquidity-providing-harvest-in-current-epoch'] : lang['my-trading-harvest-in-current-epoch']}</div>\r\n\t\t\t\t{miningClaim && <div className='odd text'>\r\n\t\t\t\t\t\t<div className='text-title'>{lang['current-epoch-remaining-time']}</div>\r\n\t\t\t\t\t\t<div className='text-num'>{ remainingTime }</div>\r\n\t\t\t\t</div>}\t\t\t\t\r\n\t\t\t\t<div className='odd text'>\r\n\t\t\t\t\t\t{miningClaim && <div className='text-title'>{lang['my-harvest-in-current-epoch-estimated']}</div>}\r\n\t\t\t\t\t\t{tradingClaim && <div className='text-title'>{lang['my-trading-harvest-in-current-epoch-Est']}</div>}\r\n\t\t\t\t\t\t<div className='text-num'>{ miningClaim ? claimInfo.harvestDeriLp : claimInfo.harvestDeriTrade} {lang['deri']}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='odd text'>\r\n\t\t\t\t\t\t<div className='text-title'>{lang['claimed-deri']}</div>\r\n\t\t\t\t\t\t<div className='text-num'>{claimed ? ((+claimInfo.claimed) + (+claimInfo.unclaimed)).toFixed(2) : claimInfo.claimed }</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='odd text'>\r\n\t\t\t\t\t\t<div className='text-title'></div>\r\n\t\t\t\t\t\t<div className='text-num'></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='odd text'>\r\n\t\t\t\t\t\t<div className='text-title'>{lang['unclaimed-deri']}</div>\r\n\t\t\t\t\t\t<div className='text-num'>{ claimed ? 0 : <DeriNumberFormat value={claimInfo.unclaimed} decimalScale={2}/>}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{tradingClaim && \r\n\t\t\t\t<div className='odd text'>\r\n\t\t\t\t\t\t<div className='text-title'></div>\r\n\t\t\t\t\t\t<div className='text-num'></div>\r\n\t\t\t\t</div>}\r\n\t\t\t\t<div className='odd claim-network'>\r\n\t\t\t\t\t\t{miningClaim && <div className='text-title'>{lang['your-deri-is-on']} { config.name }  {lang['connect-to']} { config.name } {lang['to-claim']}</div>}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='claim-btn'>\r\n\t\t\t\t\t<Button btnText={btnText} click={click} className='claim' lang={lang}/>\t\t\t\t\t\r\n\t\t\t\t</div>\r\n      </div>\r\n  ) \r\n}","import React, { useState, useEffect} from 'react'\r\nimport {\r\n\tgetLiquidityInfo,getPoolInfoApy,isUnlocked,unlock,getPoolLiquidity,openConfigListCache, getWalletBalance, unlockLp, isLpUnlocked, getLpWalletBalance, getLpLiquidityInfo,getLpPoolInfoApy, bg\r\n} from '../../../lib/web3js/indexV2'\r\nimport AddLiquidity from './Dialog/AddLiquidity';\r\nimport RemoveLiquidity from './Dialog/RemoveLiquidity';\r\nimport Button from '../../Button/Button';\r\nimport { inject, observer } from 'mobx-react';\r\nimport withModal from '../../hoc/withModal';\r\nimport { eqInNumber, isCakeLP, isLP, isSushiLP } from '../../../utils/utils';\r\nimport DeriNumberFormat from '../../../utils/DeriNumberFormat';\r\n\r\nfunction Liquidity({wallet,version,chainId,baseToken,address,type,baseTokenId,symbolId,lang,loading}) {\r\n  const [liquidity,setLiquidity] = useState({})\r\n  const [bToken,setBToken] = useState(baseToken)\r\n\tconst isLpPool = (type === 'lp')\r\n\tconst loadLiquidityInfo = async () => {\r\n\t\tif(version === 'v2_lite_open'){\r\n\t\t\tawait openConfigListCache.update()\r\n\t\t}\r\n\t\tloading.loading();\r\n\t\tconst apyPool = await getPoolInfoApy(chainId,address,baseTokenId)\r\n\t\tconst pooLiquidity = await getPoolLiquidity(chainId,address,baseTokenId);\r\n\t\tif(wallet.isConnected() && eqInNumber(chainId , wallet.detail.chainId)){\r\n\t\t\tlet info = null;\r\n\t\t\tif(isLpPool){\r\n\t\t\t\tinfo = await getLpLiquidityInfo(chainId,address,wallet.detail.account)\r\n\t\t\t} else {\r\n\t\t\t\tinfo = await getLiquidityInfo(chainId,address,wallet.detail.account,baseTokenId);\r\n\t\t\t}\r\n\t\t\tlet lpApy ;\r\n\t\t\tif(isLP(address)){\r\n\t\t\t\tlet lapy = await getLpPoolInfoApy(chainId,address)\r\n\t\t\t\tlpApy = (+lapy.apy2) * 100;                     \t\t\t\t\t\t\r\n\t\t\t\t// if(!info.shareValue){\r\n\t\t\t\t// \tinfo.shareValue = 1; \r\n\t\t\t\t// }\r\n\t\t\t}\r\n\t\t\tif(info){\r\n\t\t\t\tconst shares = info.shares ? bg(info.shares) : bg(0)\r\n\t\t\t\tif(version === 'v1' || version === 'v2_lite' || version === 'v2_lite_open' || version === 'option') {\r\n\t\t\t\t\tconst total = shares.isNaN() ? bg(0) : shares.multipliedBy(info.shareValue) \r\n\t\t\t\t\tsetLiquidity({\r\n\t\t\t\t\t\ttotal :  info.poolLiquidity,\r\n\t\t\t\t\t\tapy : ((+apyPool.apy) * 100).toFixed(2),\r\n\t\t\t\t\t\tshareValue : info.shareValue,\r\n\t\t\t\t\t\tpercent : info.poolLiquidity > 0 ? total.dividedBy(info.poolLiquidity).multipliedBy(100).toFixed(2) : 0,\r\n\t\t\t\t\t\tshares : shares.toFixed(2),\r\n\t\t\t\t\t\tformatShares : shares.toFixed(2),\r\n\t\t\t\t\t\ttotalShares : bg(shares).toString(),\r\n\t\t\t\t\t\tvalues : total.toFixed(4),\r\n\t\t\t\t\t\tlpApy,\r\n\t\t\t\t\t\tunit : lang['shares'],\r\n\t\t\t\t\t\tsharesTitle : lang['staked-balance']\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLiquidity({\r\n\t\t\t\t\t\ttotal : info.poolLiquidity,\r\n\t\t\t\t\t\tapy : ((+apyPool.apy) * 100).toFixed(2),\r\n\t\t\t\t\t\tpnl : (+info.pnl).toFixed(2),\r\n\t\t\t\t\t\tswappedPnl : (+info.swappedPnl).toFixed(2),\r\n\t\t\t\t\t\tshares : shares.toString(),\r\n\t\t\t\t\t\tformatShares : shares.toFixed(2),\r\n\t\t\t\t\t\ttotalShares : bg(shares).toString(),\r\n\t\t\t\t\t\tpercent : info.poolLiquidity > 0 ? shares.dividedBy(info.poolLiquidity).multipliedBy(100).toFixed(2) : 0,\r\n\t\t\t\t\t\tunit : baseToken,\r\n\t\t\t\t\t\tpnlToken:info.bToken0Symbol,\r\n\t\t\t\t\t\tsharesTitle : lang['my-Liquidity'],\r\n\t\t\t\t\t\tmultiplier : `${apyPool.multiplier}x`\r\n\t\t\t\t\t})\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t\r\n\t\t\tlet lpApy ;\r\n\t\t\tif(isLP(address)){\r\n\t\t\t\tlet lapy = await getLpPoolInfoApy(chainId,address)\r\n        \t\tlpApy = (+lapy.apy2) * 100;                           \r\n\t\t\t}\r\n\t\t\tif(pooLiquidity){\r\n\t\t\t\tsetLiquidity({\r\n\t\t\t\t\ttotal : pooLiquidity.liquidity,\r\n\t\t\t\t\tapy : (+apyPool.apy) * 100,\r\n\t\t\t\t\tlpApy\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t\tloading.loaded()\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tloadLiquidityInfo();\r\n\t\t//cake 显示的baseToken 不一致，特殊处理\r\n\t\tif(isCakeLP(address)){\r\n\t\t\tsetBToken('CAKE-LP')\r\n\t\t}\r\n\t\treturn () => {}\r\n\t}, [wallet.detail.account,baseToken])\r\n\r\n\r\n  return (\r\n    <div className=\"liquidity-box\">\r\n\t\t\t{version === 'v2_lite_open' \r\n\t\t\t\t? <div className=\"odd title\">{lang['my-liqudity-providing']}</div> \r\n\t\t\t\t: <div className=\"odd title\">{lang['provide']} \r\n\t\t\t\t\t{isLpPool ? <a href={/DERI-USDT/.test(bToken) ? 'https://app.sushi.com/add/0xA487bF43cF3b10dffc97A9A744cbB7036965d3b9/0xdAC17F958D2ee523a2206206994597C13D831ec7' : 'https://pancakeswap.finance/add/0xe60eaf5A997DFAe83739e035b005A33AfdCc6df5/0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56'} target='_blank' rel='noreferrer'>\r\n\t\t\t\t\t{ bToken }</a> : ` ${bToken} `}\r\n\t\t\t\t\t {lang['earn-deri']}</div>}\r\n\t\t\t\t<div className=\"odd text\">\r\n\t\t\t\t\t\t<div className=\"text-title\">{lang['pool-total-liquidity']}</div>\r\n\t\t\t\t\t\t<div className=\"text-num\"><DeriNumberFormat allowZero={true} value={ liquidity.total} suffix={` ${ bToken}`  } thousandSeparator={true}/></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{version === 'v2' && <div className='odd text'>\r\n\t\t\t\t\t<div className='text-title'>{lang['multiplier']}</div>\r\n\t\t\t\t\t<div className='text-num multiplier' tip={lang['multiplier-tip']}>{liquidity.multiplier}</div>\r\n\t\t\t\t</div>\t}\r\n\t\t\t\t{version !== 'v2_lite_open' && <div className=\"odd text\">\r\n\t\t\t\t\t<div className=\"text-title\">{lang['apy']}</div>\r\n\t\t\t\t\t\t\t<div className='text-num' >\r\n\t\t\t\t\t\t\t\t<span tip={isLP(address) && lang['deri-apy']} className={`${isLP(address) && 'sushi-apy-underline'}`}>\r\n\t\t\t\t\t\t\t\t\t<DeriNumberFormat value={ liquidity.apy } decimalScale={2} suffix='%'/></span>\r\n\t\t\t\t\t\t\t\t\t{isLP(address) && liquidity.lpApy > 0 && <><span> +</span> <span className=\"sushi-apy-underline text-num\" tip={isSushiLP(address) ? lang['sushi-apy'] : lang['cake-apy']}> \r\n\t\t\t\t\t\t\t\t\t<DeriNumberFormat value={  liquidity.lpApy } allowZero={true}  decimalScale={2} suffix='%'/></span></>}\r\n\t\t\t\t\t\t</div>\t\t\t\t\t\r\n\t\t\t\t</div>}\r\n\t\t\t\t{(version === 'v1' || version === 'v2_lite' || version === 'v2_lite_open' || version === 'option') && <div className=\"odd text\">\r\n\t\t\t\t\t<div className=\"text-title\">{lang['liquidity-share-value']}</div>\r\n\t\t\t\t\t<div className=\"text-num\"><DeriNumberFormat  allowZero={true} decimalScale={6} value={ liquidity.shareValue} suffix={ ' '+ bToken } thousandSeparator={true}/></div>\t\t\t\t\t\t\r\n\t\t\t\t</div>}\r\n\t\t\t\t<div className=\"odd text\">\r\n\t\t\t\t\t\t<div className=\"text-title\">{lang['my-liquidity-pencentage']}</div>\r\n\t\t\t\t\t\t<div className=\"text-num\"><DeriNumberFormat allowZero={true} value={ liquidity.percent } decimalScale={2} suffix={'%'}/></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"odd text\">\r\n\t\t\t\t\t\t<div className=\"text-title\">{liquidity.sharesTitle} </div>\r\n\t\t\t\t\t\t<div className=\"text-num\"><DeriNumberFormat allowZero={true}  value={ liquidity.formatShares } decimalScale={2} /> <span>{liquidity.unit}</span> </div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{version === 'v2' && <div className=\"odd text claim-network\">\r\n\t\t\t\t\t<div className='text-title'>{lang['mining-pnl']}</div>\r\n\t\t\t\t\t<div className=\"text-num\">≈ &nbsp;<DeriNumberFormat allowZero={true} prefix=' ' value={ liquidity.swappedPnl } decimalScale={2} suffix ={' '+ bToken }  /></div>\r\n\t\t\t\t</div>}\r\n\t\t\t\t{(version === 'v1' || version === 'v2_lite' || version === 'v2_lite_open' || version === 'option') && <div className=\"odd claim-network\">\r\n\t\t\t\t\t<div className=\"text-title money\"> ≈ <DeriNumberFormat allowZero={true}   value={liquidity.values} suffix ={' '+ bToken } decimalScale={4}/></div>\t\t\t\t\t\t\r\n\t\t\t\t\t{/* <div className=\"text-title money\"> {liquidity.values ? (+liquidity.values).toFixed(2) : '--'}</div>\t\t\t\t\t\t */}\r\n\t\t\t\t</div>}\r\n\t\t\t\t<Operator version={version} wallet={wallet} chainId={chainId} address={address} liqInfo={liquidity} baseToken={bToken} isLpPool={isLpPool} loadLiqidityInfo={loadLiquidityInfo} symbolId={symbolId} baseTokenId={baseTokenId} lang={lang}/>\r\n\t</div>\r\n  )\r\n}\r\n\r\n\r\nconst AddDialog = withModal(AddLiquidity)\r\nconst RemoveDialog = withModal(RemoveLiquidity)\r\n\r\n//操作区\r\nconst Operator = ({version,wallet,chainId,address,baseToken,isLpPool,liqInfo,loadLiqidityInfo,baseTokenId,symbolId,lang})=> {\r\n\tconst [isApproved,setIsApproved] = useState(false)\r\n\tconst [btnType, setBtnType] = useState('add')\r\n\tconst [isOpen, setIsOpen] = useState(false)\r\n\tconst [balance, setBalance] = useState('');\r\n\tconst [buttonElment, setButtonElment] = useState(null);\r\n\t\r\n\r\n  const loadBalance = async () => {\r\n    if(wallet.isConnected() && eqInNumber(wallet.detail.chainId,chainId)){\r\n\t\t\tlet total = null;\r\n\t\t\tif(version === 'v2_lite_open'){\r\n\t\t\t\tawait openConfigListCache.update()\r\n\t\t\t}\r\n\t\t\tif(isLpPool){\r\n\t\t\t\ttotal = await getLpWalletBalance(wallet.detail.chainId,address,wallet.detail.account);\r\n\t\t\t} else {\r\n\t\t\t\ttotal = await getWalletBalance(wallet.detail.chainId,address,wallet.detail.account,baseTokenId);\r\n\t\t\t}\r\n\t\t\tif(typeof total !== 'object'){\r\n\t\t\t\tsetBalance(total)\t\t\t\t\r\n\t\t\t}\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n\t\tloadBalance();\r\n\t\tloadLiqidityInfo();\r\n    return () => {}\r\n  }, [wallet.detail.account])\r\n\r\n\r\n\tconst isApprove = async () => {\r\n\t\tif(version === 'v2_lite_open'){\r\n\t\t\tawait openConfigListCache.update()\r\n\t\t}\r\n\t\tif(isLpPool){\r\n\t\t\tconst result = await isLpUnlocked(chainId,address,wallet.detail.account) \t\t\t \r\n\t\t\tsetIsApproved(result);\r\n\t\t\treturn result;\r\n\t\t} else {\r\n\t\t\tconst result = await isUnlocked(chainId,address,wallet.detail.account,baseTokenId) \t\t\t \r\n\t\t\tsetIsApproved(result);\r\n\t\t\treturn result;\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n\r\n\tconst approve = async () => {\r\n\t\tlet res = null;\r\n\t\tif(isLpPool){\r\n\t\t\tres = await unlockLp(chainId,address,wallet.detail.account);\r\n\t\t} else {\r\n\t\t\tres = await unlock(chainId,address,wallet.detail.account,baseTokenId);\r\n\t\t}\t\t\r\n\t\tif(res && res.success){\r\n\t\t\tsetIsApproved(true)\r\n\t\t} else {\r\n\t\t\talert(res.error ?  res.error.message || lang['approve-failed'] : lang['approve-failed'])\r\n\t\t}\r\n  }\r\n\r\n\r\n\tconst connect =  async () => {\r\n\t\ttry {\r\n\t\t\tconst result = await wallet.connect();\r\n\t\t\treturn result ? true : false\r\n\t\t} catch (e){\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\t\r\n\tconst addLiquidity = () => {\r\n\t\tsetIsOpen(true);\r\n\t\tsetBtnType('add')\r\n\t}\r\n\r\n\tconst afterClick = () => {\r\n\t\tsetIsOpen(false);\r\n\t\t// loadLiquidity()\r\n\t\tloadBalance();\r\n\t\tloadLiqidityInfo();\r\n\t\twallet.refresh()\r\n\t}\r\n\r\n\tconst removeLiquidity = () => {\r\n\t\tsetIsOpen(true);\r\n\t\tsetBtnType('remove')\r\n\t}\r\n\r\n\r\n  \r\n  useEffect(() => {\r\n\t\t// todo 判断网络\r\n    if(wallet.isConnected() && eqInNumber(wallet.detail.chainId, chainId)){\r\n\t\t\tisApprove()\r\n    }\r\n\t\treturn () => {}\r\n\t}, [wallet.detail.account])\r\n\r\n\tuseEffect(() => {\t\t\r\n\t\tif(wallet.isConnected() && eqInNumber(wallet.detail.chainId,chainId) && isApproved){\r\n\t\t\tsetButtonElment((<div className=\"add-remove-liquidity\">\r\n\t\t\t<button \r\n\t\t\t\t\tclassName=\"add-liquidity\"\r\n\t\t\t\t\tonClick={addLiquidity}>\r\n\t\t\t\t\t{lang['add-liquidity']}\r\n\t\t\t</button>\r\n\t\t\t<button className=\"remove-liquidity\" onClick={removeLiquidity}>\r\n\t\t\t\t\t{lang['remove-liquidity']}\r\n\t\t\t</button>\r\n\t\t</div>))\r\n\t\t} else {\r\n\t\t\tlet el = null\r\n\t\t\tif(!wallet.isConnected()){\r\n\t\t\t\tel = <div className='approve'><Button className='approve-btn' click={connect} btnText={lang['connect-wallet']} lang={lang}></Button></div>\r\n\t\t\t} else if(!eqInNumber(wallet.detail.chainId,chainId)) {\r\n\t\t\t\twallet.switchNetwork({id: chainId})\r\n\t\t\t\tel = <div className=\"approve\" ><Button className='approve-btn wrong-network' btnText={lang['wrong-network']}  lang={lang} click={() => wallet.switchNetwork({id : chainId})} ></Button></div>\t\t\t\t\r\n\t\t\t} else if(!isApproved) {\r\n\t\t\t\tel = <div className='approve'><Button className='approve-btn' click={approve} btnText={lang['approve']} lang={lang}></Button></div>\r\n\t\t\t} \r\n\t\t\tsetButtonElment(el)\r\n\t\t}\r\n\t\t\t\r\n\t\treturn () => {};\r\n\t}, [wallet.detail.account,isApproved]);\r\n\r\n  return (\r\n    <div className=\"liquidity-btn\">\r\n\t\t\t{\r\n\t\t\t\tbtnType === 'add' \r\n\t\t\t\t? <AddDialog  modalIsOpen={isOpen} isLpPool={isLpPool} onClose={afterClick} balance={balance}\r\n\t\t\t\t\t\t\t\t\t\t  address={address} wallet={wallet} baseToken={baseToken} afterAdd={afterClick} baseTokenId={baseTokenId}  symbolId={symbolId} lang={lang}/> \r\n\t\t\t\t: <RemoveDialog  modalIsOpen={isOpen} isLpPool={isLpPool} onClose={afterClick} liqInfo={liqInfo}  \r\n\t\t\t\t\t\t\t\t\t\t\taddress={address} wallet={wallet} version={version} unit={version === 'v1' || version === 'v2_lite' || version === 'option' ? lang['shares'] :baseToken} afterRemove={afterClick} baseTokenId={baseTokenId} symbolId={symbolId} lang={lang}/>\r\n\t\t\t}\t\t\t\r\n\t\t\t{buttonElment}\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default inject('wallet','loading')(observer(Liquidity))","import React, { useState ,useEffect} from 'react'\r\nimport NumberFormat from 'react-number-format'\r\nimport Button from '../../../Button/Button';\r\nimport Modal from 'react-modal'\r\nimport { addLiquidity, getWalletBalance, bg, addLpLiquidity } from '../../../../lib/web3js/indexV2';\r\nimport useSpecification from '../../../../hooks/useSpecification';\r\nimport useDisableScroll from '../../../../hooks/useDisableScroll';\r\nimport DeriNumberFormat from '../../../../utils/DeriNumberFormat';\r\n\r\n\r\n\r\nexport default function AddLiquidity({wallet,address,baseToken,onClose,afterAdd,balance,isLpPool,baseTokenId,symbolId,lang}){\r\n  const [amount, setAmount] = useState('0');\r\n  const [decimal, setDecimal] = useState('00');\r\n  const [addValue, setAddValue] = useState('')\r\n  const spec = useSpecification({wallet,address,symbolId});\r\n  useDisableScroll();\r\n\r\n\r\n  const input = (e) => {\r\n    const {value} =e.target\r\n    setAddValue(value)\r\n  }\r\n\r\n  const addAll = () => {\r\n    setAddValue(balance);\r\n  }\r\n\r\n  const addLiq = async () => {\r\n    const max = bg(balance)\r\n    const cur = bg(addValue);\r\n    if(cur.gt(max)) {\r\n      alert(lang['not-sufficient-funds']);\r\n      return false;\r\n    }\r\n    if(spec && (+addValue) < (+spec.minAddLiquidity)) {\r\n      alert(`${lang['the-input-liquidity-shall-not-be-less-than']} ${spec.minAddLiquidity}`);\r\n      return false;\r\n    }\r\n    if(addValue <=0 || isNaN(addValue)){\r\n      alert(lang['it-has-to-be-greater-than-zero']);\r\n      return false;\r\n    }\r\n    let res =  null;\r\n    if(isLpPool){\r\n      res = await addLpLiquidity(wallet.detail.chainId,address,wallet.detail.account,addValue);\r\n    } else{\r\n      res = await addLiquidity(wallet.detail.chainId,address,wallet.detail.account,addValue,baseTokenId)\r\n    }\r\n    \r\n    if (!res ||  !res.success) {\r\n      alert(lang['failure-of-transaction']);\r\n    }\r\n    return true;\r\n  }\r\n\r\n  useEffect(() => {    \r\n    const amount = (+balance).toFixed(2)\r\n    const decimal = amount.substring(amount.indexOf('.') + 1,amount.length)\r\n    setAmount(amount);\r\n    setDecimal(decimal)\r\n    return () => {};\r\n  }, [balance]);\r\n\r\n\r\n  return(\r\n    <div className='modal-dialog'>\r\n        <div className='modal-content'>\r\n          <div className='modal-header'>\r\n            <div className='title'>{lang['add-liquidity']}</div>\r\n            <div className='close' onClick={onClose}>\r\n              <span>&times;</span>\r\n            </div>\r\n          </div>\r\n          <div className='modal-body'>\r\n            <div className='margin-box-info'>\r\n              <div>{lang['wallet-balance']}</div>\r\n              <div className='money'>\r\n                <span> \r\n                  <span className='bt-balance'>\r\n                    <NumberFormat displayType='text' value ={amount } thousandSeparator={true} allowZero={true} decimalScale={0}/>.\r\n                    <span className='float'><NumberFormat displayType='text' value ={decimal} thousandSeparator={true} decimalScale={2} allowZero={true}/></span>\r\n                  </span> \r\n                    <div className='base-token'>{ baseToken }</div> \r\n                  </span>\r\n                <span className='add'></span>\r\n              </div>\r\n              <div className='enter-margin'>\r\n                <div className='input-margin'>\r\n                  <div className='box'>\r\n                    <div className='amount' style={{display : addValue ? 'block' : 'none'}}>{lang['liquidity']}</div>\r\n                    <input\r\n                      type='number'\r\n                      className='margin-value'\r\n                      placeholder={lang['liquidity']}\r\n                      value={addValue}\r\n                      onChange={input}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div>{ baseToken }</div>\r\n              </div>\r\n              <div className='max'>\r\n                {lang['max']}: <span className='max-num'><DeriNumberFormat value={balance} decimalScale={8}/></span>\r\n                <span className='max-btn-left' onClick={addAll}>{lang['add-all']}</span>\r\n              </div>\r\n              <div className='add-margin-btn'>\r\n                <Button className='margin-btn' click={addLiq} btnText={lang['add']} afterClick={afterAdd} lang={lang}/>\r\n              </div>\r\n            </div>\r\n          </div>    \r\n        </div>\r\n      </div>\r\n  )\r\n}","import { useState, useEffect } from 'react'\r\nimport { getSpecification } from \"../lib/web3js/indexV2\";\r\n\r\nexport default function useSpecification({wallet,address,symbolId}){\r\n  const [spec, setSpec] = useState({});\r\n\r\n  const loadSpec = async () => {\r\n    if(wallet.isConnected() && address){\r\n      const spec =  await getSpecification(wallet.detail.chainId,address,symbolId);\r\n      setSpec(spec);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    loadSpec();\r\n    return () => {      \r\n    }\r\n  }, wallet.detail.account,address);\r\n\r\n  return spec;\r\n}","import React, { useState ,useEffect} from 'react'\r\nimport NumberFormat from 'react-number-format'\r\nimport { removeLiquidity, bg, removeLpLiquidity } from '../../../../lib/web3js/indexV2';\r\nimport Button from '../../../Button/Button';\r\nimport useDisableScroll from '../../../../hooks/useDisableScroll';\r\nimport DeriNumberFormat from '../../../../utils/DeriNumberFormat';\r\n\r\nexport default function RemoveLiquidity({wallet,address,liqInfo,onClose,afterRemove,isLpPool,baseTokenId,unit,lang,version}){  \r\n  const [amount, setAmount] = useState('');\r\n  const [balance, setBalance] = useState('0');\r\n  const [decimal, setDecimal] = useState('00');\r\n  useDisableScroll();\r\n\r\n\r\n  const addAll = () => {\r\n    setAmount(liqInfo.totalShares)\r\n  }\r\n\r\n  const onChange = e => {\r\n    const {value} = e.target;\r\n    setAmount(value)\r\n  }\r\n\r\n  const remove = async () => {\r\n    const max = bg(liqInfo.totalShares);\r\n    const cur = bg(amount);\r\n    if (cur.gt(max)) {\r\n      alert(`${lang['your-current-max-removable-shares-are']}  ${liqInfo.totalShares}`);\r\n      return false;\r\n    }\r\n    if(!isLpPool && version === 'v1'){\r\n      const balance = (+liqInfo.totalShares) - (+amount)\r\n      if (balance < 1 && balance > 0) {\r\n        alert(lang['staking-max-limit-tip']);\r\n        return false;\r\n      }\r\n    }\r\n    if (+amount <= 0 || isNaN(amount)) {\r\n      alert(lang['invalid-liquidity']);\r\n      return false;\r\n    }\r\n    let res = null;\r\n    if(isLpPool){\r\n      res = await removeLpLiquidity(wallet.detail.chainId,address,wallet.detail.account,amount);\r\n    } else {\r\n      res = await removeLiquidity(wallet.detail.chainId,address,wallet.detail.account,amount,baseTokenId,max.eq(cur));\r\n    }\r\n    \r\n    if(!res || !res.success){\r\n      alert(lang['failure-of-transaction']);\r\n      return false; \r\n    }\r\n    return true;\r\n  }\r\n\r\n\r\n  useEffect(() => {    \r\n    if(liqInfo && liqInfo.formatShares){\r\n      const balance = liqInfo.formatShares;\r\n      const decimal = balance.substring(balance.indexOf('.') +1 ,balance.indexOf('.') + 3)\r\n      setBalance(balance);\r\n      setDecimal(decimal)\r\n    }\r\n    return () => {};\r\n  }, [liqInfo.totalShares]);\r\n\r\n  \r\n  \r\n  return(\r\n    <div className='modal-dialog'>\r\n        <div className='modal-content'>\r\n          <div className='modal-header'>\r\n            <div className='title'>{lang['remove-liquidity']}</div>\r\n            <div className='close' data-dismiss='modal' onClick={onClose}>\r\n              <span>&times;</span>\r\n            </div>\r\n          </div>\r\n          <div className='modal-body'>          \r\n            <div className='margin-box-info'>\r\n              <div> {version === 'v1' || version === 'v2_lite'  || version === 'v2_lite_open' ? lang['shares-available'] : lang['liquidity-available']}</div>\r\n              <div className='money'>\r\n                <span>\r\n                  <span className='bt-balance'>\r\n                    <NumberFormat displayType='text' value ={balance} decimalScale={0} thousandSeparator={true}/>.\r\n                    <span className='float'>{decimal}</span>\r\n                  </span>\r\n                    </span>\r\n                <span className='remove'></span>\r\n              </div>\r\n              <div className='enter-margin'>\r\n                <div className='input-margin'>\r\n                  <div className='box'>\r\n                    <div className='amount' style={{display : amount ? 'block' : 'none'}}>\r\n                      {version === 'v1' || version === 'v2_lite'  || version === 'v2_lite_open'  ? lang['liquidity-shares'] : lang['liquidity']}\r\n                    </div>\r\n                    <input\r\n                      type='number'\r\n                      className='margin-value'\r\n                      placeholder={version === 'v1' || version === 'v2_lite'  || version === 'v2_lite_open'  ? lang['liquidity-shares'] : lang['liquidity']}\r\n                      value={amount}\r\n                      onChange={onChange}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                 {version === 'v2' ? unit : lang['shares']}\r\n                </div>\r\n              </div>\r\n              <div className='max'>\r\n                <span>{lang['max-removeable']}</span>\r\n                <span className='max-num'><DeriNumberFormat value={liqInfo.totalShares} decimalScale={8}/></span>\r\n                <span className='max-btn-left' onClick={addAll}>{lang['remove-all']}</span>\r\n              </div>\r\n              <div className='add-margin-btn'>\r\n                <Button click={remove} className='margin-btn' btnText={lang['remove']} afterClick={afterRemove} lang={lang}/>\r\n              </div>\r\n            </div>\r\n          </div>    \r\n        </div>\r\n      </div>\r\n      )\r\n}","import Claim from '../../Claim/Claim';\r\nimport Liquidity from './Liquidity';\r\n\r\n\r\nfunction LiquidityMining(props){\r\n  return (\r\n    <div className=\"liquidity-info\">\r\n      {props.version !== 'v2_lite_open' &&<Claim {...props} miningClaim={true}/>}\r\n      <Liquidity {...props}/>\r\n  </div>)\r\n}\r\n\r\nexport default LiquidityMining","import { useState, useEffect } from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport { getUserInfoAll,getUserInfoInPool ,getPoolInfoApy} from '../../../lib/web3js/indexV2';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { inject, observer } from 'mobx-react';\r\nimport { storeConfig, eqInNumber } from '../../../utils/utils';\r\nimport Config from '../../../model/Config';\r\n\r\nconst configInfo = new Config();\r\n\r\n\r\nfunction Liquidity({wallet = {},version,chainId,address,symbolId,lang}) {\r\n  const [userInfoInPool,setUserInfoInPool] = useState({})\r\n  const [tradeSummary, setTradeSummary] = useState({});\r\n  const history = useHistory();\r\n\r\n\tconst loadUserInfoInPool = async () => {\r\n\t\tconst userInfo = await getUserInfoAll(wallet.account);\r\n\t\tconst userInfoPool = await getUserInfoInPool(chainId,address,wallet.account);\r\n\t\tconst harvestDeriTrade = (+userInfo.trade).toFixed(2);\r\n\t\tconst myTradingVolumeCurrent = userInfoPool.volume1h\r\n\t\tsetUserInfoInPool({harvestDeriTrade,myTradingVolumeCurrent})\r\n\t}\r\n\r\n\tconst getTradeInfo = async () => {\r\n\t\tconst poolInfo = await getPoolInfoApy(chainId,address);\r\n\t\tconst totalTradingVolumeCurrent = poolInfo.volume1h\r\n\t\tsetTradeSummary({totalTradingVolumeCurrent})\r\n  }\r\n  \r\n  const toTrade = () => {\r\n    const configs = configInfo.load(version);\r\n    const config = version.isV1 ? configs.find(c => eqInNumber(c.pool,address)) : configs.find(c => eqInNumber(c.pool,address) && c.symbolId === symbolId)\r\n    storeConfig(version.current,config)\r\n    history.push('/lite')\r\n  }\r\n\r\n\tuseEffect(() => {\r\n\t\tif(wallet && wallet.account){\r\n\t\t\tloadUserInfoInPool();\r\n\t\t\tgetTradeInfo();\r\n\t\t}\r\n\t\treturn () => {};\r\n\t}, []);\r\n\r\n  return(\r\n    <div className=\"liquidity-box\">\r\n      <div className=\"odd title\">{lang['trade-to-earn-deri']}</div>\r\n        <div className=\"odd text\">\r\n            <div className=\"text-title\">{lang['total-trading-volume-in-current-hour']}</div>\r\n            <div className=\"text-num\">{ tradeSummary.totalTradingVolumeCurrent || 0}</div>\r\n        </div>\r\n        <div className=\"odd text\">\r\n            <div className=\"text-title\">{lang['my-trading-volume-in-current-hour']}</div>\r\n            <div className=\"text-num\">{ userInfoInPool.myTradingVolumeCurrent || 0 }</div>\r\n        </div>\r\n        <div className=\"odd text\">\r\n            <div className=\"text-title\"></div>\r\n            <div className=\"text-num\"></div>\r\n        </div>\r\n        <div className=\"odd text\">\r\n            <div className=\"text-title\"></div>\r\n            <div className=\"text-num\"></div>\r\n        </div>\r\n        <div className=\"odd text\">\r\n            <div className=\"text-title\"></div>\r\n            <div className=\"text-num\"></div>\r\n        </div>\r\n        <div className=\"odd claim-network\">\r\n              \r\n        </div>\r\n        <div className=\"claim-btn\">\r\n            <button className=\"claim\" onClick={toTrade}>\r\n              {lang['trade']}\r\n            </button>\r\n        </div>\r\n    </div> \r\n  )\r\n}\r\nexport default inject('version')(observer(Liquidity))","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Modal = require(\"./components/Modal\");\n\nvar _Modal2 = _interopRequireDefault(_Modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _Modal2.default;\nmodule.exports = exports[\"default\"];","import {useState,useRef,useEffect} from 'react';\r\nexport default function Button({btnText,className,disabled,click,afterClick,checkApprove,wallet,spec,lang}){\r\n  const [status, setStatus] = useState(disabled ? 'disabled' : 'enabled');\r\n  const [isApproved, setIsApproved] = useState(true);\r\n  const [pending, setPending] = useState(false);\r\n  const [buttonText, setbuttonText] = useState(btnText)\r\n  const loadRef = useRef(null)\r\n\r\n  const onClick = async () => {\r\n    if(status !== 'enabled') {\r\n      return ;\r\n    }\r\n    beforeAction()\r\n    const result = await click();    \r\n    if(result){\r\n      afterClick && afterClick()\r\n    } \r\n    afterAction()\r\n  }\r\n\r\n  const beforeAction = ()  => {\r\n    setStatus('disabled')\r\n    setPending(true);\r\n    loadRef.current && (loadRef.current.style.display = 'inline-block')\r\n  }\r\n\r\n  const afterAction = () => {\r\n    loadRef.current && (loadRef.current.style.display = 'none')\r\n    setStatus('enabled')\r\n    setPending(false);\r\n  }\r\n\r\n  const loadApproveStatus = async () => {\r\n    if(checkApprove && wallet && wallet.detail.account){\r\n      const res = await wallet.isApproved(spec.pool,spec.bTokenId)\r\n      setIsApproved(res);\r\n    }\r\n  }\r\n  const approve = async () => {\r\n    beforeAction();\r\n    const res = await wallet.approve(spec.pool,spec.bTokenId);\r\n    if(res.success){\r\n      setIsApproved(true);\r\n    } else {\r\n      setIsApproved(false)\r\n      alert(lang['approve-failed'])\r\n    }\r\n    afterAction();\r\n  }\r\n\r\n  const action = () => {\r\n    if(isApproved){\r\n      onClick();\r\n    } else {\r\n      approve();\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    loadApproveStatus();\r\n    return () => {};\r\n  }, [wallet,spec,checkApprove]);\r\n\r\n  useEffect(() => {\r\n    if(btnText){\r\n      setbuttonText(btnText)\r\n    }\r\n    return () => {\r\n    }\r\n  }, [btnText])\r\n\r\n  return(\r\n    <button className={className} onClick={action} >\r\n        <span className='btn-loading-wrap'>\r\n          <span ref={loadRef}\r\n            className='spinner spinner-border spinner-border-sm'\r\n            style={{display : 'none' ,marginRight : '2'}}>\r\n          </span>\r\n        </span>\r\n          {pending ? lang['pending'] : (isApproved ? buttonText : lang['approve'])  }\r\n        </button>\r\n  )\r\n}","import React,{useState,useEffect} from 'react'\r\nimport NumberFormat from 'react-number-format'\r\nimport { inject, observer } from 'mobx-react';\r\n\r\nfunction DeriNumberFormat(props){\r\n  const [renderablity, setRenderablity] = useState(<span className='loading-line'></span>);\r\n\r\n  const isValidate = () => {\r\n    const {allowZero} = props \r\n    return (typeof props.value !== 'object' && props.value !== undefined && props.value !== '' && props.value !== 'NaN') \r\n          || ((isNaN(props.value) && Math.abs(props.value)) === 0 && allowZero === true )\r\n  }\r\n\r\n  useEffect(() => {\r\n    const {allowZero,wallet,defaultValue = '--',...others} = props \r\n    if(isValidate()) {\r\n      setRenderablity(<NumberFormat {...others}  displayType = 'text'  fixedDecimalScale={true} />)\r\n    } else {\r\n      setRenderablity(<span className='loading-line'></span>)\r\n    } \r\n    const timeout = window.setTimeout(() => {\r\n      if(!isValidate() && wallet && !wallet.isConnected()){\r\n        setRenderablity(defaultValue)\r\n      }\r\n    },30000)\r\n    return () => {\r\n      clearTimeout(timeout)\r\n    };\r\n  }, [props.value]);\r\n\r\n  return renderablity;\r\n}\r\n\r\nexport default inject('wallet','trading')(observer(DeriNumberFormat))","import { useEffect } from 'react'\r\n\r\nexport default function useDisableScroll(nested) {\r\n  \r\n  useEffect(() => {\r\n    // window.scrollTo(0, 0);\r\n    document.querySelector('body').style.overflow = 'hidden'\r\n    return () => {\r\n      if(!nested){\r\n        document.querySelector('body').style.overflow = 'auto'\r\n      }\r\n    };\r\n  }, []);\r\n  return null;\r\n}\r\n","import { useState, useEffect } from 'react'\r\nimport { getUserInfoAll ,deriToNatural} from '../lib/web3js/indexV2';\r\n\r\n\r\nexport default function useClaimInfo(wallet){\r\n  const [claimInfo, setClaimInfo] = useState({});\r\n  let interval = null;\r\n\r\n  const loadClaimInfo =  async () => {\r\n    if(wallet.isConnected()){\r\n      const claimInfo  = await getUserInfoAll(wallet.detail.account);\r\n      const claimed = (+claimInfo.total).toFixed(2);\r\n      const unclaimed = claimInfo.valid ? (+claimInfo.amount).toFixed(2) : 0;\r\n      const harvestDeriLp = (+claimInfo.lp).toFixed(2);\r\n      const harvestDeriTrade = (+claimInfo.trade).toFixed(2);\r\n      const chainId = claimInfo.chainId\r\n      setClaimInfo({claimed,unclaimed,harvestDeriLp,harvestDeriTrade,chainId})\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    interval = window.setInterval(loadClaimInfo,1000 * 60 *3);\r\n      loadClaimInfo();\r\n    return () => clearInterval(interval);\r\n  }, [wallet.detail.account])\r\n  return [claimInfo,interval];\r\n}"],"sourceRoot":""}