{"version":3,"sources":["components/SignIn/img/success.svg","components/SignIn/img/undone.svg","components/SignIn/img/right.svg","components/SignIn/Signin.js","desktop/pages/Signin/Signin.js","components/Button/Button.js","../node_modules/date-format/lib/index.js"],"names":["inject","observer","wallet","lang","spec","DeriEnv","get","useState","isApprove","setIsApprove","isThanFiveThousand","setIsThanFiveThousand","isClaim","setIsClaim","isHavePtoken","setIsHavePtoken","isNowSign","setIsNowSign","Button","className","btnText","actionElement","setActionElement","isSignIn","setIsSignIn","isTrade","setIsTrade","hasConnectWallet","detail","account","loadApprove","a","isApproved","pool","bTokenId","result","connect","getIsThanFiveThousand","getAirdropPTokenWhitelistCount","chainId","getIsClaimed","path","fetchRestApi","res","data","getStamp","timestamp","Date","parse","nowDate","dateFormat","asString","parseInt","arr","map","item","obj","date","signin","push","length","getIsTrade","getTradeHistory","resBTC","resETH","resBNB","concat","three","signIn","alert","formatBalance","method","success","error","indexOf","claimPtoken","airdropPToken","isPtoken","isUserPTokenExist","approve","useEffect","element","getTime","target","href","click","disabled","one","src","undone","two","right","afterClick","checkApprove","status","setStatus","setIsApproved","pending","setPending","buttonText","setbuttonText","loadRef","useRef","onClick","beforeAction","afterAction","current","style","display","loadApproveStatus","ref","marginRight","padWithZeros","vNumber","width","numAsString","toString","addZero","format","module","exports","ISO8601_FORMAT","now","vDay","getDate","vMonth","getMonth","vYearLong","getFullYear","vYearShort","substring","vYear","vHour","getHours","vMinute","getMinutes","vSecond","getSeconds","vMillisecond","getMilliseconds","vTimeZone","timezoneOffset","os","Math","abs","h","String","floor","m","offset","getTimezoneOffset","replace","setDatePart","part","value","local","pattern","str","missingValuesDate","Error","matchers","regexp","fn","setUTCMinutes","getUTCMinutes","parsedPattern","reduce","p","test","index","match","dateFns","filter","sort","b","matches","RegExp","exec","forEach","f","i","extractDateParts","ISO8601_WITH_TZ_OFFSET_FORMAT","DATETIME_FORMAT","ABSOLUTETIME_FORMAT"],"mappings":"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","file":"static/js/40.89c87d48.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/success.d1b6419b.svg\";","export default __webpack_public_path__ + \"static/media/undone.a632686c.svg\";","export default __webpack_public_path__ + \"static/media/right.462ddd6f.svg\";","import React ,{useEffect,useState} from 'react'\nimport {inject,observer} from 'mobx-react'\nimport dateFormat from 'date-format'\nimport success from './img/success.svg'\nimport undone from './img/undone.svg'\nimport right from './img/right.svg'\nimport {\n  DeriEnv,\n  airdropPToken,\n  isUserPTokenExist,\n  fetchRestApi,\n  getAirdropPTokenWhitelistCount,\n  getTradeHistory\n} from \"../../lib/web3js/indexV2\";\nimport Button from '../Button/Button'\nfunction Signin({wallet={},lang}){\n  const isDev = DeriEnv.get() == 'dev' ? false : true;\n  const spec =  isDev?{\n    \"pool\":\"0x19c2655A0e1639B189FB0CF06e02DC0254419D92\",\n    \"bTokenId\":\"0\"\n  }:{\n    \"pool\":\"0x54a71Cad29C314eA081b2B0b1Ac25a7cE3b7f7A5\",\n    \"bTokenId\":\"0\"\n  }\n  const [isApprove, setIsApprove] = useState(true);\n  const [isThanFiveThousand,setIsThanFiveThousand] = useState(false)\n  const [isClaim,setIsClaim] = useState(false);\n  const [isHavePtoken,setIsHavePtoken] = useState(false);\n  const [isNowSign,setIsNowSign] = useState(false);\n  const [actionElement,setActionElement] = useState(<Button className='btn'  btnText={lang['connect-wallet']}></Button>)\n  const [isSignIn,setIsSignIn] =useState({\n    'one':false,\n    'two':false,\n    'three':false,\n  })\n  const [isTrade,setIsTrade] =useState({\n    'one':false,\n    'two':false,\n    'three':false,\n  })\n  const hasConnectWallet = () => wallet && wallet.detail && wallet.detail.account\n  \n  const loadApprove = async ()=>{\n    if(hasConnectWallet() && spec){\n      const result = await wallet.isApproved(spec.pool,spec.bTokenId);\n      setIsApprove(result);\n    }\n  }\n\n  const connect = () => {\n    wallet.connect()\n  }\n\n  const getIsThanFiveThousand = async () =>{\n    let res = await getAirdropPTokenWhitelistCount(wallet.detail.chainId)\n    if(+res>=4999){\n      setIsThanFiveThousand(true)\n    }\n  }\n\n  const getIsClaimed = async () => {\n    let path = `/ptoken_airdrop/${wallet.detail.account}/is_claimed`;\n    let res = await fetchRestApi(path)\n    setIsClaim(res.data)\n  }\n\n  const getStamp = async () => {\n    let path = `/ptoken_airdrop/${wallet.detail.account}/signin_status`\n    let res = await fetchRestApi(path)\n    let timestamp = Date.parse(new Date());\n    let nowDate = dateFormat.asString('yyyy-MM-dd',new Date(parseInt(timestamp)))\n    let arr = [] \n    res.data.map(item=>{\n      let obj = false;\n      if(item.date == nowDate){\n        setIsNowSign(item.signin)\n      }\n      if(item.signin){\n        obj = item.signin;\n        arr.push(obj)\n      }\n    });\n    if(arr.length){\n      setIsSignIn({\n        'one':arr[0],\n        'two':arr[1],\n        'three':arr[2],\n      })\n    }\n  }\n\n  const getIsTrade = async () => {\n      let resBTC = await getTradeHistory(wallet.detail.chainId,spec.pool,wallet.detail.account,spec.bTokenId)\n      let resETH = await getTradeHistory(wallet.detail.chainId,spec.pool,wallet.detail.account,\"1\")\n      let resBNB = await getTradeHistory(wallet.detail.chainId,spec.pool,wallet.detail.account,\"2\")\n      let res = resBTC.concat(resETH,resBNB);\n      let obj = {}\n      if(isSignIn.three){\n        if(res.length == 1){\n          obj = {\n            'one':true,\n            'two':false,\n            'three':false,\n          }\n        }else if(res.length == 2){\n          obj = {\n            'one':true,\n            'two':true,\n            'three':false,\n          }\n        }else if(res.length >= 3){\n          obj = {\n            'one':true,\n            'two':true,\n            'three':true,\n          }\n        }\n        setIsTrade(obj)\n      }\n  }\n\n  const signIn = async ()=>{\n    if(wallet.detail.chainId != 56){\n      alert(lang['please-switch-to-bsc']);\n      return;\n    }\n    if(+(wallet.detail.formatBalance)<=0.2){\n      alert(lang['less-bnb'])\n      return;\n    }\n    if(isHavePtoken){\n      alert(lang['use-a-new-address'])\n      return;\n    }\n    if(isNowSign){\n      alert(lang['already-stamped-today'])  \n      return;\n    }\n    let path = `/ptoken_airdrop/${wallet.detail.account}/signin`\n    let res = await fetchRestApi(path,{ method: 'POST' });\n    if(!res.success){\n      if(res.error.indexOf('insufficent user balance')!= 0){\n        alert(lang['less-bnb'])\n        return;\n      }\n      alert(lang['sign-in-failed'])\n    }\n    getStamp();\n    return;\n  }\n\n  const claimPtoken = async ()=>{\n    if(wallet.detail.chainId != 56){\n      alert(lang['please-switch-to-bsc']);\n      return;\n    }\n    if(isHavePtoken){\n      alert(lang['use-a-new-address'])\n      return;\n    }\n    if(+(wallet.detail.formatBalance) <= 0.2){\n      alert(lang['less-bnb'])\n      return;\n    }\n    let res = await airdropPToken(wallet.detail.chainId,wallet.detail.account);\n    if(!res.success){\n      alert['claim-failed']\n    }else{\n      alert(['claim-success'])\n      setIsClaim(true)\n    }\n  }\n\n  const isPtoken = async ()=>{\n    let res = await isUserPTokenExist(wallet.detail.chainId,spec.pool,wallet.detail.account)\n    setIsHavePtoken(res)\n  }\n\n  const approve = async () => {\n    if(wallet.detail.chainId != 56){\n      alert(lang['please-switch-to-bsc']);\n      return;\n    }\n    const res = await wallet.approve(spec.pool,spec.bTokenId)\n    if(res.success){\n      setIsApprove(true);\n      loadApprove();\n      \n    } else {\n      setIsApprove(false);\n      alert(lang['approve-failed']);\n    }\n  }\n  \n  useEffect(() => {\n    if(hasConnectWallet()){\n      loadApprove();\n      isPtoken();\n    }\n  }, [wallet.detail,spec,isSignIn]);\n\n  useEffect(()=>{\n    if(hasConnectWallet()){\n      getStamp();\n      getIsClaimed();\n      getIsThanFiveThousand();\n    }\n  },[wallet.detail])\n  useEffect(()=>{\n    if(hasConnectWallet()){\n      getIsTrade();\n    }\n  },[wallet.detail,isSignIn])\n  useEffect(()=>{\n    let element;\n    let timestamp = new Date()\n    //1627725600000\n    if(timestamp.getTime() <= 1627725600000){\n      if(hasConnectWallet()){\n        if(isSignIn.three){\n          if(!isApprove) {\n            element = <Button className='btn' btnText={lang['approve']} click={approve} lang={lang}/>\n          }else if(isClaim || isThanFiveThousand){\n            element = <a className='btn' target=\"_blank\" href='https://app.deri.finance/#/lite'>{lang['trade']}</a>\n          }else{\n            element = <Button className='btn' btnText={lang['claim']} click={claimPtoken}  lang={lang}/>\n          }\n        }else{\n          element = <Button className='btn btn-danger connect' click={signIn} btnText={lang['sign-in']}  lang={lang} />\n        }\n        \n      } else {\n        element = <Button className='btn btn-danger connect' btnText={lang['connect-wallet']} click={connect} lang={lang} />\n      }\n    }else{\n      element = <button className='btn btn-danger connect disbutton' disabled  >{lang['activity-ends']} </button>\n    }\n    \n    setActionElement(element) \n  },[wallet.detail,isApprove,isSignIn,isHavePtoken,isClaim,isThanFiveThousand])\n  \n  return(\n    <div className='signin'>\n      <div className='title'>\n        <div>\n          {lang['title-three']}\n        </div>\n        <div className='time'>\n          {lang['title-five']}\n        </div>\n      </div>\n      <div className='user-tasks'>\n        <div className='header'>\n          {lang['header']}\n        </div>\n        <div className='content'>\n          <div className='content-text'>\n            <div className='left'>\n              <div className='signin-title'>\n                {lang['sign-in']}\n              </div>\n              <div className='signined'>\n                {isSignIn.one?<img src={success} />:<img src={undone} />} \n                {isSignIn.two?<img src={success} />:<img src={undone} />} \n                {isSignIn.three?<img src={success} />:<img src={undone} />} \n              </div>\n            </div>\n            <div className='center'>\n              <div className='point'></div>\n              <div className='point'></div>\n              <div className='point'></div>\n              <div className='claim-ptoken-text'>\n                {lang['claim-ptoken']}\n              </div>\n              <div className='point'></div>\n              <div className='point'></div>\n              <div className='right-arr'>\n                <img src={right} />\n              </div>\n            </div>\n            <div className='right'>\n            <div className='signin-title'>\n                {lang['trade']}\n              </div>\n              <div className='signined'>\n                {isTrade.one?<img src={success} />:<img src={undone} />} \n                {isTrade.two?<img src={success} />:<img src={undone} />} \n                {isTrade.three?<img src={success} />:<img src={undone} />} \n              </div>\n            </div>\n          </div>\n          <div className='button'>\n            {actionElement}\n          </div>\n          {isThanFiveThousand? <div className='exceed'>{lang['exceed-participants']}</div>:''}\n        </div>\n        \n      </div>\n      <div className='h2'>\n          {lang['title-one']}\n          <span className='title-num'>\n            {lang['title-num']}\n          </span>\n          <span className='in-deri'>\n            {lang['title-two']}\n          </span>\n          <div className='text'>\n          {lang['title-frou']}\n        </div>\n        </div>\n      <div className='rules'>\n        <div className='rules-title'>\n          {lang['who-are-eligibles']}\n        </div>\n        \n        <div className='text'>\n          {lang['rules-one']}\n        </div>\n        <div className='text'>\n          {lang['rules-two']}\n        </div>\n        <div className='text'>\n          {lang['rules-three']}\n        </div>\n        <div className='rules-title'>\n          {lang['how-to-participate']}\n        </div>\n        <div className='text'>\n          {lang['step-one']}\n        </div>\n        <div className='text'>\n          {lang['step-two']}\n        </div>\n        <div className='text'>\n          {lang['step-three']}\n        </div>\n        <div className='text'>\n          {lang['step-four']}\n        </div>\n        \n      </div>\n  </div>\n  )\n}\nexport default inject(\"wallet\")(observer(Signin))","/* eslint-disable import/no-anonymous-default-export */\nimport Sign from '../../../components/SignIn/Signin'\nimport './signin.less'\n\nexport default function({lang}){\n  return(\n    <div>\n      <Sign lang={lang} />\n    </div>\n  )\n}","import {useState,useRef,useEffect} from 'react';\nexport default function Button({btnText,className,disabled,click,afterClick,checkApprove,wallet,spec,lang}){\n  const [status, setStatus] = useState(disabled ? 'disabled' : 'enabled');\n  const [isApproved, setIsApproved] = useState(true);\n  const [pending, setPending] = useState(false);\n  const [buttonText, setbuttonText] = useState(btnText)\n  const loadRef = useRef(null)\n\n  const onClick = async () => {\n    if(status !== 'enabled') {\n      return ;\n    }\n    beforeAction()\n    const result = await click();    \n    if(result){\n      afterClick && afterClick()\n    } \n    afterAction()\n  }\n\n  const beforeAction = ()  => {\n    setStatus('disabled')\n    setPending(true);\n    loadRef.current && (loadRef.current.style.display = 'inline-block')\n  }\n\n  const afterAction = () => {\n    loadRef.current && (loadRef.current.style.display = 'none')\n    setStatus('enabled')\n    setPending(false);\n  }\n\n  const loadApproveStatus = async () => {\n    if(checkApprove && wallet && wallet.detail.account){\n      const res = await wallet.isApproved(spec.pool,spec.bTokenId)\n      setIsApproved(res);\n    }\n  }\n  const approve = async () => {\n    beforeAction();\n    const res = await wallet.approve(spec.pool,spec.bTokenId);\n    if(res.success){\n      setIsApproved(true);\n    } else {\n      setIsApproved(false)\n      alert(lang['approve-failed'])\n    }\n    afterAction();\n  }\n\n  const action = () => {\n    if(isApproved){\n      onClick();\n    } else {\n      approve();\n    }\n  }\n\n  useEffect(() => {\n    loadApproveStatus();\n    return () => {};\n  }, [wallet,spec,checkApprove]);\n\n  useEffect(() => {\n    if(btnText){\n      setbuttonText(btnText)\n    }\n    return () => {\n    }\n  }, [btnText])\n\n  return(\n    <button className={className} onClick={action} >\n        <span className='btn-loading-wrap'>\n          <span ref={loadRef}\n            className='spinner spinner-border spinner-border-sm'\n            style={{display : 'none' ,marginRight : '2'}}>\n          </span>\n        </span>\n          {pending ? lang['pending'] : (isApproved ? buttonText : lang['approve'])  }\n        </button>\n  )\n}","\"use strict\";\n\nfunction padWithZeros(vNumber, width) {\n  var numAsString = vNumber.toString();\n  while (numAsString.length < width) {\n    numAsString = \"0\" + numAsString;\n  }\n  return numAsString;\n}\n\nfunction addZero(vNumber) {\n  return padWithZeros(vNumber, 2);\n}\n\n/**\n * Formats the TimeOffset\n * Thanks to http://www.svendtofte.com/code/date_format/\n * @private\n */\nfunction offset(timezoneOffset) {\n  var os = Math.abs(timezoneOffset);\n  var h = String(Math.floor(os / 60));\n  var m = String(os % 60);\n  if (h.length === 1) {\n    h = \"0\" + h;\n  }\n  if (m.length === 1) {\n    m = \"0\" + m;\n  }\n  return timezoneOffset < 0 ? \"+\" + h + m : \"-\" + h + m;\n}\n\nfunction asString(format, date) {\n  if (typeof format !== \"string\") {\n    date = format;\n    format = module.exports.ISO8601_FORMAT;\n  }\n  if (!date) {\n    date = module.exports.now();\n  }\n\n  // Issue # 14 - Per ISO8601 standard, the time string should be local time\n  // with timezone info.\n  // See https://en.wikipedia.org/wiki/ISO_8601 section \"Time offsets from UTC\"\n\n  var vDay = addZero(date.getDate());\n  var vMonth = addZero(date.getMonth() + 1);\n  var vYearLong = addZero(date.getFullYear());\n  var vYearShort = addZero(vYearLong.substring(2, 4));\n  var vYear = format.indexOf(\"yyyy\") > -1 ? vYearLong : vYearShort;\n  var vHour = addZero(date.getHours());\n  var vMinute = addZero(date.getMinutes());\n  var vSecond = addZero(date.getSeconds());\n  var vMillisecond = padWithZeros(date.getMilliseconds(), 3);\n  var vTimeZone = offset(date.getTimezoneOffset());\n  var formatted = format\n    .replace(/dd/g, vDay)\n    .replace(/MM/g, vMonth)\n    .replace(/y{1,4}/g, vYear)\n    .replace(/hh/g, vHour)\n    .replace(/mm/g, vMinute)\n    .replace(/ss/g, vSecond)\n    .replace(/SSS/g, vMillisecond)\n    .replace(/O/g, vTimeZone);\n  return formatted;\n}\n\nfunction setDatePart(date, part, value, local) {\n  date['set' + (local ? '' : 'UTC') + part](value);\n}\n\nfunction extractDateParts(pattern, str, missingValuesDate) {\n  // Javascript Date object doesn't support custom timezone.  Sets all felds as\n  // GMT based to begin with.  If the timezone offset is provided, then adjust\n  // it using provided timezone, otherwise, adjust it with the system timezone.\n  var local = pattern.indexOf('O') < 0;\n  var matchers = [\n    {\n      pattern: /y{1,4}/,\n      regexp: \"\\\\d{1,4}\",\n      fn: function(date, value) {\n        setDatePart(date, 'FullYear', value, local);\n      }\n    },\n    {\n      pattern: /MM/,\n      regexp: \"\\\\d{1,2}\",\n      fn: function(date, value) {\n        setDatePart(date, 'Month', (value - 1), local);\n      }\n    },\n    {\n      pattern: /dd/,\n      regexp: \"\\\\d{1,2}\",\n      fn: function(date, value) {\n        setDatePart(date, 'Date', value, local);\n      }\n    },\n    {\n      pattern: /hh/,\n      regexp: \"\\\\d{1,2}\",\n      fn: function(date, value) {\n        setDatePart(date, 'Hours', value, local);\n      }\n    },\n    {\n      pattern: /mm/,\n      regexp: \"\\\\d\\\\d\",\n      fn: function(date, value) {\n        setDatePart(date, 'Minutes', value, local);\n      }\n    },\n    {\n      pattern: /ss/,\n      regexp: \"\\\\d\\\\d\",\n      fn: function(date, value) {\n        setDatePart(date, 'Seconds', value, local);\n      }\n    },\n    {\n      pattern: /SSS/,\n      regexp: \"\\\\d\\\\d\\\\d\",\n      fn: function(date, value) {\n        setDatePart(date, 'Milliseconds', value, local);\n      }\n    },\n    {\n      pattern: /O/,\n      regexp: \"[+-]\\\\d{3,4}|Z\",\n      fn: function(date, value) {\n        if (value === \"Z\") {\n          value = 0;\n        }\n        var offset = Math.abs(value);\n        var timezoneOffset = (value > 0 ? -1 :  1 ) * ((offset % 100) + Math.floor(offset / 100) * 60);\n        // Per ISO8601 standard: UTC = local time - offset\n        //\n        // For example, 2000-01-01T01:00:00-0700\n        //   local time: 2000-01-01T01:00:00\n        //   ==> UTC   : 2000-01-01T08:00:00 ( 01 - (-7) = 8 )\n        //\n        // To make it even more confusing, the date.getTimezoneOffset() is\n        // opposite sign of offset string in the ISO8601 standard.  So if offset\n        // is '-0700' the getTimezoneOffset() would be (+)420. The line above\n        // calculates timezoneOffset to matche Javascript's behavior.\n        //\n        // The date/time of the input is actually the local time, so the date\n        // object that was constructed is actually local time even thought the\n        // UTC setters are used.  This means the date object's internal UTC\n        // representation was wrong.  It needs to be fixed by substracting the\n        // offset (or adding the offset minutes as they are opposite sign).\n        //\n        // Note: the time zone has to be processed after all other fileds are\n        // set.  The result would be incorrect if the offset was calculated\n        // first then overriden by the other filed setters.\n        date.setUTCMinutes(date.getUTCMinutes() + timezoneOffset);\n      }\n    }\n  ];\n\n  var parsedPattern = matchers.reduce(\n    function(p, m) {\n      if (m.pattern.test(p.regexp)) {\n        m.index = p.regexp.match(m.pattern).index;\n        p.regexp = p.regexp.replace(m.pattern, \"(\" + m.regexp + \")\");\n      } else {\n        m.index = -1;\n      }\n      return p;\n    },\n    { regexp: pattern, index: [] }\n  );\n\n  var dateFns = matchers.filter(function(m) {\n    return m.index > -1;\n  });\n  dateFns.sort(function(a, b) {\n    return a.index - b.index;\n  });\n\n  var matcher = new RegExp(parsedPattern.regexp);\n  var matches = matcher.exec(str);\n  if (matches) {\n    var date = missingValuesDate || module.exports.now();\n    dateFns.forEach(function(f, i) {\n      f.fn(date, matches[i + 1]);\n    });\n\n    return date;\n  }\n\n  throw new Error(\n    \"String '\" + str + \"' could not be parsed as '\" + pattern + \"'\"\n  );\n}\n\nfunction parse(pattern, str, missingValuesDate) {\n  if (!pattern) {\n    throw new Error(\"pattern must be supplied\");\n  }\n\n  return extractDateParts(pattern, str, missingValuesDate);\n}\n\n/**\n * Used for testing - replace this function with a fixed date.\n */\nfunction now() {\n  return new Date();\n}\n\nmodule.exports = asString;\nmodule.exports.asString = asString;\nmodule.exports.parse = parse;\nmodule.exports.now = now;\nmodule.exports.ISO8601_FORMAT = \"yyyy-MM-ddThh:mm:ss.SSS\";\nmodule.exports.ISO8601_WITH_TZ_OFFSET_FORMAT = \"yyyy-MM-ddThh:mm:ss.SSSO\";\nmodule.exports.DATETIME_FORMAT = \"dd MM yyyy hh:mm:ss.SSS\";\nmodule.exports.ABSOLUTETIME_FORMAT = \"hh:mm:ss.SSS\";\n"],"sourceRoot":""}