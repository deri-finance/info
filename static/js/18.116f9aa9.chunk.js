(this["webpackJsonpderi-client"]=this["webpackJsonpderi-client"]||[]).push([[18],{1202:function(e,t,a){"use strict";var n,c,i=a(29),s=a(1200),r=a(106),o=a(18),l=a(136),d=a(5),b=(a(63),a(1247)),u=a(48),j=a(16),p=a(9),x=a(3),h=["allowZero","wallet","closeShowLoadingEffectAfterLoaded","defaultValue"],m=Object(u.a)(b.a)(n||(n=Object(l.a)(["\n  width : ","px;\n"])),(function(e){return e.width})),f=u.a.div(c||(c=Object(l.a)(["\n  width : ",";\n  height : ",";\n"])),(function(e){return/px$/.test(e.width)?e.width:"".concat(e.width,"px")}),(function(e){return/px$/.test(e.height)?e.height:"".concat(e.height,"px")}));t.a=function(e){var t=Object(d.useState)(Object(x.jsx)("span",{className:"loading-line"})),a=Object(o.a)(t,2),n=a[0],c=a[1],l=Object(d.useState)(!0),b=Object(o.a)(l,2),u=b[0],v=b[1],O=function(){var t=e.allowZero;return"object"!==Object(r.a)(e.value)&&void 0!==e.value&&""!==e.value&&!isNaN(e.value)&&"NaN"!==e.value||0===Math.abs(e.value)&&!0===t},g=function(e){return e&&e.replace(/\.$/,"")};return Object(d.useEffect)((function(){var t=e.allowZero,a=(e.wallet,e.closeShowLoadingEffectAfterLoaded),n=e.defaultValue,r=void 0===n?"--":n,o=Object(s.a)(e,h);if(O())o.decimalScale>0&&o.value&&/\d+\.0*[1-9]+/.test(o.value)&&0===+Object(p.bg)(o.value).toFixed(+o.decimalScale||2)&&(o.decimalScale=Object(j.d)(Math.abs(o.value))+2),(-1===o.decimalScale||0===+o.value&&t)&&delete o.decimalScale,o.value=Object(j.J)(o.value),o.value&&/\d+.9{6}/.test(o.value)&&(o.value=(+o.value).toFixed(5)),c(Object(x.jsx)(m,Object(i.a)(Object(i.a)({},o),{},{renderText:g,displayType:"text",fixedDecimalScale:!0,thousandSeparator:!0})));else if(u){var l=e.width,d=e.height;c(Object(x.jsx)(f,{className:"loading-line",width:l,height:d})),a&&v(!1)}var b=window.setTimeout((function(){O()||c(r)}),6e4);return function(){clearTimeout(b)}}),[e.value,e.decimalScale,e.suffix]),n}},1210:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(48),c=a(1281),i=a.n(c),s=a(138),r=a(16),o=a(1255),l=a(3);const d=n.a.div`
  display:${e=>e.block};
  .text {
    border-bottom : 1px dashed #93A1B8;
    width : max-content;
    cursor : pointer;
    display:${e=>e.block}
  }
  
  .__react_component_tooltip.tooltip.show {
    font-weight : ${e=>e.isWin?400:600} 
  }
`;function b(e){let{text:t,id:a=String((new Date).getTime())+Math.random(),tip:n,multiline:c,html:b,className:u,element:j="",block:p="block",width:x="auto",children:h,tiggerEvent:m}=e;return Object(l.jsxs)(d,{className:u,block:p,isWin:o.isWindows,children:[Object(l.jsx)("div",{className:"text","data-for":a,"data-tip":b?i.a.renderToString(j):n,"data-event":Object(r.y)()?"click":m,"data-html":b,children:t||h}),n&&Object(l.jsx)(s.a,{id:a,width:x,padding:"12",place:"bottom",overridePosition:(e,t,a,n,c,i,s,r)=>{const o=a.getBoundingClientRect(),l=n.getBoundingClientRect();let{x:d,y:b,height:u,width:j}=o;const{left:p,top:x}=e;return d+l.width/2>document.documentElement.clientWidth?d-=Math.abs(j-l.width):d-(l.width-j)/2<0?d-=j:d-=(l.width-j)/2,b+u+l.height>=document.documentElement.clientHeight?b=b+u-l.height:b+=u,d<0&&(d=0),b<0&&(b=0),{top:b,left:d}},html:b,borderRadius:8,multiline:c})]})}},1239:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(5),c=a(162),i=a(48),s=a(3);const r=i.a.div`
    display : flex;
    width: 100%;
    justify-content: space-between;
  `;function o(e){let{groups:t=["25%","50%","75%","100%"],selectedBorderColor:a,defaultBorderColor:i,onChange:o,defaultValue:l,outline:d,outlineColor:b,width:u,height:j,bgColor:p,className:x,disabled:h,canUnselected:m=!0}=e;const[f,v]=Object(n.useState)(l);return Object(n.useEffect)((()=>{v(l)}),[l]),Object(s.jsx)(r,{className:x,children:t.map(((e,t)=>Object(s.jsx)(c.a,{label:e,selectedBorderColor:a,isSelected:e===f,disabled:h,outline:d,bgColor:p,className:"g-button",defaultBorderColor:i,outlineColor:b,width:u,height:j,onClick:()=>{var t;(t=e)!==f?(v(t),o&&o(t)):m&&t===f?(v(""),o&&o("")):v(t)}},t)))})}},1268:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(5),c=a(48),i=a(9),s=a(1210),r=a(3);const o=c.a.div`
display : flex;
font-size : 14px;
align-items : center;
background: rgba(85, 119, 253, 0.1);
border-radius: 4px;
justify-content: space-between;
input {
  background: transparent;
  border-radius: 4px;
  // min-width: 240px;
  border: 0;
  width : ${e=>e.inputWidth};
  height: ${e=>e.inputHeight};
  color : #E0ECFF;
  font-size : 18px;
  padding-left: 16px;
}
input:focus {
  outline: none;
}
.unit {
  margin-right: ${e=>e.unitPadding};
}
`;function l(e){let{value:t,unit:a,unitTip:c,max:l,step:d,onChange:b,styles:u={},disableNegtive:j=!0,focus:p,placeholder:x="",unitPadding:h="24px",minTradeVolume:m,decimal:f=2,readOnly:v,inputWidth:O="50%",inputHeight:g="56px",className:k,disabled:y=!1,onBlur:w,onFocus:N}=e;const S=Object(n.useRef)(null);return Object(n.useEffect)((()=>{S.current.setCustomValidity(""),S.current&&p&&S.current.focus()}),[p]),Object(r.jsxs)(o,{unitPadding:h,inputWidth:O,inputHeight:g,className:k,style:{...u},children:[Object(r.jsx)("input",{placeholder:x,type:"number",onBlur:w,onFocus:N,disabled:y,value:t,step:d,ref:S,onChange:e=>{const t=new RegExp(`\\d+\\.\\d{0,${f}}$`),{value:a}=e.target;if(l&&Object(i.bg)(a).gt(l))b&&b(l);else if(j&&(a<0||isNaN(a)))b&&b("");else if(a)if(m>=1)if(a/m>=1)b&&b(Object(i.bg)(a).div(m).integerValue()*m);else{const e=a*m;b&&b(e)}else if(/\d+\./.test(a)&&!t.test(a)){const e=a.substring(0,a.indexOf(".")+1+f);b&&b(e)}else b&&b(a);else b&&b(a)},readOnly:v}),Object(r.jsx)("div",{className:"unit",children:c?Object(r.jsx)(s.a,{tip:c,text:a}):a})]})}},1282:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(48),c=a(5),i=a(27),s=a(3);const r=n.a.div`
    cursor: pointer;
    width:${e=>e.width}px;
    height:${e=>e.height}px;
    display:flex;
    .tab-left.inactive{
      border-radius:0px 0px 4px 0px;
    }
    .tab-right.inactive{
      border-radius:0px 0px 0px 4px;
    }
    .tab-left.active{
      border-radius:0px 4px 0px 0px;
      ${e=>e.borderR};
    }
    .tab-right.active{
      border-radius:4px 0px 0px 0px;
      ${e=>e.borderL};
    }
    .inactive,.active{
      width:50%;
      box-sizing: content-box;
      font-size:${e=>e.size}px;
      display: flex;
      align-items: center;
      justify-content: center;
      img{
        margin-right:${e=>e.iconMarginRight}px
      }
    }
    .inactive{
      background:${e=>e.inactiveBgColor};
      ${e=>e.borderB}
    }
    .active {
      color: ${e=>e.activeFontColor};
      background : ${e=>e.activeBgColor};
      ${e=>e.borderT};
    }
    .icon-tab{
      margin-right:20px;
      width:25px;
      height:25px;
    }
  `;function o(e){let{tabSet:t,inactiveBgColor:a,iconMarginRight:n,activeBgColor:o,icon:l,className:d,width:b=238,height:u=47,size:j=16,borderTop:p=!1,borderBottom:x=!1,divider:h=!1,activeIndex:m=0}=e,f=Object.keys(t);const[v,O]=Object(c.useState)(f[m]),[g,k]=Object(c.useState)(),[y,w]=Object(c.useState)(),[N,S]=Object(c.useState)(),[T,C]=Object(c.useState)(),[I,E]=Object(c.useState)(),[q,F]=Object(c.useState)();return Object(c.useEffect)((()=>{const e=Object.keys(t);O(e[m])}),[t,m]),Object(c.useEffect)((()=>{const e=Object.keys(t);let a=v||e[m];if(t[a]){k(t[a].style);let e=p?`border-top:1px solid ${t[a].borderColor}`:"border-top:0",n=x?`border-bottom:1px solid ${t[a].borderColor}`:"border-bottom:0",c=h?`border-left:1px solid ${t[a].borderColor}`:"border-left:0",i=h?`border-right:1px solid ${t[a].borderColor}`:"border-right:0",s=t[a].fontColor?t[a].fontColor:"#FFFFFF";w(e),S(c),C(n),E(i),F(s)}}),[t,v]),Object(s.jsxs)("div",{style:g,className:d,children:[Object(s.jsx)(r,{className:"tab-header",iconMarginRight:n,width:b,height:u,activeFontColor:q,activeBgColor:o,inactiveBgColor:a,size:j,borderT:y,borderB:T,borderL:N,borderR:I,children:f.map(((e,a)=>Object(s.jsxs)("div",{className:e===v?`${t[e].direction||t[e].className} active`:`${t[e].direction||t[e].className} inactive`,onClick:t=>function(e,t){O(e)}(e),children:[t[e].icon?Object(s.jsx)(i.a,{width:t[e].iconWidth,height:t[e].iconHeight,token:e===v?t[e].icon:t[e].inicon}):"","  ",e]},a)))}),t[v]?t[v].content:""]})}},1321:function(e,t,a){"use strict";var n=a(29),c=a(7),i=a(18),s=a(1200),r=a(2),o=a.n(r),l=a(5),d=a(162),b=a(46),u=a(118),j=a(37),p=a(9),x=a(16),h=(a(1460),a(3));function m(){return Object(h.jsx)("div",{class:"sleepContentView",children:Object(h.jsx)("div",{class:"circle"})})}var f=a(27),v=(a(1461),["lang","subject","wallet","pool","ignoreApprove","bTokenId","bToken","icon","label","onClick","isReady","disabled","statusCallback","alert"]);t.a=Object(b.b)("wallet")(Object(b.c)((function(e){var t=e.lang,a=(e.subject,e.wallet),r=e.pool,b=void 0===r?{}:r,O=e.ignoreApprove,g=e.bTokenId,k=e.bToken,y=e.icon,w=e.label,N=e.onClick,S=(e.isReady,e.disabled),T=void 0===S||S,C=e.statusCallback,I=e.alert,E=Object(s.a)(e,v),q=Object(l.useState)(!0),F=Object(i.a)(q,2),$=F[0],_=F[1],B=Object(l.useState)(w),L=Object(i.a)(B,2),A=L[0],H=L[1],D=Object(l.useState)(!1),U=Object(i.a)(D,2),R=U[0],z=U[1],P=Object(l.useState)(!1),Z=Object(i.a)(P,2),V=Z[0],W=Z[1],M=Object(l.useState)(!1),J=Object(i.a)(M,2),X=J[0],K=J[1],Y=Object(l.useState)(!1),G=Object(i.a)(Y,2),Q=G[0],ee=G[1],te=Object(l.useState)(y),ae=Object(i.a)(te,2),ne=ae[0],ce=ae[1],ie=Object(l.useCallback)(function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.detail||!a.address){e.next=14;break}if(!u.a.isOpen){e.next=4;break}return e.next=4,p.openConfigListCache.update();case 4:if(!Object(x.x)(a.address)){e.next=10;break}return e.next=7,j.a.request("isLpUnlocked",[t.detail.chainId,a.address,t.detail.account]);case 7:n=e.sent,e.next=14;break;case 10:return c=[t.detail.chainId,a.address,t.detail.account,g||k],e.next=13,j.a.request("isUnlocked",c);case 13:n=e.sent;case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[k,g]),se=Object(l.useCallback)(Object(c.a)(o.a.mark((function e(){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!b){e.next=22;break}if(!u.a.isOpen){e.next=4;break}return e.next=4,p.openConfigListCache.update();case 4:if(!Object(x.x)(b.address)){e.next=10;break}return e.next=7,j.a.request("unlockLp",[a.detail.chainId,b.address,a.detail.account],{write:!0,subject:t.approve});case 7:n=e.sent,e.next=14;break;case 10:return c=[a.detail.chainId,b.address,a.detail.account,g||k],e.next=13,j.a.request("unlock",c,{write:!0,subject:Object(x.h)(t.approve.toLowerCase())});case 13:n=e.sent;case 14:if(!n.status){e.next=18;break}I.success("Approve ".concat(k),{timeout:8e3,isTransaction:!0,transactionHash:n.transactionHash,link:"".concat(a.blockExploreUrl,"/tx/").concat(n.transactionHash),title:"Approve Executed"}),e.next=21;break;case 18:if(""!==n.transactionHash){e.next=20;break}return e.abrupt("return",!1);case 20:I.error("Transaction Failed ".concat(n.error),{timeout:3e5,isTransaction:!0,transactionHash:n.transactionHash,link:"".concat(a.blockExploreUrl,"/tx/").concat(n.transactionHash),title:"Approve Failed"});case 21:return e.abrupt("return",n.status);case 22:case"end":return e.stop()}}),e)}))),[b,a,g,k]),re=function(){var e=Object(c.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(b&&a&&a.detail)){e.next=34;break}if(ee(!0),a.isConnected()){e.next=7;break}return ce(null),e.abrupt("return",a.connect());case 7:if(e.t0=O,e.t0){e.next=12;break}return e.next=11,ie(a,b);case 11:e.t0=e.sent;case 12:if(!e.t0){e.next=17;break}return ce(y),e.abrupt("return",N(t));case 17:return ce(y),e.next=20,se();case 20:if(!(n=e.sent)){e.next=30;break}return W(!0),e.next=25,N();case 25:e.sent&&K(!0),C&&C(!1),e.next=33;break;case 30:ee(!1),I&&I.error("Approve failed"),C&&C(!0);case 33:return e.abrupt("return",n);case 34:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.useEffect)(Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(b&&a.detail&&a.detail.account&&b.bTokens&&t)){e.next=18;break}if(a.isConnected()){e.next=6;break}H(t["connect-wallet"]),ce(null),e.next=18;break;case 6:return e.next=8,ie(a,b);case 8:if(!e.sent){e.next=15;break}z(!1),H(w),ce(y),C&&C(!1),e.next=18;break;case 15:z(!0),ce(y),C&&C(!0);case 18:case"end":return e.stop()}}),e)}))),[b,a,t,k,g]),Object(l.useEffect)((function(){_(!T)}),[T]),Object(l.useEffect)((function(){a&&b&&b.address&&(a.setAddress(b.address),b.isV3||b.isV3Lite?a.setBToken(k):a.setBTokenId(g))}),[a,b,g,k]),Object(h.jsxs)("div",{children:[Object(h.jsx)(d.a,Object(n.a)(Object(n.a)({},E),{},{disabled:!$,label:A,onClick:re,icon:ne})),!O&&R&&$&&Object(h.jsxs)("div",{className:"init-approve",children:[Object(h.jsxs)("div",{className:"step-approve",children:[!Q&&Object(h.jsx)("div",{className:"step-one",children:"1"}),Q&&Object(h.jsx)("div",{className:"pending",children:V?Object(h.jsx)(f.a,{token:"finish"}):Object(h.jsx)(m,{})}),Object(h.jsx)("div",{className:V?"approve-text finish-text":"approve-text",children:t.approve})]}),Object(h.jsx)("div",{className:V?"step-hr finish":"step-hr"}),Object(h.jsxs)("div",{className:"step-transaction",children:[!V&&Object(h.jsx)("div",{className:"step-two",children:"2"}),Q&&V&&Object(h.jsx)("div",{className:"pending",children:X?Object(h.jsx)(f.a,{token:"finish"}):Object(h.jsx)(m,{})}),Object(h.jsx)("div",{className:X?"transaction-text finish-text":"transaction-text",children:A})]})]})]})})))},1333:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(48),c=(a(5),a(3));const i=n.a.div`
width:${e=>e.width}%;
max-width:100%;
height:10px;
background-color: #5577FD;
`;function s(e){let{startTimestamp:t,nowTimestamp:a,endTimestamp:n}=e;const s=parseInt((a-t)/(n-t)*100);return Object(c.jsx)("div",{className:"time-slider",children:Object(c.jsx)(i,{width:s})})}},1335:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(5),c=a(48),i=a(458),s=a(3);const r=c.a.div`
  .search-token{
  width: ${e=>e.width}px;
  height: ${e=>e.height}px;
  background: ${e=>e.bgColor};
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding:0 24px;
  border-radius:4px;
  img{
    width:18px;
    height:18px;
  }
  .search-input{
    border: 0;
    width:100%;
    height: 100%;
    background:transparent;
    outline-style: none;
    color: #FFFFFF;
    font-size: 18px;
    border-radius: 4px;
  }
}
`;function o(e){let{list:t,onChange:a,width:c="320",height:o="48",bgColor:l="rgba(85, 119, 253, 0.1)",searchName:d="bTokenSymbol",className:b,placeholder:u="Search",onFocus:j,onBlur:p}=e;const[x,h]=Object(n.useState)(""),[m,f]=Object(n.useState)(0),v=Object(n.useRef)([]);return Object(n.useEffect)((()=>{if(x){let e=x.toLocaleUpperCase();0===v.current.length&&(v.current=t,f(t.length));const n=v.current.filter((t=>t[d]&&t[d].toUpperCase().indexOf(e)>=0));a(n,e)}else a(v.current)}),[x]),Object(n.useEffect)((()=>{0===v.current.length&&f(t.length)}),[t]),Object(s.jsx)(r,{width:c,height:o,bgColor:l,className:b,children:Object(s.jsxs)("div",{className:"search-token",children:[Object(s.jsx)("input",{type:"text",className:"search-input",placeholder:u,value:x,onChange:e=>{(e=>{let t=e.target.value;h(t)})(e)}}),Object(s.jsx)("img",{src:i.default,alt:""})]})})}},1374:function(e,t,a){"use strict";t.a=a.p+"static/media/staked.45c27f0b.svg"},1452:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(7),c=a(18),i=a(2),s=a.n(i),r=a(5),o=a(162),l=a(1333),d=a(166),b=a(163),u=a(1202),j=a(37),p=a(16),x=(a(1453),a(3));function h(e){var t=e.lang,a=e.getLang,i=e.poolShow,h=void 0===i||i,m=e.wallet,f=void 0===m?{}:m,v=Object(r.useState)(""),O=Object(c.a)(v,2),g=O[0],k=O[1],y=Object(r.useState)(0),w=Object(c.a)(y,2),N=w[0],S=w[1],T=Object(b.c)(),C=Object(r.useState)(0),I=Object(c.a)(C,2),E=I[0],q=I[1],F=Object(r.useState)(0),$=Object(c.a)(F,2),_=$[0],B=$[1],L=Object(r.useState)({}),A=Object(c.a)(L,2),H=A[0],D=A[1],U=Object(r.useState)(!1),R=Object(c.a)(U,2),z=R[0],P=R[1],Z=Object(r.useState)(""),V=Object(c.a)(Z,2),W=V[0],M=V[1],J=Object(d.a)(H.chainId);Object(r.useEffect)((function(){var e;return e=window.setInterval((function(){var e=28800,a=parseInt(Date.now()/1e3),n=parseInt(a/e)*e,c=n+e-a,i=parseInt(c/3600),s=parseInt(c%3600/60),r=parseInt(c%60);S(n),q(n+e),B(a),k("".concat(i," ").concat(t.h," ").concat(s," ").concat(t.m," ").concat(r," ").concat(t.s))}),1e3),function(){e&&clearInterval(e)}}),[]);var X=function(){var e=Object(n.a)(s.a.mark((function e(){var t,a,n,c,i,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f.isConnected()){e.next=10;break}return e.next=3,j.a.request("getUserInfoAll",[f.detail.account]);case 3:t=e.sent,a=(+t.total).toFixed(2),n=t.valid?(+t.amount).toFixed(2):0,c=t.lp,i=(+t.trade).toFixed(2),r=t.chainId,D({claimed:a,unclaimed:n,harvestDeriLp:c,harvestDeriTrade:i,chainId:r});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(n.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==J.name){e.next=3;break}return T.error("".concat(t["wrong-network"])),e.abrupt("return");case 3:if(Object(p.f)(f.detail.chainId,H.chainId)){e.next=6;break}return T.error("".concat(t["your-deri-is-on"]," ").concat(J.name," ").concat(t["connect-to"]," ").concat(J.name," ").concat(t["to-claim"])),e.abrupt("return");case 6:if(0!==+H.unclaimed){e.next=9;break}return T.error(t["no-deri-to-claim-yet"]),e.abrupt("return");case 9:if(!(parseInt(Date.now()/1e3)%28800<1800)){e.next=13;break}return T.error(t["claiming-DERI-is-disabled-during-first-30-minutes-of-each-epoch"]),e.abrupt("return");case 13:return e.next=15,j.a.request("mintDToken",[f.detail.chainId,f.detail.account],{includeResponse:!0,write:!0,subject:t["claim-deri-title"]});case 15:if(!(a=e.sent).success){e.next=21;break}return T.success(t["claim-deri-reward"],{timeout:8e3,isTransaction:!0,transactionHash:a.response.data.transactionHash,link:"".concat(f.blockExploreUrl,"/tx/").concat(a.response.data.transactionHash),title:t["claim-reward-executed"]}),e.abrupt("return",!0);case 21:if(""!==a.response.transactionHash){e.next=23;break}return e.abrupt("return",!1);case 23:return T.error("".concat(t["transaction-failed"]," : ").concat(a.response.error),{timeout:3e5,isTransaction:!0,transactionHash:a.response.transactionHash,link:"".concat(f.blockExploreUrl,"/tx/").concat(a.response.transactionHash),title:t["claim-reward-failed"]}),e.abrupt("return",!1);case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(n.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f.isConnected()){e.next=7;break}return e.next=3,K();case 3:e.sent&&P(!0),e.next=17;break;case 7:return e.prev=7,e.next=10,f.connect();case 10:return t=e.sent,e.abrupt("return",!!t);case 14:return e.prev=14,e.t0=e.catch(7),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(){return e.apply(this,arguments)}}(),G=function(e){var a;switch(e){case 1:a=t.jan;break;case 2:a=t.feb;break;case 3:a=t.mar;break;case 4:a=t.apr;break;case 5:a=t.may;break;case 6:a=t.jun;break;case 7:a=t.jul;break;case 8:a=t.aug;break;case 9:a=t.sep;break;case 10:a=t.oct;break;case 11:a=t.nov;break;case 12:a=t.dec}return a},Q=function(){var e=Object(n.a)(s.a.mark((function e(){var t,a,n,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f.isConnected()){e.next=5;break}return e.next=3,j.a.request("getUserFirstClaimInfo",[f.detail.account]);case 3:(t=e.sent).first_timestamp?(a=new Date(1e3*t.first_timestamp),n=a.getFullYear(),c=a.getMonth()+1,c=G(c),i=a.getDate(),M("".concat(c," ").concat(i,", ").concat(n))):M("");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){var e=window.setInterval(X,18e4);return X(),Q(),function(){return clearInterval(e)}}),[f.detail.account]),Object(x.jsx)("div",{className:"mining-claim",children:Object(x.jsxs)("div",{className:"mining-claim-info",children:[Object(x.jsxs)("div",{className:"deri-num-slider",children:[Object(x.jsxs)("div",{className:"deri-claim-time",children:[t["current-epoch-remaining-time"]," : ",g]}),H.harvestDeriLp>0&&Object(x.jsxs)("div",{className:"deri-claim-text",children:[t["your-harvest-in-current"]," ",Object(x.jsx)("span",{className:"deri-num",children:Object(x.jsx)(u.a,{value:H.harvestDeriLp,decimalScale:2,displayType:"text",di:!0,thousandSeparator:!0})}),"   $DERI."]}),h&&Object(x.jsxs)("div",{className:"deri-claim-text",children:[a("claim-deri",{num:z?0:H.unclaimed?H.unclaimed:0}),W&&Object(x.jsxs)("span",{children:[" ",a("claim-deri-history",{date:W,num:z?+H.unclaimed+ +H.claimed:H.claimed})," . ",t.woohoo]})]}),Object(x.jsx)("div",{className:"deri-claim-slider",children:Object(x.jsx)(l.a,{startTimestamp:N,nowTimestamp:_,endTimestamp:E})})]}),h&&Object(x.jsx)("div",{className:"cliam-button",children:Object(x.jsx)(o.a,{icon:"ClaimDeri",fontWeight:"bold",label:t["claim-all"],onClick:Y})})]})})}},1453:function(e,t,a){},1460:function(e,t,a){},1461:function(e,t,a){},1462:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(5),c=(a(37),a(48)),i=a(27),s=a(1210),r=a(1202),o=a(3);const l=c.a.div`
  .remove-hint{
    cursor: pointer;
    .text{
      display: flex;
      border:0;
    }
    span{
      margin-left:8px;
    }
  }
`;function d(e){let{lang:t,baseToken:a,penalty:c,isB0Staked:d,availableBalance:b,getLang:u}=e;const[j,p]=Object(n.useState)("");return Object(n.useEffect)((()=>{let e,n={num:a};e=d?"BUSD"===a?`${t["your-account-has-an-unsettled-balance-of"]} ${c} BUSD ${t["this-action-will-update-your"]}`:`${t["your-account-has-an-unsettled-balance-of"]} ${c} BUSD ${u("this-action-will-trigger-swapping-to-update-your",n)}`:`${t["your-account-has-an-unsettled-balance-of"]} ${c} BUSD ${u("this-action-will-trigger-swapping-to-update-your-busd-balance-to-reflect-the-unsettled-amount",n)}`,p(e)}),[d,c,a]),Object(o.jsx)(l,{children:+c<0&&+b>0&&Object(o.jsx)("div",{className:"remove-hint",children:Object(o.jsxs)(s.a,{tip:j,width:"332",children:[Object(o.jsx)(i.a,{token:"warn"})," ",Object(o.jsxs)("span",{children:[t["negative-unsettled-balance"]," : ",Object(o.jsx)(r.a,{value:c,decimalScale:2})," BUSD"]})]})})})}},1945:function(e,t,a){},1946:function(e,t,a){},2314:function(e,t,a){"use strict";a.r(t);var n=a(5),c=a(53),i=a(78),s=a(46),r=a(1452),o=a(7),l=a(18),d=a(2),b=a.n(d),u=a(1268),j=a(1321),p=a(1239),x=a(16),h=a(1202),m=a(10),f=a(37),v=a(163),O=(a(1945),a(9)),g=a(1462),k=a(3);function y(e){var t=e.getLang,a=e.wallet,c=e.lang,i=e.type,s=e.isLp,r=e.bTokenId,d=e.poolConfig,y=e.version,w=e.baseToken,N=e.address,S=e.walletBalance,T=e.poolInfo,C=e.afterTransaction,I=Object(n.useState)(""),E=Object(l.a)(I,2),q=E[0],F=E[1],$=Object(n.useState)(!1),_=Object(l.a)($,2),B=_[0],L=_[1],A=Object(n.useState)(""),H=Object(l.a)(A,2),D=H[0],U=H[1],R=Object(n.useState)(!1),z=Object(l.a)(R,2),P=z[0],Z=z[1],V=Object(n.useState)(""),W=Object(l.a)(V,2),M=W[0],J=W[1],X=Object(n.useState)(!1),K=Object(l.a)(X,2),Y=K[0],G=K[1],Q=Object(v.c)(),ee=Object(n.useState)({}),te=Object(l.a)(ee,2),ae=te[0],ne=te[1],ce="add"===i||"v2"===y||"v3"===y||"v3_lite"===y?w:c.shares,ie=function(){var e=Object(o.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w){e.next=6;break}return e.next=3,f.a.request("getEstimatedLpInfo",[a.detail.chainId,N,a.detail.account,w]);case 3:t=e.sent,J(t.b0Penalty),G(t.isB0Staked);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(o.a)(b.a.mark((function e(){var t,n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="add"===i?q:Object(O.bg)(q).times(Object(O.bg)(-1)).toString(),n="v3"===y||"v3_lite"===y?[a.detail.chainId,N,a.detail.account,t,w]:[a.detail.chainId,N,a.detail.account,t,r],e.next=4,f.a.request("getEstimatedLiquidityInfo",n);case 4:+(c=e.sent).percentage1<0&&(c.percentage1=0,c.shares1=0),ne(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(o.a)(b.a.mark((function e(){var n,i,o,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(O.bg)(S),!Object(O.bg)(q).gt(n)){e.next=5;break}return Q.error(c["not-sufficient-funds"]),e.abrupt("return",!1);case 5:if(!(q<=0||isNaN(q))){e.next=8;break}return Q.error(c["it-has-to-be-greater-than-zero"]),e.abrupt("return",!1);case 8:if("lp"!==s){e.next=15;break}return o=[a.detail.chainId,N,a.detail.account,q],e.next=12,f.a.request("addLpLiquidity",o,{includeResponse:!0});case 12:i=e.sent,e.next=19;break;case 15:return l="v3"===y||"v3_lite"===y?[a.detail.chainId,N,a.detail.account,q,w]:[a.detail.chainId,N,a.detail.account,q,r],e.next=18,f.a.request("addLiquidity",l,{includeResponse:!0,write:!0,subject:c["add-liquidity"]});case 18:i=e.sent;case 19:if(C(!0),F(""),i&&i.success){e.next=28;break}if(""!==i.response.transactionHash){e.next=24;break}return e.abrupt("return",!1);case 24:return Q.error("".concat(c["transaction-failed"]," : ").concat(i.response.error),{timeout:3e5,isTransaction:!0,transactionHash:i.response.transactionHash,link:"".concat(a.blockExploreUrl,"/tx/").concat(i.response.transactionHash),title:c["add-liquidity-failed"]}),e.abrupt("return",!1);case 28:Q.success("".concat(t("add-baseToken-liquidity",{baseToken:w})),{timeout:8e3,isTransaction:!0,transactionHash:i.response.data.transactionHash,link:"".concat(a.blockExploreUrl,"/tx/").concat(i.response.data.transactionHash),title:c["add-liquidity-executed"]});case 29:return e.abrupt("return",!0);case 30:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(o.a)(b.a.mark((function e(){var n,i,o,l,d,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(O.bg)(T.totalShares),i=B?T.totalShares:q,!(o=Object(O.bg)(i)).gt(n)){e.next=6;break}return Q.error("".concat(c["your-current-max-removable-shares-are"],"  ").concat(T.totalShares)),e.abrupt("return",!1);case 6:if(!(+i<=0||isNaN(q))){e.next=9;break}return Q.error(c["invalid-liquidity"]),e.abrupt("return",!1);case 9:if("lp"!==s){e.next=16;break}return d=[a.detail.chainId,N,a.detail.account,i],e.next=13,f.a.request("removeLpLiquidity",d,{includeResponse:!0,write:!0,subject:c["remove-liquidity"]});case 13:l=e.sent,e.next=20;break;case 16:return u="v3"===y||"v3_lite"===y?[a.detail.chainId,N,a.detail.account,i,w,n.eq(o)]:[a.detail.chainId,N,a.detail.account,i,r,n.eq(o)],e.next=19,f.a.request("removeLiquidity",u,{includeResponse:!0,write:!0,subject:c["remove-liquidity"]});case 19:l=e.sent;case 20:if(l&&l.success){e.next=26;break}if(""!==l.response.transactionHash){e.next=23;break}return e.abrupt("return",!1);case 23:Q.error("".concat(c["transaction-failed"]," : ").concat(l.response.error),{timeout:3e5,isTransaction:!0,transactionHash:l.response.transactionHash,link:"".concat(a.blockExploreUrl,"/tx/").concat(l.response.transactionHash),title:c["remove-liquidity-failed"]}),e.next=27;break;case 26:Q.success("".concat(t("remove-baseToken-liquidity",{baseToken:w})),{timeout:5e3,isTransaction:!0,transactionHash:l.response.data.transactionHash,link:"".concat(a.blockExploreUrl,"/tx/").concat(l.response.data.transactionHash),title:c["remove-liquidity-executed"]});case 27:return F(""),C(),e.abrupt("return",!0);case 30:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e="add"===i?Object(O.bg)(S):Object(O.bg)(T.totalShares);/\d+\.(999999|099999|009999|000999|000099|000009)/.test(S)&&(e=Object(O.bg)((+S).toFixed(5)));var t=Object(O.bg)(q);q&&0!==+q&&!t.gt(e)?(se(),Z(!1)):Z(!0)}),[q,i,T,S]),Object(n.useEffect)((function(){F(""),U("")}),[i,r,w]),Object(n.useEffect)((function(){a.isConnected()&&ie()}),[a.detail,w,N]),Object(k.jsxs)("div",{className:"operate",children:[Object(k.jsx)("div",{className:"add-input",children:Object(k.jsx)(u.a,{value:q,unit:ce,onChange:function(e){F(e)},inputWidth:"237px",styles:{"min-width":"332px"}})}),"add"===i&&Object(k.jsxs)("div",{className:"wallet-balance",children:[c["wallet-balance"],": ",Object(k.jsx)(h.a,{value:S,displayType:"text",decimalScale:2})," ",w]}),"remove"===i&&Object(k.jsxs)("div",{className:"wallet-balance",children:[c["staked-balance"],": ",Object(k.jsx)(h.a,{value:T.totalShares,displayType:"text",decimalScale:2})," ",ce]}),"remove"===i&&Object(k.jsx)("div",{children:Object(k.jsx)(g.a,{getLang:t,lang:c,baseToken:w,penalty:M,isB0Staked:Y})}),Object(k.jsx)("div",{className:"check-proportion",children:Object(k.jsx)(p.a,{outline:!0,defaultValue:D,onChange:function(e){var t="add"===i?S:T.totalShares,a=Object(x.E)(e,t);U(e),F(a),U(e),L("100%"===e)},bgColor:" rgba(85, 119, 253, 0.1)",width:77,height:40})}),Object(k.jsx)("div",{className:"information",children:0!==+q&&Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"percentage",children:[Object(k.jsx)("div",{className:"info-box-title",children:c["my-liquidity-percentage"]}),Object(k.jsxs)("div",{className:"info-box-num",children:[Object(k.jsx)(h.a,{allowZero:!0,width:"80px",value:T.percent,decimalScale:2,suffix:"%"})," ->  ",Object(k.jsx)(h.a,{width:"80px",allowZero:!0,value:100*ae.percentage1,decimalScale:2,suffix:"%"})]})]}),Object(k.jsxs)("div",{className:"staked-balance",children:[Object(k.jsx)("div",{className:"info-box-title",children:c["staked-balance"]}),Object(k.jsxs)("div",{className:"info-box-num",children:[Object(k.jsx)(h.a,{width:"80px",allowZero:!0,value:T.formatShares,decimalScale:2})," -> ",Object(k.jsx)(h.a,{width:"80px",allowZero:!0,value:ae.shares1,decimalScale:2}),"v2"===y||"v3"===y||"v3_lite"===y?" "+w:" "+c.shares]})]})]})}),Object(k.jsxs)("div",{className:"add-remove-btn",children:["add"===i&&Object(k.jsx)(j.a,{alert:Q,disabled:P,fontWeight:"bold",onClick:re,bToken:w,pool:d,wallet:a,bTokenId:r,fontSize:"18",type:m.o,width:"331",label:c["add-liquidity"],lang:c}),"remove"===i&&Object(k.jsx)(j.a,{alert:Q,disabled:P,fontWeight:"bold",onClick:oe,bToken:w,pool:d,type:m.o,wallet:a,bTokenId:r,fontSize:"18",width:"331",label:c["remove-liquidity"],lang:c})]})]})}var w=a(1282),N=a(101),S=a(166),T=(a(1946),a(453)),C=a(450),I=a(451),E=a(448),q=a(1374),F=a(452),$=a(1210),_=a(286),B=a(162),L=N[O.DeriEnv.get()].chainInfo;function A(e){var t=e.wallet,a=e.chainId,c=e.nowApy,i=e.poolInfo,s=e.address,r=e.nowToken,d=e.lang,u=e.version,j=e.type,p=e.poolConfig,m=e.symbols,O=Object(n.useState)("show"),g=Object(l.a)(O,2),y=g[0],w=g[1],N=Object(n.useState)(),S=Object(l.a)(N,2),T=S[0],C=S[1],I=Object(v.c)(),E=function(){var e=Object(o.a)(b.a.mark((function e(){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("poolConfig",p),!p){e.next=7;break}return e.next=4,p.getVenusEarned(t,s);case 4:a=e.sent,C(a=+a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(o.a)(b.a.mark((function e(){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.request("claimXVSLp",[t.detail.chainId,s,t.detail.account],{includeResponse:!0,write:!0,subject:d["claim-XVS"]});case 2:if((a=e.sent)&&a.success){e.next=9;break}if(""!==a.response.transactionHash){e.next=6;break}return e.abrupt("return",!1);case 6:I.error("".concat(d["transaction-failed"]," : ").concat(a.response.error),{timeout:3e5,isTransaction:!0,transactionHash:a.response.transactionHash,link:"".concat(t.blockExploreUrl,"/tx/").concat(a.response.transactionHash),title:d["claim-reward-executed"]}),e.next=10;break;case 9:I.success(d["claim-XVS-reward"],{timeout:8e3,isTransaction:!0,transactionHash:a.response.data.transactionHash,link:"".concat(t.blockExploreUrl,"/tx/").concat(a.response.data.transactionHash),title:d["claim-reward-failed"]});case 10:E();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){if(t.isConnected()&&("v3"===u||"v3_lite"===u)){var e;return E(),e=window.setInterval((function(){E()}),18e4),function(){e&&clearInterval(e)}}}),[t,t.detail,p]),Object(k.jsxs)("div",{className:"pool-info",children:[Object(k.jsxs)("div",{className:"pool-info-title",children:[Object(k.jsx)("div",{className:"pool-info-title-text",children:d["pool-info"]}),Object(k.jsxs)("div",{className:"down-up",children:["show"===y&&Object(k.jsx)("span",{onClick:function(){return w("hide")},children:Object(k.jsx)("img",{className:"up-icon",alt:"",src:_.default})}),"hide"===y&&Object(k.jsx)("span",{onClick:function(){return w("show")},children:Object(k.jsx)("img",{alt:"",src:_.default})})]})]}),Object(k.jsxs)("div",{className:"'pool-info-text' ".concat(y),children:[Object(k.jsxs)("div",{className:"pool-info-text-one",children:["v2_lite_open"!==u&&Object(k.jsxs)("div",{className:"info-box",children:[Object(k.jsx)("div",{className:"info-box-title",children:d.apy}),Object(k.jsxs)("div",{className:"info-box-num",children:["v3"!==u&&"v3_lite"!==u&&Object(k.jsx)(h.a,{value:i.apy,displayType:"text",decimalScale:2,suffix:"%"}),("v3"===u||"v3_lite"===u)&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)($.a,{text:Object(k.jsx)(h.a,{width:"50px",value:c.apy,displayType:"text",decimalScale:2,suffix:"%"}),tip:d["deri-apy"]}),"\xa0 +  \xa0  ",Object(k.jsx)($.a,{text:Object(k.jsx)(h.a,{width:"50px",value:c.supplyApy,displayType:"text",decimalScale:2,suffix:"%"}),tip:d["venus-suppy-apy"]}),"  \xa0 +  \xa0",Object(k.jsx)($.a,{text:Object(k.jsx)(h.a,{width:"50px",value:c.xvsApy,displayType:"text",decimalScale:2,suffix:"%"}),tip:d["xvs-distribution-apy"]})]})]})]}),Object(k.jsxs)("div",{className:"info-box",children:[Object(k.jsx)("div",{className:"info-box-title",children:d["pool-liquidity"]}),Object(k.jsxs)("div",{className:"info-box-num",children:[Object(k.jsx)(h.a,{value:i.total,displayType:"text",decimalScale:2,thousandSeparator:!0})," ","v3"===u||"v3_lite"===u?"BUSD":r]})]}),("v2"===u||"v3"===u||"v3_lite"===u)&&!("option"===j&&"v2"===u)&&Object(k.jsxs)("div",{className:"info-box",children:[Object(k.jsx)("div",{className:"info-box-title",children:d.multiplier}),Object(k.jsx)("div",{className:"info-box-num",children:i.multiplier})]}),Object(k.jsxs)("div",{className:"info-box",children:[Object(k.jsx)("div",{className:"info-box-title",children:d["my-liquidity-percentage"]}),Object(k.jsx)("div",{className:"info-box-num",children:Object(k.jsx)(h.a,{allowZero:!0,value:i.percent,decimalScale:2,suffix:"%"})})]}),("v2"!==u&&"v3"!==u&&"v3_lite"!==u||"v2"===u&&"option"===j)&&Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{className:"info-box",children:[Object(k.jsx)("div",{className:"info-box-title",children:d["liquidity-share-value"]}),Object(k.jsxs)("div",{className:"info-box-num",children:[Object(k.jsx)(h.a,{allowZero:!0,decimalScale:6,value:i.shareValue,thousandSeparator:!0})," ",r]})]})}),Object(k.jsxs)("div",{className:"info-box",children:[Object(k.jsx)("div",{className:"info-box-title",children:d["staked-balance"]}),Object(k.jsxs)("div",{className:"info-box-num",children:[Object(k.jsx)(h.a,{allowZero:!0,value:i.formatShares,decimalScale:2}),"v2"!==u&&"v3"!==u&&"v3_lite"!==u||"option"===j&&"v2"===u?" "+d.shares:" "+r]})]}),("v2"!==u&&"v3"!==u&&"v3_lite"!==u||"v2"===u&&"option"===j)&&Object(k.jsxs)("div",{className:"info-box",children:[Object(k.jsx)("div",{className:"info-box-title"}),Object(k.jsxs)("div",{className:"info-box-num",children:[Object(k.jsx)(h.a,{allowZero:!0,decimalScale:2,value:i.values,thousandSeparator:!0})," ",r]})]}),("v2"===u||"v3"===u||"v3_lite"===u)&&!("option"===j&&"v2"===u)&&Object(k.jsxs)("div",{className:"info-box",children:[Object(k.jsx)("div",{className:"info-box-title",children:Object(k.jsx)($.a,{multiline:!0,text:d["mining-pnl"],tip:d["mining-pnl-hover"],html:!0,element:Object(k.jsxs)("span",{children:[" ",Object(k.jsxs)("div",{children:[d["mining-pnl-hover-one"]," "]}),d["mining-pnl-hover"]," ",Object(k.jsxs)("div",{children:[Object(k.jsx)("a",{target:"_blank",href:"https://docs.deri.io/how-it-works/mining-amm-liquidity-mining#ii.-base-token-profit-with-market-risk",children:d["learn-more-pnl"]})," "]})," "]})})}),Object(k.jsxs)("div",{className:"info-box-num",children:[Object(k.jsx)(h.a,{allowZero:!0,prefix:" ",value:i.pnl,decimalScale:2}),"  ",p&&p.bTokens[0].bTokenSymbol," (",Object(k.jsx)(h.a,{value:i.pnlPercentage,decimalScale:2,suffix:"%"}),")"]})]}),("v3"===u||"v3_lite"===u)&&Object(k.jsxs)("div",{className:"info-box",children:[Object(k.jsx)("div",{className:"info-box-title",children:d["xvs-earned"]}),Object(k.jsxs)("div",{className:"info-box-num collect-box",children:[Object(k.jsx)(h.a,{value:T,decimalScale:2}),Object(k.jsx)(B.a,{onClick:q,className:"collect",label:d.collect})]})]})]}),Object(k.jsxs)("div",{className:"pool-info-text-two",children:["lp"!==j&&Object(k.jsxs)("div",{className:"info-box",children:[Object(k.jsx)("div",{className:"info-box-title",children:d.symbols}),Object(k.jsx)("div",{className:"info-box-num symbols",children:"main"===p.zone?m:Object(k.jsx)($.a,{tip:m,children:m})})]}),Object(k.jsxs)("div",{className:"info-box",children:[Object(k.jsx)("div",{className:"info-box-title",children:d["contract-address"]}),Object(k.jsx)("div",{className:"info-box-num",children:Object(k.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat(L[a]&&L[a].viewUrl,"/address/").concat(s),children:Object(x.i)(s)})})]})]})]})]})}var H=a(27),D=a(1335);function U(e){let{lang:t,address:a,checkoutBaseToken:c,nowToken:i,bTokenList:s,version:r,type:o}=e;const[l,d]=Object(n.useState)([]),b=e=>{e.target.src=F.default};return Object(n.useEffect)((()=>{d(s)}),[s]),Object(k.jsxs)("div",{className:"select-basetoken-info",children:[Object(k.jsxs)("div",{className:"select-coin-title-search",children:[Object(k.jsxs)("div",{className:"select-coin-title",children:[" ",t["select-the-coin"]]}),Object(k.jsx)("div",{className:"search-box",children:Object(k.jsx)(D.a,{list:s,searchName:"bTokenSymbol",onChange:e=>d(e)})})]}),Object(k.jsxs)("div",{className:"coin-search",children:[Object(k.jsx)("div",{className:"slide-icon left",children:Object(k.jsx)(H.a,{token:"arrow-left",width:"24",height:"24"})}),Object(k.jsxs)("div",{className:"v3"===r||"v3_lite"===r?"coin-list some-coin":"coin-list",children:["lp"!==o&&"v2_lite_open"!==r&&Object(k.jsx)(k.Fragment,{children:l.map(((e,a)=>Object(k.jsxs)("div",{className:i===e.bTokenSymbol?"coin-box checked-base":"coin-box",onClick:()=>{c(e.bTokenId,e.bTokenSymbol)},children:[Object(k.jsxs)("div",{className:"base-apy-info",children:[Object(k.jsx)("div",{className:`btoken-logo ${e.bTokenSymbol}`}),Object(k.jsxs)("div",{className:"apy-base-staked",children:[Object(k.jsx)("div",{className:"base-name",children:e.bTokenSymbol}),Object(k.jsxs)("div",{className:"base-apy",children:[t.apy," \xa0 ",Object(k.jsx)(h.a,{width:"50px",value:e.apy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2}),("v3"===r||"v3_lite"===r)&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("span",{children:[" +  ",Object(k.jsx)(h.a,{width:"50px",value:e.supplyApy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2}),"  + "]}),Object(k.jsx)(h.a,{width:"50px",value:e.xvsApy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2})]})]})]})]}),e.staked&&Object(k.jsx)("img",{src:q.a,alt:""})]})))}),"v2_lite_open"===r&&Object(k.jsx)(k.Fragment,{children:l.map(((e,a)=>Object(k.jsxs)("div",{className:"coin-box checked-base",onClick:()=>{c(e.bTokenId)},children:[Object(k.jsxs)("div",{className:"base-apy-info",children:[Object(k.jsx)("div",{className:`btoken-logo ${e.bTokenSymbol}`,children:Object(k.jsx)("img",{alt:"",onError:b,src:`https://raw.githubusercontent.com/deri-finance/deri-open-zone/main/img/${e.bTokenSymbol}.png`})}),Object(k.jsx)("div",{className:"apy-base-staked",children:Object(k.jsx)("div",{className:"base-name",children:e.bTokenSymbol})})]}),e.staked&&Object(k.jsxs)("div",{className:"stake",children:[Object(k.jsx)("img",{src:q.a,alt:""}),t.staked]})]})))}),"lp"===o&&s.length&&Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("div",{className:"coin-box checked-base",children:Object(k.jsxs)("div",{className:"base-apy-info",children:[Object(k.jsxs)("div",{className:"lp-btoken-logo",children:[Object(k.jsx)("div",{className:`btoken-logo ${s[0].bTokenSymbol}`}),Object(k.jsx)("span",{className:"conect-logo",children:"+"}),Object(k.jsx)("div",{className:`btoken-logo ${s[1].bTokenSymbol}`})]}),Object(k.jsxs)("div",{className:"apy-base-staked",children:[Object(k.jsx)("div",{className:"base-name",children:i}),Object(k.jsxs)("div",{className:"base-apy",children:[Object(x.v)(a)&&Object(k.jsxs)(k.Fragment,{children:[t.apy," \xa0 ",Object(k.jsx)(h.a,{value:s[1].apy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2})]}),Object(x.B)(a)&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)($.a,{text:`${t.apy} ${(+s[1].apy).toFixed(2)} %`,tip:t["deri-apy"]}),"\xa0 + \xa0 ",Object(k.jsx)($.a,{text:`${t.apy}  ${(+s[1].lpApy).toFixed(2)} %`,tip:t["sushi-apy"]})]})]})]})]})})})]}),Object(k.jsx)("div",{className:"slide-icon right",children:Object(k.jsx)(H.a,{token:"arrow-right",width:"24",height:"24"})})]})]})}const R=O.DeriEnv.get(),{chainInfo:z}=N[R];t.default=Object(s.b)("wallet","poolManager")(Object(s.c)((function(e){let{lang:t,wallet:a={},poolManager:s,getLang:o}=e;const{version:l,chainId:d,address:b,type:u}=Object(c.i)(),[j,p]=Object(n.useState)(),[h,m]=Object(n.useState)(""),[v,g]=Object(n.useState)(!1),[N,$]=Object(n.useState)(""),[_,B]=Object(n.useState)([]),[L,H]=Object(n.useState)({}),D=Object(S.a)(),[R,P]=Object(n.useState)(""),[Z,V]=Object(n.useState)(),[W,M]=Object(n.useState)({}),J=z[d]&&z[d].name,X=async()=>{if(a.isConnected()){let e=[a.detail.chainId,b,a.detail.account],t=null;N.isLp?t=await f.a.request("getLpWalletBalance",e):("v3"===l||"v3_lite"===l?e.push(j):e.push(h),"v2_lite_open"===l&&await O.openConfigListCache.update(),t=await f.a.request("getBTokenBalance",e)),V(t)}},K=()=>{X(),G(),Q()},Y=Object(n.useMemo)((()=>({[t.add]:{content:Object(k.jsx)(y,{getLang:o,poolConfig:N,isLp:u,wallet:a,afterTransaction:K,version:l,bTokenId:h,address:b,lang:t,type:"add",poolInfo:L,baseToken:j,walletBalance:Z}),style:{background:"linear-gradient(200.74deg, rgba(97, 122, 255, 0.1) -4.65%, rgba(223, 229, 255, 0) 50.94%, rgba(85, 91, 237, 0.05) 105.4%)"},borderColor:"#203B60",icon:"add-icon",iconWidth:"25",iconHeight:"25",inicon:"inactive-add",direction:"tab-left"},[t.remove]:{content:Object(k.jsx)(y,{getLang:o,isLp:u,poolConfig:N,wallet:a,afterTransaction:K,lang:t,address:b,type:"remove",bTokenId:h,poolInfo:L,balance:L,baseToken:j,version:l}),style:{background:"linear-gradient(200.74deg, rgba(97, 122, 255, 0.1) -4.65%, rgba(223, 229, 255, 0) 50.94%, rgba(85, 91, 237, 0.05) 105.4%)"},borderColor:"#203B60",icon:"remove-icon",iconWidth:"25",iconHeight:"25",iconMarginRight:"20",inicon:"inactive-remove",direction:"tab-right"}})),[t,o,N,u,a,l,h,b,j,Z,L]),G=async()=>{let e=null;if(N){let t,n,c,i,s,r,o=await N.getPoolInfo(a,N);if(o.bTokensApy&&o.bTokensLiq&&("v2"===l&&h?(s=o.bTokensApy.filter((e=>e.bTokenId===h)),t=s[0].apy,r=s[0].multiplier,i=o.bTokensLiq.filter((e=>e.bTokenId===h)),i=i[0].liquidity):"v2_lite_open"!==l&&"v3"!==l&&"v3_lite"!==l?(t=o.bTokensApy[0].apy,i=o.bTokensLiq[0].liquidity):"v3"!==l&&"v3_lite"!==l||(s=o.bTokensApy.filter((e=>e.bTokenSymbol===j)),s.length&&(t=s[0].apy,n=s[0].supplyApy,c=s[0].xvsApy,r=s[0].multiplier),i=o.bTokensLiq.filter((e=>e.bTokenSymbol===j)),i.length&&(i=i[0].liquidity)),e={total:i,apy:100*+t,supplyApy:100*+n,xvsApy:100*+c,multiplier:r}),a.isConnected()){e=await N.getLiquidityInfo(a,b,N.version,N.isLp,u,j,h),"v3"!==l&&"v3_lite"!==l||(e.supplyApy=100*+n,e.xvsApy=100*+c),e.apy=100*+t,e.multiplier=r}H(e)}},Q=async()=>{if(a.isConnected()&&N){let e=await N.getIsStaked(a,N);if(e.bTokens){_.map((t=>{if("v2"===l&&"option"!==u)t.staked=e.bTokens.filter((e=>e.bTokenId===t.bTokenId))[0].isStaked;else if("v3"===l||"v3_lite"===l){let a=e.bTokens.filter((e=>e.bTokenSymbol===t.bTokenSymbol));t.staked=!!a.length&&a[0].isStaked}else t.staked=e.isStaked;return t}))}let t=[];if(_.forEach(((e,a)=>{if(e.staked)return t.push(e),void _.splice(a,1)})),_.unshift(...t),_.length){let e=_[0].bTokenSymbol;Object(x.v)(b)?e="PANCAKE-LP":Object(x.B)(b)&&(e="DERI-USDT SLP");let t=_[0].bTokenId;p(e),m(t)}}};return Object(n.useEffect)((()=>{a.detail.chainId&&a.detail.chainId!==d&&a.switchNetwork(D[d])}),[a.detail]),Object(n.useEffect)((()=>{(async()=>{await s.load();let e=s.pools;"lp"===u&&(await s.loadDoubleMingingPool(),e=s.lpPools),"v2_lite_open"===l&&(await s.loadOpen(),e=s.openPools),e=e.filter((e=>e.address===b)),e=e[0];let t=e.bTokens[0].bTokenSymbol;Object(x.v)(b)?t="PANCAKE-LP":Object(x.B)(b)&&(t="DERI-USDT SLP"),e.bTokens[0].bTokenId;let a=e.symbols.map((e=>{let t=[];return t.push(e.symbol),t}));a=a.join(","),P(a),$(e),B(e.bTokens)})()}),[]),Object(n.useEffect)((()=>{if(V(""),_.length&&(j||h)){let e,t={};if("v2"!==l){t=_.filter((e=>e.bTokenSymbol===j))[0]}else if("v2"===l){t=_.filter((e=>e.nowTokenId===h))[0]}M(t),"v2"===l&&"option"!==u?h&&(e=_.filter((e=>e.bTokenId===h))[0].staked):"lp"!==u&&(e=_.filter((e=>e.bTokenSymbol===j))[0].staked),g(e)}}),[_,j,h]),Object(n.useEffect)((()=>{(async()=>{if(N){let e=await N.getPoolInfo(a,N);e.bTokensApy&&_.map((t=>{if("v2"===l)t.apy=100*+e.bTokensApy.filter((e=>e.bTokenId===t.bTokenId))[0].apy;else if("v2_lite_open"!==l&&"v3"!==l&&"v3_lite"!==l)t.apy=100*+e.bTokensApy[0].apy,Object(x.B)(b)&&(t.lpApy=e.lpApy);else if("v3"===l||"v3_lite"===l){let a=e.bTokensApy.find((e=>e.bTokenSymbol===t.bTokenSymbol));a&&(t.apy=100*+a.apy,t.supplyApy=100*+a.supplyApy,t.xvsApy=100*+a.xvsApy)}return t}))}})()}),[N,_]),Object(n.useEffect)((()=>{G(),X()}),[h,N,a.detail.account,j]),Object(n.useEffect)((()=>{Q()}),[N,a.detail.account,_]),Object(k.jsxs)("div",{className:"pool-detail",children:[Object(k.jsx)("div",{className:"back-pool",children:Object(k.jsx)(i.b,{to:"0x08aD0E0b4458183758fC5b9b6D27c372965fB780"===b||"0x66f501dda450C8978c4A1115D7b2A7FAa7702F05"===b||"0x574022307e60bE1f07da6Ec1cB8fE23d426e5831"===b?"/retired":"/pool",children:Object(k.jsxs)("div",{className:"icon-back",children:[Object(k.jsx)("img",{alt:"",src:T.default}),Object(k.jsx)("span",{children:t.back})]})})}),Object(k.jsxs)("div",{className:"pool-deatail-info",children:[Object(k.jsxs)("div",{className:"pool-detail-basetoken-info",children:[Object(k.jsxs)("div",{className:"pool-info-text",children:[Object(k.jsxs)("div",{className:"pool-network-type",children:[Object(k.jsx)("div",{className:"network-logo",children:Object(k.jsx)("img",{alt:"",src:(e=>{let t,a=+e;return 56===a||97===a?t=C.default:137===a?t=I.default:1===a&&(t=E.default),t})(d)})}),Object(k.jsxs)("div",{className:"pool-type-network-text",children:[Object(k.jsxs)("div",{className:"pool-type-text",children:["0xD2D950e338478eF7FeB092F840920B3482FcaC40"!==b&&Object(k.jsxs)(k.Fragment,{children:[t[N.type]," ",N[N.zone]]}),"0xD2D950e338478eF7FeB092F840920B3482FcaC40"===b&&Object(k.jsx)(k.Fragment,{children:t[N.zone]})]}),Object(k.jsx)("div",{className:"pool-network-text",children:J})]})]}),Object(k.jsxs)("div",{className:"pool-des",children:["lp"!==u&&t["amm-pool-des"],"clp"===l&&Object(k.jsx)(k.Fragment,{children:t["deri-pancake-pool"]}),"slp"===l&&Object(k.jsx)(k.Fragment,{children:t["deri-sushi-pool"]}),Object(k.jsx)("br",{}),"lp"!==u?Object(k.jsx)("a",{rel:"norelerror",target:"_blank",href:"https://docs.deri.io/library/faqs/mining-faq#is-the-amm-liquidity-mining-on-deri-pools-risk-free",children:Object(k.jsxs)("span",{className:"learn-more",children:[" ",t["learn-more"]]})}):Object(k.jsx)("a",{rel:"norelerror",target:"_blank",href:"https://docs.deri.io/library/faqs/mining-faq#is-dex-liquidity-mining-on-sushiswap-sushiswap-onsen-and-pancakeswap-deri-risk-free",children:Object(k.jsxs)("span",{className:"learn-more",children:[" ",t["learn-more"]]})})]})]}),Object(k.jsx)(U,{lang:t,address:b,checkoutBaseToken:async(e,t)=>{let a;a="v3"!==l&&"v3_lite"!==l?N.bTokens.filter((t=>t.bTokenId===e)):N.bTokens.filter((e=>e.bTokenSymbol===t)),H({}),m(e),V(""),p(a[0].bTokenSymbol),g()},nowToken:j,bTokenList:_,version:l,type:u})]}),Object(k.jsxs)("div",{className:"pool-detail-add-remove-info",children:[Object(k.jsxs)("div",{className:"mining-deri-liquidity",children:[Object(k.jsxs)("div",{className:"btoken-liquidity",children:["lp"!==u&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:`btoken-logo ${j}`,children:"v2_lite_open"===l&&Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("img",{alt:"",onError:e=>{e.target.src=F.default},src:`https://raw.githubusercontent.com/deri-io/deri-open-zone/main/img/${j}.png`})})}),Object(k.jsxs)("div",{className:"manage-stake",children:[Object(k.jsxs)("div",{className:"manage",children:[t.manage," ",j," ",t.liquidity]}),v&&Object(k.jsxs)("div",{className:"stake",children:[Object(k.jsx)("img",{src:q.a,alt:""}),t.staked]})]})]}),"lp"===u&&_.length&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"lp-btoken-logo",children:[Object(k.jsx)("div",{className:`btoken-logo ${_[0].bTokenSymbol}`}),Object(k.jsx)("span",{className:"conect-logo",children:"+"}),Object(k.jsx)("div",{className:`btoken-logo ${_[1].bTokenSymbol}`})]}),Object(k.jsxs)("div",{className:"manage-stake",children:[Object(k.jsxs)("div",{className:"manage",children:[t.manage," ",j," ",t.liquidity]}),v&&Object(k.jsxs)("div",{className:"stake",children:[Object(k.jsx)("img",{src:q.a,alt:""}),t.staked]})]})]})]}),Object(k.jsx)("div",{className:"deri-current-epoch",children:"v2_lite_open"!==l&&Object(k.jsx)(r.a,{poolShow:!1,lang:t,wallet:a})})]}),Object(k.jsxs)("div",{className:"mining-add-remove-liquidity",children:[Object(k.jsx)(A,{wallet:a,nowApy:W,poolInfo:L,chainId:d,address:b,nowToken:j,lang:t,poolInfo:L,version:l,type:u,poolConfig:N,symbols:R}),Object(k.jsx)("div",{className:"add-remove-liquidity",children:Object(k.jsx)(w.a,{tabSet:Y,iconMarginRight:"20",width:379,size:18,inactiveBgColor:"#0c192d",icon:"",borderBottom:!0,divider:!0})})]})]})]})]})})))}}]);
//# sourceMappingURL=18.116f9aa9.chunk.js.map