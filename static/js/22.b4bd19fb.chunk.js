(this["webpackJsonpderi-client"]=this["webpackJsonpderi-client"]||[]).push([[22],{1363:function(e,t,a){"use strict";var n,s,c=a(21),r=a(213),i=a(42),o=a(6),l=a(63),d=a(9),b=(a(70),a(1446)),j=a(51),u=a(19),p=a(15),v=a(4),x=["allowZero","wallet","closeShowLoadingEffectAfterLoaded","defaultValue"],m=Object(j.a)(b.a)(n||(n=Object(l.a)(["\n  width : ","px;\n"])),(function(e){return e.width})),f=j.a.div(s||(s=Object(l.a)(["\n  width : ",";\n  height : ",";\n"])),(function(e){return/px$/.test(e.width)?e.width:"".concat(e.width,"px")}),(function(e){return/px$/.test(e.height)?e.height:"".concat(e.height,"px")}));t.a=function(e){var t=Object(d.useState)(Object(v.jsx)("span",{className:"loading-line"})),a=Object(o.a)(t,2),n=a[0],s=a[1],l=Object(d.useState)(!0),b=Object(o.a)(l,2),j=b[0],h=b[1],O=function(){var t=e.allowZero;return"object"!==Object(i.a)(e.value)&&void 0!==e.value&&""!==e.value&&!isNaN(e.value)&&"NaN"!==e.value||0===Math.abs(e.value)&&!0===t},g=function(e){return e&&e.replace(/\.$/,"")};return Object(d.useEffect)((function(){var t=e.allowZero,a=(e.wallet,e.closeShowLoadingEffectAfterLoaded),n=e.defaultValue,i=void 0===n?"--":n,o=Object(r.a)(e,x);if(O())o.decimalScale>0&&o.value&&/\d+\.0*[1-9]+/.test(o.value)&&0===+Object(p.bg)(o.value).toFixed(+o.decimalScale||2)&&(o.decimalScale=Object(u.d)(Math.abs(o.value))+2),(-1===o.decimalScale||0===+o.value&&t)&&delete o.decimalScale,o.value=Object(u.K)(o.value),o.value&&/\d+.9{6}/.test(o.value)&&(o.value=(+o.value).toFixed(5)),s(Object(v.jsx)(m,Object(c.a)(Object(c.a)({},o),{},{renderText:g,displayType:"text",fixedDecimalScale:!0,thousandSeparator:!0})));else if(j){var l=e.width,d=e.height;s(Object(v.jsx)(f,{className:"loading-line",width:l,height:d})),a&&h(!1)}var b=window.setTimeout((function(){O()||s(i)}),6e4);return function(){clearTimeout(b)}}),[e.value,e.decimalScale,e.suffix]),n}},1657:function(e,t,a){"use strict";t.a=a.p+"static/media/staked.46571832.svg"},1804:function(e,t,a){},1805:function(e,t,a){},1877:function(e,t,a){"use strict";a.d(t,"a",(function(){return N}));var n,s,c=a(63),r=a(2),i=a(6),o=a(0),l=a.n(o),d=a(9),b=a(54),j=a(1363),u=a(182),p=a(509),v=a(510),x=a(512),m=a(508),f=a(1657),h=a(514),O=(a(65),a.p+"static/media/close.61c9d399.svg"),g=(a(1804),a(51)),k=a(4);function N(e){var t=e.lang,a=e.pool,n=e.wallet,s=Object(b.g)(),c=Object(d.useState)({}),o=Object(i.a)(c,2),g=o[0],N=o[1],w=Object(d.useState)(!1),y=Object(i.a)(w,2),F=y[0],T=y[1],_=Object(d.useState)(),E=Object(i.a)(_,2),I=E[0],X=E[1],B=Object(d.useState)(!0),C=Object(i.a)(B,2),z=C[0],D=C[1],U=function(){var e=Object(r.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N({}),e.next=3,a.getPoolInfo(n,a);case 3:t=e.sent,N(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(r.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||"v3"!==a.version&&"v3_lite"!==a.version){e.next=5;break}return e.next=3,a.getVenusEarned(n,a.address);case 3:t=e.sent,X(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(r.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getIsStaked(n,a);case 2:(t=e.sent)&&T(t.isStaked);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(e){e.target.src=h.default};Object(d.useEffect)((function(){U(),n.isConnected()&&(A(),V())}),[a,n.detail.account]),Object(d.useEffect)((function(){var e=sessionStorage.getItem(a.address);null!==e&&e&&D(!1)}),[a]);var q="/pool/".concat(a.version||"v1","/").concat(a.chainId,"/").concat(a.type,"/").concat(a.address);return Object(k.jsxs)("div",{className:"".concat("0x243681B8Cd79E3823fF574e07B2378B8Ab292c1E"===a.address?"showGuide":""," card-box"),children:[Object(k.jsxs)("div",{className:"v2_lite_open"===a.version?"card-list open-list":"card-list",onClick:function(){!function(e){"v2_lite_open"!==a.version&&s.push(e)}(q)},children:[Object(k.jsxs)("div",{className:"card-header ".concat(a.retired?a.version:""," ").concat(a.new?"new":""),children:[Object(k.jsxs)("div",{className:"pool-network-type",children:[Object(k.jsx)("div",{className:"network-logo",children:Object(k.jsx)("img",{alt:"",src:function(e){var t;return"56"===e||"97"===e?t=p.default:"137"===e?t=x.default:"1"===e?t=m.default:"42161"!==e&&"421611"!==e||(t=v.default),t}(a.chainId)})}),Object(k.jsxs)("div",{className:"pool-type-network-text",children:[Object(k.jsxs)("div",{className:"pool-type-text",children:["0xD2D950e338478eF7FeB092F840920B3482FcaC40"!==a.address&&Object(k.jsxs)(k.Fragment,{children:[t[a.type]," ",t[a.zone]]}),"0xD2D950e338478eF7FeB092F840920B3482FcaC40"===a.address&&Object(k.jsx)(k.Fragment,{children:t[a.zone]})]}),Object(k.jsx)("div",{className:"pool-network-text",children:"BSC"===a.chain.toUpperCase()?"BNB Chain":a.chain.toUpperCase()})]})]}),Object(k.jsxs)("div",{className:"base-token-logo",children:[a.isLp&&Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{className:"lp-base-token-bg",children:[Object(k.jsx)("div",{className:"base-token-bg ".concat(a.bTokens[0].bTokenSymbol)}),Object(k.jsx)("span",{className:"lp-con",children:"+"}),Object(k.jsx)("div",{className:"base-token-bg ".concat(a.bTokens[1].bTokenSymbol)})]})}),!a.isLp&&"v3"!==a.version&&"v3_lite"!==a.version&&Object(k.jsx)(k.Fragment,{children:a.bTokens.map((function(e,t){return Object(k.jsx)("div",{className:"base-token-box-bg",children:Object(k.jsx)("div",{className:"base-token-bg ".concat(e.bTokenSymbol),children:"v2_lite_open"===a.version&&Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("img",{alt:"",onError:L,src:"https://raw.githubusercontent.com/deri-finance/deri-open-zone/main/img/".concat(e.bTokenSymbol,".png")})})})},t)}))}),("v3"===a.version||"v3_lite"===a.version)&&Object(k.jsx)(S,{bTokens:a.bTokens})]})]}),Object(k.jsxs)("div",{className:"card-content",children:[Object(k.jsx)("div",{className:"max-apy",children:"v2_lite_open"!==a.version&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:"max-apy-title",children:"v2"===a.version||"v3_lite"===a.version||"v3"===a.version?t["max-apy"]:t.apy}),Object(k.jsx)("div",{className:"max-apy-num",children:Object(k.jsx)(j.a,{value:g.apy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2})})]})}),Object(k.jsxs)("div",{className:"total-pool-liquidity",children:[Object(k.jsx)("div",{className:"total-liquidity-title",children:t["total-pool-liquidity"]}),Object(k.jsx)("div",{className:"total-liquidity-num",children:Object(k.jsx)(j.a,{value:g.liquidity,displayType:"text",thousandSeparator:!0,decimalScale:"lp"===a.type?7:0})})]}),Object(k.jsxs)("div",{className:"your-deri-epoch",children:[F&&Object(k.jsxs)("div",{className:"staked-box",children:[Object(k.jsx)("img",{src:f.a,alt:""}),t.staked]}),+I>0&&("v3"===a.version||"v3_lite"===a.version)&&Object(k.jsx)("span",{className:"xvs-collectable",children:Object(k.jsxs)("div",{className:"staked-box",children:[Object(k.jsx)(j.a,{width:"50px",value:I,displayType:"text",thousandSeparator:!0,decimalScale:2})," \xa0 XVS  ",t.collectable]})})]}),Object(k.jsx)("div",{className:"stake-button",children:Object(k.jsx)(u.a,{disabled:"v2_lite_open"===a.version,className:"button",outline:!0,label:"v2_lite_open"===a.version?t.operating:t.stake})})]})]}),"v3_lite"===a.version&&z&&Object(k.jsxs)("div",{className:"new-symbol",children:[Object(k.jsxs)("div",{className:"new-symbol-text",children:["New Listing : ",Object(k.jsx)("a",{href:"https://deri.io/#/trade/futures/FITFIUSDT",target:"_blank",children:"FITFIUSDT"})," ",Object(k.jsx)("a",{href:"https://deri.io/#/trade/futures/AVAXUSDT",target:"_blank",children:"AVAXUSDT"})]}),Object(k.jsx)("div",{className:"close-symbol",children:Object(k.jsx)("img",{src:O,alt:"close",onClick:function(){return e=a.address,sessionStorage.setItem(e,!1),void D(!1);var e}})})]})]})}var w=g.a.div(n||(n=Object(c.a)(["\n  @-webkit-keyframes explode {\n    0% {\n        transform: translateX(0px);\n        -moz-transform : translateX(0px);\n    }\n    100% {\n        transform: translateX(100px);\n        -moz-transform : translateX(100px);\n    }\n  }\n\n  @keyframes explode {\n    0% {\n        transform: translateX(0px);\n        -moz-transform : translateX(0px);\n    }\n    100% {\n        transform: translateX(100px);\n        -moz-transform : translateX(100px);\n    }\n  }\n  .base-token{\n    margin-left: 0px!important;\n    z-index : -2;\n    visibility: hidden;\n    background-color: #111e34;\n    border : 1px solid #fff;\n  }\n  @media only screen and (max-width: 760px) {\n    .base-token{\n      display:none;\n    }\n  }\n  .base-token-box-bg.explode:hover .move  {\n    -webkit-animation : explode .4s .0s linear;\n    -moz-animation :  explode .4s .0s linear;\n    animation: explode .4s .0s linear;\n    // transform : translateX(100px)!important;\n    visibility: visible;    \n  }\n  \n  .base-token-box-bg.explode:hover .base-token {\n    z-index : 2!important;\n  } \n\n"]))),y=g.a.div(s||(s=Object(c.a)(["\n  position: absolute;\n  transform : ",";\n  width: 48px;\n  height: 48px;\n  display: inline-block;\n  border-radius: 50%;\n  .move {\n    transform : translateX(100px) ",";\n  }\n"])),(function(e){return"rotate(".concat(-e.rotate,"deg)")}),(function(e){return"rotate(".concat(e.rotate,"deg) !important")})),S=function(e){var t=e.bTokens,a=void 0===t?[]:t,n=360/a.length;return Object(k.jsxs)(w,{className:"v3-tokens",children:[Object(k.jsx)("div",{className:"tokens",children:a.filter((function(e,t){return t<3})).map((function(e,t){return Object(k.jsx)("div",{className:"base-token-box-bg",children:Object(k.jsx)("div",{className:"base-token-bg ".concat(e.bTokenSymbol)})},t)}))}),Object(k.jsxs)("div",{className:"base-token-box-bg explode",children:[Object(k.jsxs)("div",{className:"base-token-bg",children:[a.length-3," +"]}),a.map((function(e,t){var a=n*t;return Object(k.jsx)(y,{className:"base-token",rotate:a,width:"100",children:Object(k.jsx)("div",{width:"100",rotate:a,className:"base-token-bg move ".concat(e.bTokenSymbol)})},t)}))]})]})}},2249:function(e,t,a){},2548:function(e,t,a){"use strict";a.r(t);var n=a(20),s=a(2),c=a(6),r=a(0),i=a.n(r),o=a(9),l=a(44),d=a(1877),b=a(39),j=(a(320),a(1805),a(2249),a(4));t.default=Object(l.b)("wallet","poolManager")(Object(l.c)((function(e){var t=e.lang,a=e.wallet,r=void 0===a?{}:a,l=e.poolManager,u=Object(o.useState)("amm"),p=Object(c.a)(u,2),v=p[0],x=(p[1],Object(o.useState)(!1)),m=Object(c.a)(x,2),f=m[0],h=(m[1],Object(o.useState)(t["deri-pool-title"])),O=Object(c.a)(h,2),g=O[0],k=O[1],N=Object(o.useState)([]),w=Object(c.a)(N,2),y=w[0],S=w[1],F=Object(o.useState)(!1),T=Object(c.a)(F,2),_=(T[0],T[1],Object(o.useState)([])),E=Object(c.a)(_,2),I=(E[0],E[1]),X=Object(o.useState)([]),B=Object(c.a)(X,2),C=(B[0],B[1]),z=function(){var e=Object(s.a)(i.a.mark((function e(){var t,a,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat(Object(n.a)(l.ammPools),Object(n.a)(l.lpPools)),e.next=3,Promise.all(t.map(function(){var e=Object(s.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[t.chainId,t.address,r.detail.account],e.next=3,b.a.request("getUserStakeInfo",a);case 3:if(!e.sent.isStaked){e.next=8;break}return e.abrupt("return",t);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:a=(a=e.sent).filter((function(e){return e})),c=a.filter((function(e){return"lp"!==e.type})),o=a.filter((function(e){return"lp"===e.type})),I(c),C(o);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){r.isConnected()&&z()}),[r.detail,l,v]),Object(o.useEffect)((function(){k(f?t["open-pool-title"]:t["deri-pool-title"])}),[f]),Object(o.useEffect)((function(){l.load()}),[]),Object(o.useEffect)((function(){S(l.retiredPools)}),[l.pools]),Object(j.jsx)("div",{className:"pool-box",children:Object(j.jsx)("div",{className:"pool-info",children:Object(j.jsxs)("div",{className:"left",children:[Object(j.jsx)("div",{className:"left-header-info",children:Object(j.jsxs)("div",{className:"pool-title",children:[Object(j.jsx)("div",{className:"pool-title-text",children:g}),Object(j.jsxs)("div",{className:"pool-title-select-text",children:[!f&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"pool-test-des",children:t["pool-title-des-one"]}),Object(j.jsx)("div",{className:"pool-test-des",children:t["pool-title-des-two"]})]}),f&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"pool-test-des",children:t["open-pool-title-des-one"]}),Object(j.jsx)("div",{className:"pool-test-des",children:t["open-pool-title-des-two"]})]})]})]})}),Object(j.jsxs)("div",{className:"pool-card-claim-bg",children:[Object(j.jsx)("div",{className:"retired-hint",children:Object(j.jsxs)("div",{children:["Several V3 ( ",Object(j.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://deri.io/#/retired/trade/futures",children:"Fut Main"})," ) and V2 markets ( ",Object(j.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://deri.io/#/retired/trade/options",children:"Options"})," , ",Object(j.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://deri.io/#/retired/trade/futures",children:"Fut Main & Fut Inno-BUSD "})," pools) are no longer supported, please close position and remove your collaterals."]})}),Object(j.jsx)("div",{className:"pool-card",children:y.map((function(e,a){return Object(j.jsx)(d.a,{wallet:r,lang:t,pool:e},a)}))}),Object(j.jsx)("div",{className:!0})]})]})})})})))}}]);
//# sourceMappingURL=22.b4bd19fb.chunk.js.map