{"version":3,"sources":["desktop/pages/Info/List.js","utils/DeriNumberFormat.js","desktop/pages/Info/Table.js","desktop/pages/Info/Chart.js"],"names":["HEADERS","COLUMNS","GET_POOL_URL","process","columnFormat","catalog","data","className","toUpperCase","zone","indexOf","substring","length","address","formatAddress","liquidity","value","suffix","bToken","split","thousandSeparator","decimalScale","notional","inject","observer","loading","useState","allPoolData","setAllPoolData","history","useHistory","loadAllPoolData","a","axios","get","res","status","loaded","useEffect","title","url","seriesType","Object","keys","map","chain","headers","columns","columnRenders","onRowClick","d","push","dataSet","DeriNumberFormat","props","renderablity","setRenderablity","allowZero","others","undefined","isNaN","Math","abs","displayType","pagination","setData","page","setPage","count","setCount","pageSize","loadData","restUrl","Array","isArray","floor","header","onClick","style","cursor","col","call","AreaSeries","chartRef","useRef","series","curValue","setCurValue","curDate","setCurDate","lastDataRef","crosshairMove","param","point","current","seriesPrices","forEach","item","time","year","month","day","addAreaSeries","chart","areaSeries","priceLineVisible","lastValueVisible","topColor","bottomColor","lineColor","priceFormat","precision","minMove","sort","item1","item2","timestamp","dateFormat","Date","last","timeScale","fitContent","addHistogramSeries","histogramSeries","color","type","priceFormatter","price","scaleMargins","top","bottom","priceScale","applyOptions","Number","last_24h","rect","document","querySelector","getBoundingClientRect","createChart","localization","convertToInternationalCurrencySystem","locale","rightOffset","leftOffset","timeVisible","borderColor","borderVisible","width","height","position","mode","handleScroll","handleScale","crosshair","CrosshairMode","Normal","vertLine","labelVisible","visible","horzLine","grid","vertLines","horzLines","layout","backgroundColor","textColor","fontSize","initChart","subscribeCrosshairMove","unsubscribeCrosshairMove","removeSeries","remove","ref"],"mappings":"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","file":"static/js/31.8edb5a61.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport './info.less'\nimport Table from './Table'\nimport axios from 'axios'\nimport { formatAddress } from '../../../utils/utils'\nimport DeriNumberFormat from '../../../utils/DeriNumberFormat'\nimport { useHistory } from 'react-router-dom'\nimport Chart from './Chart'\nimport { inject, observer } from 'mobx-react'\nconst HEADERS = ['ZONE','POOL','BASE TOKEN','POOL ADDRESS','LIQUIDITY','TRADE VOLUME']\nconst COLUMNS = ['zone','catalog','bToken','address','liquidity','notional']\n\nconst GET_POOL_URL=`${process.env.REACT_APP_INFO_HTTP_URL}/get_pools`\n\nconst columnFormat = {\n  catalog : data => <span className='catalog'>{data.catalog.toUpperCase()}</span>,\n  zone : data => data.catalog.indexOf('-') > 0 ? data.catalog.substring(data.catalog.indexOf('-') + 1,data.catalog.length).toUpperCase() : '',\n  address : data => formatAddress(data.address),\n  liquidity : data => <DeriNumberFormat value={data.liquidity}  suffix={` ${data.bToken.split('|')[0]}`}  thousandSeparator={true} decimalScale={2}/>,  \n  notional : data =>  <DeriNumberFormat value={data.notional} suffix={` ${data.bToken.split('|')[0]}`}  thousandSeparator={true} decimalScale={2}/> ,\n}\nfunction List({loading}){\n  const [allPoolData, setAllPoolData] = useState({})\n  const history = useHistory()\n  const loadAllPoolData = async () => {\n    loading.loading();\n    const res = await axios.get(GET_POOL_URL);\n    if(res.status === 200 && res.data.data){\n      setAllPoolData(res.data.data)\n    }\n    loading.loaded();\n  }\n\n  const onRowClick = d => {\n    history.push(`/info/${d.address}/${d.catalog}/${d.bToken}/${d.chain}`)\n  }\n\n  useEffect(() => {\n    loadAllPoolData();\n    \n  }, [])\n\n\n  return(\n    <div className='info'>\n      <div className='title'>Deri Overview</div>\n      <div className='chart-box'>\n        <div className='chart'><Chart title='TVL' url = {`${process.env.REACT_APP_INFO_HTTP_URL}/get_liquidity_history`} seriesType='area'/> </div>\n        <div className='chart'><Chart title='Volume 24H' url = {`${process.env.REACT_APP_INFO_HTTP_URL}/get_trade_history`} seriesType='histogram'/> </div>\n      </div>\n      <div className='table-by-network'>\n        {Object.keys(allPoolData).map(chain => <Table title={chain} headers={HEADERS} columns={COLUMNS} columnRenders={columnFormat} onRowClick={d => onRowClick(d)} dataSet={allPoolData[chain]}/>)}\n      </div>\n    </div>\n  )\n}\nexport default inject('loading')(observer(List))","import React,{useState,useEffect} from 'react'\nimport NumberFormat from 'react-number-format'\n\nexport default function DeriNumberFormat(props){\n  const [renderablity, setRenderablity] = useState(<span className='loading-line'></span>);\n\n  useEffect(() => {\n    const {allowZero,...others} = props \n    if(((typeof props.value !== 'object' && props.value !== undefined && props.value !== '' && props.value !== 'NaN') || ((isNaN(props.value) && Math.abs(props.value)) === 0 && allowZero === true ))) {\n      setRenderablity(<NumberFormat {...others} displayType = 'text' />)\n    } \n    return () => {};\n  }, [props.value]);\n\n  return renderablity;\n}","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport { inject, observer } from 'mobx-react'\n\nfunction Table({title,dataSet,url,headers,columns,columnRenders = {},pagination,loading,onRowClick}){\n  const [data, setData] = useState([])\n  const [page, setPage] = useState(1)\n  const [count, setCount] = useState()\n  const [pageSize, setPageSize] = useState(10)\n\n  const loadData = async (url,page) => {\n    let restUrl = url;\n    if(pagination){\n      restUrl = `${restUrl}&page=${page}&page_amount=${pageSize}`\n    }\n    loading.loading()\n    const res = await axios.get(restUrl);\n    if(res.status === 200 && Array.isArray(res.data.data)){\n      setCount(res.data.count / pageSize)\n      if(res.data.count % pageSize > 0 ){\n        setCount(Math.floor(res.data.count / pageSize) +1)\n      }\n      setData(res.data.data)\n      setPage(page)\n      loading.loaded()\n    }\n  }\n\n  const prePage = () => {\n    if(page === 1){\n      return;\n    }\n    loadData(url,page - 1)\n  }\n  const nextPage = () => {\n    if(page === count){\n      return;\n    }\n\n    loadData(url,page +1)\n  }\n\n  useEffect(() => {\n    if(dataSet){\n      setData(dataSet)\n    } else {\n      loadData(url,1);\n    }\n  }, [url])\n  return(\n    <div className='info-table'>\n      <div className='t-title'>{title}</div>\n      <div className='tbody'>\n        <div className='theader'>\n          {headers.map(header => <div className='col'>{header}</div>)}\n        </div>\n        {data.length > 0 ? data.map(d => (\n          <div className='row' onClick={() => onRowClick && onRowClick(d)} style={{cursor : onRowClick ? 'pointer' : 'normal'}}>\n            {columns.map(col => <div className='col'>{columnRenders[col] ? columnRenders[col].call(null,d) :d[col]}</div>)}\n          </div>))\n          :\n          <div className='row'><div className='col no-data'>No Data</div></div>\n          }\n         \n\n        {pagination && data.length > 0 && <div className='pagination row'>\n          <span className='arrow' onClick={prePage}> &lt; </span><span>Page {page} of {count}</span><span className='arrow' onClick={nextPage}> &gt; </span>\n        </div>}\n      </div>\n    </div>\n  )\n}\nexport default inject('loading')(observer(Table))","import { useRef,useEffect,useState } from \"react\"\nimport { createChart, CrosshairMode } from \"lightweight-charts\";\nimport axios from \"axios\";\nimport dateFormat from 'dateformat'\nimport { convertToInternationalCurrencySystem } from \"../../../utils/utils\";\n\nexport default function AreaSeries({title,url,seriesType}){\n  const chartRef = useRef(null);\n  const series = useRef(null)\n  const [curValue, setCurValue] = useState('')\n  const [curDate, setCurDate] = useState('')\n  const lastDataRef = useRef()\n\n  const initChart = () => {\n    const rect = document.querySelector('.info-chart').getBoundingClientRect()\n    const chart = createChart(chartRef.current, { \n      localization : {\n        priceFormatter: price => '$ ' + convertToInternationalCurrencySystem(price),\n        locale: 'en-US'\n      },\n      timeScale: {\n        rightOffset : 0,\n        leftOffset : 5,\n        timeVisible : true,\n        borderColor : '#fff',\n        borderVisible :  false\n      },\n      width: rect.width,\n      height: rect.height,\n      priceScale: {\n        position: 'none',\n        borderColor: '#fff',\n        borderVisible : false,\n        mode: 0,\n        scaleMargins: {\n          top: 0.3,\n          // bottom: 0.01\n        },\n      },\n\n      handleScroll: false,\n      handleScale: false,\n      crosshair: {\n        mode: CrosshairMode.Normal,  \n        vertLine: {\n          labelVisible : false,  \n          visible : false\n        },\n        horzLine: {\n          labelVisible : false,  \n          visible : false\n        },\n      },\n      grid: {\n        vertLines: {\n          visible: false,\n        },\n        horzLines: {\n          visible: false,\n        },\n      },\n      layout: {\n        backgroundColor: '#212327',\n        textColor: '#fff',\n        fontSize: 12\n      },\n    });\n    return chart;\n  }\n\n  const crosshairMove = param => {\n      if (!param.point) {\n        setCurDate('')\n        if(lastDataRef.current){\n          setCurValue(lastDataRef.current)\n        }\n        return;\n      }\n      param.seriesPrices.forEach(item => {\n        if(item){\n          setCurValue(item)\n        }\n      })\n      param.time && setCurDate(`${param.time.year}-${param.time.month}-${param.time.day} (UTC)`)\n  }\n\n  const addAreaSeries = async(chart) => {\n    const areaSeries = chart.addAreaSeries({\n      priceLineVisible : false,\n      lastValueVisible: false,\n      topColor: 'RGBA(0,101,159,.5)',\n      bottomColor: 'RGBA(0,101,159,0)',\n      lineColor: 'RGB(0,101,159)',\n      priceFormat: {        \n        precision: 1,\n        minMove : '1000',\n      }\n    })\n  \n    \n    const res = await axios.get(url)\n    if(res.status === 200 && Array.isArray(res.data.data)){\n      let data = res.data.data.sort((item1,item2) => {\n        if(item1.timestamp > item2.timestamp) {\n          return 1\n        } else if(item1.timestamp < item2.timestamp){\n          return -1\n        } else {\n          return 0\n        }\n      })\n      data = data.map(d => ({time : dateFormat(new Date(d.timestamp * 1000),'yyyy-mm-dd'),value : d.value}))\n      areaSeries.setData(data)\n      const last = data[data.length -1].value\n      setCurValue(last)\n      lastDataRef.current = last\n    }\n    series.current = areaSeries\n    chart.timeScale().fitContent();\n    return areaSeries;\n  }\n\n  const addHistogramSeries = async (chart) => {\n    const histogramSeries = chart.addHistogramSeries({\n      color: '#00659F',\n      priceLineVisible : false,\n      lastValueVisible: false,\n      priceFormat: {\n        type: \"volume\",\n        priceFormatter: price => '$ ' + price\n      },\n      scaleMargins: {\n        top: 0.2,\n        bottom: 0\n      }\n    })\n    histogramSeries.priceScale().applyOptions({\n      scaleMargins: {\n        top: 0.1,\n        bottom: 0,\n      },\n    });  \n  \n\n    const res = await axios.get(url)\n    if(res.status === 200 && Array.isArray(res.data.data)){\n      const data = res.data.data.sort((item1,item2) => {\n        if(item1.timestamp > item2.timestamp) {\n          return 1\n        } else if(item1.timestamp < item2.timestamp){\n          return -1\n        } else {\n          return 0\n        }\n      }).map(d => ({time : dateFormat(new Date(d.timestamp * 1000),'yyyy-mm-dd'),value : Number(d.value)}))\n      \n      histogramSeries.setData(data)\n      const last = res.data.last_24h ? res.data.last_24h : data[data.length -1].value\n      setCurValue(last)\n      lastDataRef.current = last\n    }\n    series.current = histogramSeries\n    chart.timeScale().fitContent();\n    return histogramSeries;\n  }\n\n  useEffect(() => {\n    const chart = initChart();\n    if(seriesType === 'area'){\n      addAreaSeries(chart)\n    }\n    if(seriesType === 'histogram'){\n      addHistogramSeries(chart)\n    }\n    chart.subscribeCrosshairMove(crosshairMove);\n    return () => {\n      if(chart){\n        chart.unsubscribeCrosshairMove(crosshairMove)\n        if(series.current){\n          chart.removeSeries(series.current);\n        }\n        chart.remove();\n      }\n    }\n  }, [url,seriesType])\n\n  return(\n    <div className='info-chart'>\n      <div className='chart-title'>\n        <div className='title-label'>{title}</div>\n        <div className='title-value'>{curValue ? `$${convertToInternationalCurrencySystem(curValue)}` : ''} </div>\n        <div className='title-date'>{curDate} </div>\n        </div>\n      <div className='series' ref={chartRef}></div>\n    </div>\n  )\n}\n"],"sourceRoot":""}